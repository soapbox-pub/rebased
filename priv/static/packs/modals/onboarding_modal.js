webpackJsonp([3],{150:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var o=n(2),a=n.n(o),i=n(1),s=n.n(i),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(0),p=n.n(d),h=n(10),g=n.n(h),m=function(e){function t(){var n,o,a;s()(this,t);for(var i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];return n=o=c()(this,e.call.apply(e,[this].concat(r))),o.handleClick=function(){o.props.onClick()},a=n,c()(o,a)}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.icon,n=e.type,o=e.active,i=e.columnHeaderId,s="";return t&&(s=a()("i",{className:"fa fa-fw fa-"+t+" column-header__icon"})),a()("h1",{className:g()("column-header",{active:o}),id:i||null},void 0,a()("button",{onClick:this.handleClick},void 0,s,n))},t}(p.a.PureComponent)},302:function(e,t,n){"use strict";n.d(t,"a",function(){return U});var o,a,i,s=n(2),r=n.n(s),c=n(1),l=n.n(c),u=n(3),d=n.n(u),p=n(4),h=n.n(p),g=n(0),m=n.n(g),f=n(303),v=n(99),b=n(13),y=n.n(b),_=n(5),k=n.n(_),w=n(304),x=n(306),C=n(311),j=n(6),M=n(313),S=n(314),N=n(316),D=n(318),O=n(319),z=n(321),T=n(327),P=n(35),F=n(12),E=n.n(F),I=n(98),R=(n.n(I),n(329)),q=n(11),A=Object(j.f)({placeholder:{id:"compose_form.placeholder",defaultMessage:"What is on your mind?"},spoiler_placeholder:{id:"compose_form.spoiler_placeholder",defaultMessage:"Write your warning here"},publish:{id:"compose_form.publish",defaultMessage:"Toot"},publishLoud:{id:"compose_form.publish_loud",defaultMessage:"{publish}!"}}),U=Object(j.g)((i=a=function(e){function t(){var n,o,a;l()(this,t);for(var i=arguments.length,s=Array(i),r=0;r<i;r++)s[r]=arguments[r];return n=o=d()(this,e.call.apply(e,[this].concat(s))),o.handleChange=function(e){o.props.onChange(e.target.value)},o.handleKeyDown=function(e){13===e.keyCode&&(e.ctrlKey||e.metaKey)&&o.handleSubmit()},o.handleSubmit=function(){o.props.text!==o.autosuggestTextarea.textarea.value&&o.props.onChange(o.autosuggestTextarea.textarea.value),o.props.onSubmit()},o.onSuggestionsClearRequested=function(){o.props.onClearSuggestions()},o.onSuggestionsFetchRequested=function(e){o.props.onFetchSuggestions(e)},o.onSuggestionSelected=function(e,t,n){o._restoreCaret=null,o.props.onSuggestionSelected(e,t,n)},o.handleChangeSpoilerText=function(e){o.props.onChangeSpoilerText(e.target.value)},o.setAutosuggestTextarea=function(e){o.autosuggestTextarea=e},o.handleEmojiPick=function(e){var t=o.autosuggestTextarea.textarea.selectionStart,n=e.native;o._restoreCaret=t+n.length+1,o.props.onPickEmoji(t,e)},a=n,d()(o,a)}return h()(t,e),t.prototype.componentWillReceiveProps=function(e){!e.is_uploading&&this.props.is_uploading&&(this._restoreCaret=this.autosuggestTextarea.textarea.selectionStart)},t.prototype.componentDidUpdate=function(e){if(this.props.focusDate!==e.focusDate||e.is_uploading&&!this.props.is_uploading&&"number"==typeof this._restoreCaret){var t=void 0,n=void 0;this.props.preselectDate!==e.preselectDate?(t=this.props.text.length,n=this.props.text.search(/\s/)+1):"number"==typeof this._restoreCaret?(n=this._restoreCaret,t=this._restoreCaret):(t=this.props.text.length,n=t),this.autosuggestTextarea.textarea.setSelectionRange(n,t),this.autosuggestTextarea.textarea.focus()}else e.is_submitting&&!this.props.is_submitting&&this.autosuggestTextarea.textarea.focus()},t.prototype.render=function(){var e=this.props,t=e.intl,n=e.onPaste,o=e.showSearch,a=e.anyMedia,i=this.props.is_submitting,s=[this.props.spoiler_text,Object(R.a)(this.props.text)].join(""),c=i||this.props.is_uploading||Object(I.length)(s)>q.c||0!==s.length&&0===s.trim().length&&!a,l="";return l="private"===this.props.privacy||"direct"===this.props.privacy?r()("span",{className:"compose-form__publish-private"},void 0,r()("i",{className:"fa fa-lock"})," ",t.formatMessage(A.publish)):"unlisted"!==this.props.privacy?t.formatMessage(A.publishLoud,{publish:t.formatMessage(A.publish)}):t.formatMessage(A.publish),r()("div",{className:"compose-form"},void 0,r()(T.a,{}),r()(M.a,{isVisible:this.props.spoiler,fullHeight:50},void 0,r()("div",{className:"spoiler-input"},void 0,r()("label",{},void 0,r()("span",{style:{display:"none"}},void 0,t.formatMessage(A.spoiler_placeholder)),r()("input",{placeholder:t.formatMessage(A.spoiler_placeholder),value:this.props.spoiler_text,onChange:this.handleChangeSpoilerText,onKeyDown:this.handleKeyDown,type:"text",className:"spoiler-input__input",id:"cw-spoiler-input"})))),r()(w.a,{}),r()("div",{className:"compose-form__autosuggest-wrapper"},void 0,m.a.createElement(x.a,{ref:this.setAutosuggestTextarea,placeholder:t.formatMessage(A.placeholder),disabled:i,value:this.props.text,onChange:this.handleChange,suggestions:this.props.suggestions,onKeyDown:this.handleKeyDown,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionSelected:this.onSuggestionSelected,onPaste:n,autoFocus:!o&&!Object(P.b)(window.innerWidth)}),r()(O.a,{onPickEmoji:this.handleEmojiPick})),r()("div",{className:"compose-form__modifiers"},void 0,r()(z.a,{})),r()("div",{className:"compose-form__buttons-wrapper"},void 0,r()("div",{className:"compose-form__buttons"},void 0,r()(C.a,{}),r()(N.a,{}),r()(D.a,{}),r()(S.a,{})),r()("div",{className:"character-counter__wrapper"},void 0,r()(f.a,{max:q.c,text:s}))),r()("div",{className:"compose-form__publish"},void 0,r()("div",{className:"compose-form__publish-button-wrapper"},void 0,r()(v.a,{text:l,onClick:this.handleSubmit,disabled:c,block:!0}))))},t}(E.a),a.propTypes={intl:k.a.object.isRequired,text:k.a.string.isRequired,suggestion_token:k.a.string,suggestions:y.a.list,spoiler:k.a.bool,privacy:k.a.string,spoiler_text:k.a.string,focusDate:k.a.instanceOf(Date),preselectDate:k.a.instanceOf(Date),is_submitting:k.a.bool,is_uploading:k.a.bool,onChange:k.a.func.isRequired,onSubmit:k.a.func.isRequired,onClearSuggestions:k.a.func.isRequired,onFetchSuggestions:k.a.func.isRequired,onSuggestionSelected:k.a.func.isRequired,onChangeSpoilerText:k.a.func.isRequired,onPaste:k.a.func.isRequired,onPickEmoji:k.a.func.isRequired,showSearch:k.a.bool,anyMedia:k.a.bool},a.defaultProps={showSearch:!1},o=i))||o},303:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var o=n(2),a=n.n(o),i=n(1),s=n.n(i),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(0),p=n.n(d),h=n(98),g=(n.n(h),function(e){function t(){return s()(this,t),c()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.checkRemainingText=function(e){return e<0?a()("span",{className:"character-counter character-counter--over"},void 0,e):a()("span",{className:"character-counter"},void 0,e)},t.prototype.render=function(){var e=this.props.max-Object(h.length)(this.props.text);return this.checkRemainingText(e)},t}(p.a.PureComponent))},304:function(e,t,n){"use strict";var o=n(9),a=n(18),i=n(66),s=n(305),r=function(){var e=Object(i.e)();return function(t){return{status:e(t,t.getIn(["compose","in_reply_to"]))}}},c=function(e){return{onCancel:function(){e(Object(a.E)())}}};t.a=Object(o.connect)(r,c)(s.a)},305:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var o,a,i,s=n(2),r=n.n(s),c=n(1),l=n.n(c),u=n(3),d=n.n(u),p=n(4),h=n.n(p),g=n(0),m=(n.n(g),n(13)),f=n.n(m),v=n(5),b=n.n(v),y=n(56),_=n(23),k=n(55),w=n(6),x=n(12),C=n.n(x),j=n(97),M=Object(w.f)({cancel:{id:"reply_indicator.cancel",defaultMessage:"Cancel"}}),S=Object(w.g)((i=a=function(e){function t(){var n,o,a;l()(this,t);for(var i=arguments.length,s=Array(i),r=0;r<i;r++)s[r]=arguments[r];return n=o=d()(this,e.call.apply(e,[this].concat(s))),o.handleClick=function(){o.props.onCancel()},o.handleAccountClick=function(e){0===e.button&&(e.preventDefault(),o.context.router.history.push("/accounts/"+o.props.status.getIn(["account","id"])))},a=n,d()(o,a)}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.status,n=e.intl;if(!t)return null;var o={__html:t.get("contentHtml")},a={direction:Object(j.a)(t.get("search_index"))?"rtl":"ltr"};return r()("div",{className:"reply-indicator"},void 0,r()("div",{className:"reply-indicator__header"},void 0,r()("div",{className:"reply-indicator__cancel"},void 0,r()(_.a,{title:n.formatMessage(M.cancel),icon:"times",onClick:this.handleClick})),r()("a",{href:t.getIn(["account","url"]),onClick:this.handleAccountClick,className:"reply-indicator__display-name"},void 0,r()("div",{className:"reply-indicator__display-avatar"},void 0,r()(y.a,{account:t.get("account"),size:24})),r()(k.a,{account:t.get("account")}))),r()("div",{className:"reply-indicator__content",style:a,dangerouslySetInnerHTML:o}))},t}(C.a),a.contextTypes={router:b.a.object},a.propTypes={status:f.a.map,onCancel:b.a.func.isRequired,intl:b.a.object.isRequired},o=i))||o},306:function(e,t,n){"use strict";n.d(t,"a",function(){return D});var o,a,i=n(2),s=n.n(i),r=n(32),c=n.n(r),l=n(1),u=n.n(l),d=n(3),p=n.n(d),h=n(4),g=n.n(h),m=n(0),f=(n.n(m),n(307)),v=n(309),b=n(13),y=n.n(b),_=n(5),k=n.n(_),w=n(97),x=n(12),C=n.n(x),j=n(310),M=n(10),S=n.n(M),N=function(e,t){var n=void 0,o=e.slice(0,t).search(/\S+$/),a=e.slice(t).search(/\s/);return!(n=a<0?e.slice(o):e.slice(o,a+t))||n.trim().length<3||-1===["@",":","#"].indexOf(n[0])?[null,null]:(n=n.trim().toLowerCase(),n.length>0?[o+1,n]:[null,null])},D=(a=o=function(e){function t(){var n,o,a;u()(this,t);for(var i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];return n=o=p()(this,e.call.apply(e,[this].concat(r))),o.state={suggestionsHidden:!1,selectedSuggestion:0,lastToken:null,tokenStart:0},o.onChange=function(e){var t=N(e.target.value,e.target.selectionStart),n=t[0],a=t[1];null!==a&&o.state.lastToken!==a?(o.setState({lastToken:a,selectedSuggestion:0,tokenStart:n}),o.props.onSuggestionsFetchRequested(a)):null===a&&(o.setState({lastToken:null}),o.props.onSuggestionsClearRequested()),o.props.onChange(e)},o.onKeyDown=function(e){var t=o.props,n=t.suggestions,a=t.disabled,i=o.state,s=i.selectedSuggestion,r=i.suggestionsHidden;if(a)return void e.preventDefault();switch(e.key){case"Escape":r||(e.preventDefault(),o.setState({suggestionsHidden:!0}));break;case"ArrowDown":n.size>0&&!r&&(e.preventDefault(),o.setState({selectedSuggestion:Math.min(s+1,n.size-1)}));break;case"ArrowUp":n.size>0&&!r&&(e.preventDefault(),o.setState({selectedSuggestion:Math.max(s-1,0)}));break;case"Enter":case"Tab":null!==o.state.lastToken&&n.size>0&&!r&&(e.preventDefault(),e.stopPropagation(),o.props.onSuggestionSelected(o.state.tokenStart,o.state.lastToken,n.get(s)))}!e.defaultPrevented&&o.props.onKeyDown&&o.props.onKeyDown(e)},o.onKeyUp=function(e){"Escape"===e.key&&o.state.suggestionsHidden&&document.querySelector(".ui").parentElement.focus(),o.props.onKeyUp&&o.props.onKeyUp(e)},o.onBlur=function(){o.setState({suggestionsHidden:!0})},o.onSuggestionClick=function(e){var t=o.props.suggestions.get(e.currentTarget.getAttribute("data-index"));e.preventDefault(),o.props.onSuggestionSelected(o.state.tokenStart,o.state.lastToken,t),o.textarea.focus()},o.setTextarea=function(e){o.textarea=e},o.onPaste=function(e){e.clipboardData&&1===e.clipboardData.files.length&&(o.props.onPaste(e.clipboardData.files),e.preventDefault())},o.renderSuggestion=function(e,t){var n=o.state.selectedSuggestion,a=void 0,i=void 0;return"object"===(void 0===e?"undefined":c()(e))?(a=s()(v.a,{emoji:e}),i=e.id):"#"===e[0]?(a=e,i=e):(a=s()(f.a,{id:e}),i=e),s()("div",{role:"button",tabIndex:"0","data-index":t,className:S()("autosuggest-textarea__suggestions__item",{selected:t===n}),onMouseDown:o.onSuggestionClick},i,a)},a=n,p()(o,a)}return g()(t,e),t.prototype.componentWillReceiveProps=function(e){e.suggestions!==this.props.suggestions&&e.suggestions.size>0&&this.state.suggestionsHidden&&this.setState({suggestionsHidden:!1})},t.prototype.render=function(){var e=this.props,t=e.value,n=e.suggestions,o=e.disabled,a=e.placeholder,i=e.autoFocus,r=this.state.suggestionsHidden,c={direction:"ltr"};return Object(w.a)(t)&&(c.direction="rtl"),s()("div",{className:"autosuggest-textarea"},void 0,s()("label",{},void 0,s()("span",{style:{display:"none"}},void 0,a),s()(j.a,{inputRef:this.setTextarea,className:"autosuggest-textarea__textarea",disabled:o,placeholder:a,autoFocus:i,value:t,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onBlur:this.onBlur,onPaste:this.onPaste,style:c,"aria-autocomplete":"list"})),s()("div",{className:"autosuggest-textarea__suggestions "+(r||n.isEmpty()?"":"autosuggest-textarea__suggestions--visible")},void 0,n.map(this.renderSuggestion)))},t}(C.a),o.propTypes={value:k.a.string,suggestions:y.a.list,disabled:k.a.bool,placeholder:k.a.string,onSuggestionSelected:k.a.func.isRequired,onSuggestionsClearRequested:k.a.func.isRequired,onSuggestionsFetchRequested:k.a.func.isRequired,onChange:k.a.func.isRequired,onKeyUp:k.a.func,onKeyDown:k.a.func,onPaste:k.a.func.isRequired,autoFocus:k.a.bool},o.defaultProps={autoFocus:!0},a)},307:function(e,t,n){"use strict";var o=n(9),a=n(308),i=n(66),s=function(){var e=Object(i.c)();return function(t,n){var o=n.id;return{account:e(t,o)}}};t.a=Object(o.connect)(s)(a.a)},308:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var o,a,i=n(2),s=n.n(i),r=n(1),c=n.n(r),l=n(3),u=n.n(l),d=n(4),p=n.n(d),h=n(0),g=(n.n(h),n(56)),m=n(55),f=n(13),v=n.n(f),b=n(12),y=n.n(b),_=(a=o=function(e){function t(){return c()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.render=function(){var e=this.props.account;return s()("div",{className:"autosuggest-account"},void 0,s()("div",{className:"autosuggest-account-icon"},void 0,s()(g.a,{account:e,size:18})),s()(m.a,{account:e}))},t}(y.a),o.propTypes={account:v.a.map.isRequired},a)},309:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f});var o=n(2),a=n.n(o),i=n(1),s=n.n(i),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(0),p=n.n(d),h=n(156),g=n.n(h),m=e.env.CDN_HOST||"",f=function(e){function t(){return s()(this,t),c()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props.emoji,t=void 0;if(e.custom)t=e.imageUrl;else{var n=g.a[e.native]||g.a[e.native.replace(/\uFE0F$/,"")];if(!n)return null;t=m+"/emoji/"+n.filename+".svg"}return a()("div",{className:"autosuggest-emoji"},void 0,a()("img",{className:"emojione",src:t,alt:e.native||e.colons}),e.colons)},t}(p.a.PureComponent)}).call(t,n(36))},310:function(e,t,n){"use strict";function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e,t,n,o,a){void 0===n&&(n=!1),void 0===o&&(o=null),void 0===a&&(a=null),null===h.parentNode&&document.body.appendChild(h);var i=r(e,t,n);if(null===i)return null;var s=i.paddingSize,c=i.borderSize,l=i.boxSizing,u=i.sizingStyle;Object.keys(u).forEach(function(e){h.style[e]=u[e]}),Object.keys(g).forEach(function(e){h.style.setProperty(e,g[e],"important")}),h.value=e.value||e.placeholder||"x";var d=-1/0,p=1/0,m=h.scrollHeight;"border-box"===l?m+=c:"content-box"===l&&(m-=s),h.value="x";var f=h.scrollHeight-s;return null===o&&null===a||(null!==o&&(d=f*o,"border-box"===l&&(d=d+s+c),m=Math.max(d,m)),null!==a&&(p=f*a,"border-box"===l&&(p=p+s+c),m=Math.min(p,m))),{height:m,minHeight:d,maxHeight:p,rowCount:Math.floor(m/f)}}function r(e,t,n){if(void 0===n&&(n=!1),n&&f[t])return f[t];var o=window.getComputedStyle(e);if(null===o)return null;var a=m.reduce(function(e,t){return e[t]=o.getPropertyValue(t),e},{}),i=a["box-sizing"];p&&"border-box"===i&&(a.width=parseFloat(a.width)+parseFloat(o["border-right-width"])+parseFloat(o["border-left-width"])+parseFloat(o["padding-right"])+parseFloat(o["padding-left"])+"px");var s=parseFloat(a["padding-bottom"])+parseFloat(a["padding-top"]),r=parseFloat(a["border-bottom-width"])+parseFloat(a["border-top-width"]),c={sizingStyle:a,paddingSize:s,borderSize:r,boxSizing:i};return n&&(f[t]=c),c}var c=n(0),l=n.n(c),u=n(5),d=(n.n(u),"undefined"!=typeof window&&"undefined"!=typeof document),p=!!d&&!!document.documentElement.currentStyle,h=d&&document.createElement("textarea"),g={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},m=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],f={},v=function(e){return delete f[e]},b=function(e){return void 0===e&&(e=0),function(){return++e}}(),y=function(){},_=d&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],k=_[0],w=_[1],x=function(e){function t(t){var n;return n=e.call(this,t)||this,n._resizeLock=!1,n._onRootDOMNode=function(e){n._rootDOMNode=e,n.props.inputRef&&n.props.inputRef(e)},n._onChange=function(e){n._controlled||n._resizeComponent(),n.props.onChange(e)},n._resizeComponent=function(e){if(void 0===e&&(e=y),void 0===n._rootDOMNode)return void e();var t=s(n._rootDOMNode,n._uid,n.props.useCacheForDOMMeasurements,n.props.minRows,n.props.maxRows);if(null===t)return void e();var o=t.height,a=t.minHeight,i=t.maxHeight,r=t.rowCount;if(n.rowCount=r,n.state.height!==o||n.state.minHeight!==a||n.state.maxHeight!==i)return void n.setState({height:o,minHeight:a,maxHeight:i},e);e()},n.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},n._uid=b(),n._controlled="string"==typeof t.value,n}a(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=(e.minRows,e.maxRows,e.onHeightChange,e.useCacheForDOMMeasurements,e.inputRef,i(e,["minRows","maxRows","onHeightChange","useCacheForDOMMeasurements","inputRef"]));return t.style=o({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),l.a.createElement("textarea",o({},t,{onChange:this._onChange,ref:this._onRootDOMNode}))},n.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent(function(){return e._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener)},n.componentWillReceiveProps=function(){var e=this;this._clearNextFrame(),this._onNextFrameActionId=k(function(){return e._resizeComponent()})},n.componentDidUpdate=function(e,t){this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},n.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),v(this._uid)},n._clearNextFrame=function(){w(this._onNextFrameActionId)},t}(l.a.Component);x.defaultProps={onChange:y,onHeightChange:y,useCacheForDOMMeasurements:!1},t.a=x},311:function(e,t,n){"use strict";var o=n(9),a=n(312),i=n(18),s=function(e){return{disabled:e.getIn(["compose","is_uploading"])||e.getIn(["compose","media_attachments"]).size>3||e.getIn(["compose","media_attachments"]).some(function(e){return"video"===e.get("type")}),resetFileKey:e.getIn(["compose","resetFileKey"])}},r=function(e){return{onSelectFile:function(t){e(Object(i.Z)(t))}}};t.a=Object(o.connect)(s,r)(a.a)},312:function(e,t,n){"use strict";n.d(t,"a",function(){return D});var o,a,i,s,r=n(2),c=n.n(r),l=n(1),u=n.n(l),d=n(3),p=n.n(d),h=n(4),g=n.n(h),m=n(0),f=n.n(m),v=n(23),b=n(5),y=n.n(b),_=n(6),k=n(9),w=n(12),x=n.n(w),C=n(13),j=n.n(C),M=Object(_.f)({upload:{id:"upload_button.label",defaultMessage:"Add media"}}),S=function(){return function(e){return{acceptContentTypes:e.getIn(["media_attachments","accept_content_types"])}}},N={height:null,lineHeight:"27px"},D=(o=Object(k.connect)(S))(a=Object(_.g)((s=i=function(e){function t(){var n,o,a;u()(this,t);for(var i=arguments.length,s=Array(i),r=0;r<i;r++)s[r]=arguments[r];return n=o=p()(this,e.call.apply(e,[this].concat(s))),o.handleChange=function(e){e.target.files.length>0&&o.props.onSelectFile(e.target.files)},o.handleClick=function(){o.fileElement.click()},o.setRef=function(e){o.fileElement=e},a=n,p()(o,a)}return g()(t,e),t.prototype.render=function(){var e=this.props,t=e.intl,n=e.resetFileKey,o=e.disabled,a=e.acceptContentTypes;return c()("div",{className:"compose-form__upload-button"},void 0,c()(v.a,{icon:"camera",title:t.formatMessage(M.upload),disabled:o,onClick:this.handleClick,className:"compose-form__upload-button-icon",size:18,inverted:!0,style:N}),c()("label",{},void 0,c()("span",{style:{display:"none"}},void 0,t.formatMessage(M.upload)),f.a.createElement("input",{key:n,ref:this.setRef,type:"file",multiple:!1,accept:a.toArray().join(","),onChange:this.handleChange,disabled:o,style:{display:"none"}})))},t}(x.a),i.propTypes={disabled:y.a.bool,onSelectFile:y.a.func.isRequired,style:y.a.object,resetFileKey:y.a.number,acceptContentTypes:j.a.listOf(y.a.string).isRequired,intl:y.a.object.isRequired},a=s))||a)||a},313:function(e,t,n){"use strict";var o=n(2),a=n.n(o),i=n(0),s=(n.n(i),n(28)),r=n(27),c=n.n(r),l=function(e){var t=e.fullHeight,n=e.isVisible,o=e.children;return a()(s.a,{defaultStyle:{opacity:n?100:0,height:n?t:0},style:{opacity:c()(n?100:0),height:c()(n?t:0)}},void 0,function(e){var t=e.opacity,n=e.height;return a()("div",{style:{height:n+"px",overflow:"hidden",opacity:t/100,display:0===Math.floor(t)?"none":"block"}},void 0,o)})};t.a=l},314:function(e,t,n){"use strict";var o=n(9),a=n(315),i=n(18),s=n(6),r=Object(s.f)({marked:{id:"compose_form.spoiler.marked",defaultMessage:"Text is hidden behind warning"},unmarked:{id:"compose_form.spoiler.unmarked",defaultMessage:"Text is not hidden"}}),c=function(e,t){return{label:"CW",title:t.intl.formatMessage(e.getIn(["compose","spoiler"])?r.marked:r.unmarked),active:e.getIn(["compose","spoiler"]),ariaControls:"cw-spoiler-input"}},l=function(e){return{onClick:function(){e(Object(i.I)())}}};t.a=Object(s.g)(Object(o.connect)(c,l)(a.a))},315:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var o=n(2),a=n.n(o),i=n(1),s=n.n(i),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(0),p=n.n(d),h=function(e){function t(){var n,o,a;s()(this,t);for(var i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];return n=o=c()(this,e.call.apply(e,[this].concat(r))),o.handleClick=function(e){e.preventDefault(),o.props.onClick()},a=n,c()(o,a)}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.title,o=e.active,i=e.ariaControls;return a()("button",{title:n,"aria-label":n,className:"text-icon-button "+(o?"active":""),"aria-expanded":o,onClick:this.handleClick,"aria-controls":i},void 0,t)},t}(p.a.PureComponent)},316:function(e,t,n){"use strict";var o=n(9),a=n(317),i=n(18),s=n(26),r=n(35),c=function(e){return{isModalOpen:"ACTIONS"===e.get("modal").modalType,value:e.getIn(["compose","privacy"])}},l=function(e){return{onChange:function(t){e(Object(i.J)(t))},isUserTouching:r.c,onModalOpen:function(t){return e(Object(s.d)("ACTIONS",t))},onModalClose:function(){return e(Object(s.c)())}}};t.a=Object(o.connect)(c,l)(a.a)},317:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var o,a=n(2),i=n.n(a),s=n(1),r=n.n(s),c=n(3),l=n.n(c),u=n(4),d=n.n(u),p=n(0),h=n.n(p),g=n(6),m=n(23),f=n(96),v=n.n(f),b=n(28),y=n(27),_=n.n(y),k=n(46),w=n.n(k),x=n(10),C=n.n(x),j=Object(g.f)({public_short:{id:"privacy.public.short",defaultMessage:"Public"},public_long:{id:"privacy.public.long",defaultMessage:"Post to public timelines"},unlisted_short:{id:"privacy.unlisted.short",defaultMessage:"Unlisted"},unlisted_long:{id:"privacy.unlisted.long",defaultMessage:"Do not show in public timelines"},private_short:{id:"privacy.private.short",defaultMessage:"Followers-only"},private_long:{id:"privacy.private.long",defaultMessage:"Post to followers only"},direct_short:{id:"privacy.direct.short",defaultMessage:"Direct"},direct_long:{id:"privacy.direct.long",defaultMessage:"Post to mentioned users only"},change_privacy:{id:"privacy.change",defaultMessage:"Adjust status privacy"}}),M=!!w.a.hasSupport&&{passive:!0},S=function(e){function t(){var n,o,a;r()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=o=l()(this,e.call.apply(e,[this].concat(s))),o.handleDocumentClick=function(e){o.node&&!o.node.contains(e.target)&&o.props.onClose()},o.handleClick=function(e){if("Escape"===e.key)o.props.onClose();else if(!e.key||"Enter"===e.key){var t=e.currentTarget.getAttribute("data-index");e.preventDefault(),o.props.onClose(),o.props.onChange(t)}},o.setRef=function(e){o.node=e},a=n,l()(o,a)}return d()(t,e),t.prototype.componentDidMount=function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,M)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,M)},t.prototype.render=function(){var e=this,t=this.props,n=t.style,o=t.items,a=t.value;return i()(b.a,{defaultStyle:{opacity:0,scaleX:.85,scaleY:.75},style:{opacity:_()(1,{damping:35,stiffness:400}),scaleX:_()(1,{damping:35,stiffness:400}),scaleY:_()(1,{damping:35,stiffness:400})}},void 0,function(t){var s=t.opacity,r=t.scaleX,c=t.scaleY;return h.a.createElement("div",{className:"privacy-dropdown__dropdown",style:Object.assign({},n,{opacity:s,transform:"scale("+r+", "+c+")"}),ref:e.setRef},o.map(function(t){return i()("div",{role:"button",tabIndex:"0","data-index":t.value,onKeyDown:e.handleClick,onClick:e.handleClick,className:C()("privacy-dropdown__option",{active:t.value===a})},t.value,i()("div",{className:"privacy-dropdown__option__icon"},void 0,i()("i",{className:"fa fa-fw fa-"+t.icon})),i()("div",{className:"privacy-dropdown__option__content"},void 0,i()("strong",{},void 0,t.text),t.meta))}))})},t}(h.a.PureComponent),N=Object(g.g)(o=function(e){function t(){var n,o,a;r()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=o=l()(this,e.call.apply(e,[this].concat(s))),o.state={open:!1},o.handleToggle=function(){o.props.isUserTouching()?o.state.open?o.props.onModalClose():o.props.onModalOpen({actions:o.options.map(function(e){return Object.assign({},e,{active:e.value===o.props.value})}),onClick:o.handleModalActionClick}):o.setState({open:!o.state.open})},o.handleModalActionClick=function(e){e.preventDefault();var t=o.options[e.currentTarget.getAttribute("data-index")].value;o.props.onModalClose(),o.props.onChange(t)},o.handleKeyDown=function(e){switch(e.key){case"Enter":o.handleToggle();break;case"Escape":o.handleClose()}},o.handleClose=function(){o.setState({open:!1})},o.handleChange=function(e){o.props.onChange(e)},a=n,l()(o,a)}return d()(t,e),t.prototype.componentWillMount=function(){var e=this.props.intl.formatMessage;this.options=[{icon:"globe",value:"public",text:e(j.public_short),meta:e(j.public_long)},{icon:"unlock-alt",value:"unlisted",text:e(j.unlisted_short),meta:e(j.unlisted_long)},{icon:"lock",value:"private",text:e(j.private_short),meta:e(j.private_long)},{icon:"envelope",value:"direct",text:e(j.direct_short),meta:e(j.direct_long)}]},t.prototype.render=function(){var e=this.props,t=e.value,n=e.intl,o=this.state.open,a=this.options.find(function(e){return e.value===t});return i()("div",{className:C()("privacy-dropdown",{active:o}),onKeyDown:this.handleKeyDown},void 0,i()("div",{className:C()("privacy-dropdown__value",{active:0===this.options.indexOf(a)})},void 0,i()(m.a,{className:"privacy-dropdown__value-icon",icon:a.icon,title:n.formatMessage(j.change_privacy),size:18,expanded:o,active:o,inverted:!0,onClick:this.handleToggle,style:{height:null,lineHeight:"27px"}})),i()(v.a,{show:o,placement:"bottom",target:this},void 0,i()(S,{items:this.options,value:t,onClose:this.handleClose,onChange:this.handleChange})))},t}(h.a.PureComponent))||o},318:function(e,t,n){"use strict";var o=n(2),a=n.n(o),i=n(1),s=n.n(i),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(0),p=n.n(d),h=n(9),g=n(10),m=n.n(g),f=n(23),v=n(18),b=n(28),y=n(27),_=n.n(y),k=n(6),w=Object(k.f)({marked:{id:"compose_form.sensitive.marked",defaultMessage:"Media is marked as sensitive"},unmarked:{id:"compose_form.sensitive.unmarked",defaultMessage:"Media is not marked as sensitive"}}),x=function(e){return{visible:e.getIn(["compose","media_attachments"]).size>0,active:e.getIn(["compose","sensitive"]),disabled:e.getIn(["compose","spoiler"])}},C=function(e){return{onClick:function(){e(Object(v.G)())}}},j=function(e){function t(){return s()(this,t),c()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.visible,n=e.active,o=e.disabled,i=e.onClick,s=e.intl;return a()(b.a,{defaultStyle:{scale:.87},style:{scale:_()(t?1:.87,{stiffness:200,damping:3})}},void 0,function(e){var r=e.scale,c=n?"eye-slash":"eye",l=m()("compose-form__sensitive-button",{"compose-form__sensitive-button--visible":t});return a()("div",{className:l,style:{transform:"scale("+r+")"}},void 0,a()(f.a,{className:"compose-form__sensitive-button__icon",title:s.formatMessage(n?w.marked:w.unmarked),icon:c,onClick:i,size:18,active:n,disabled:o,style:{lineHeight:null,height:null},inverted:!0}))})},t}(p.a.PureComponent);t.a=Object(h.connect)(x,C)(Object(k.g)(j))},319:function(e,t,n){"use strict";var o=n(9),a=n(320),i=n(57),s=n(95),r=(n.n(s),n(8)),c=(n.n(r),n(100)),l=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","yum","disappointed","thinking_face","weary","sob","sunglasses","heart","ok_hand"],u=Object(s.createSelector)([function(e){return e.getIn(["settings","frequentlyUsedEmojis"],Object(r.Map)())}],function(e){var t=e.keySeq().sort(function(t,n){return e.get(t)-e.get(n)}).reverse().slice(0,16).toArray();return t.length<l.length&&(t=t.concat(l.slice(0,l.length-t.length))),t}),d=Object(s.createSelector)([function(e){return e.get("custom_emojis")}],function(e){return e.filter(function(e){return e.get("visible_in_picker")}).sort(function(e,t){var n=e.get("shortcode").toLowerCase(),o=t.get("shortcode").toLowerCase();return n<o?-1:n>o?1:0})}),p=function(e){return{custom_emojis:d(e),skinTone:e.getIn(["settings","skinTone"]),frequentlyUsedEmojis:u(e)}},h=function(e,t){var n=t.onPickEmoji;return{onSkinTone:function(t){e(Object(i.c)(["skinTone"],t))},onPickEmoji:function(t){e(Object(c.b)(t)),n&&n(t)}}};t.a=Object(o.connect)(p,h)(a.a)},320:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return I});var o,a,i,s,r=n(2),c=n.n(r),l=n(1),u=n.n(l),d=n(3),p=n.n(d),h=n(4),g=n.n(h),m=n(0),f=n.n(m),v=n(6),b=n(58),y=n(96),_=n.n(y),k=n(10),w=n.n(k),x=n(46),C=n.n(x),j=n(71),M=Object(v.f)({emoji:{id:"emoji_button.label",defaultMessage:"Insert emoji"},emoji_search:{id:"emoji_button.search",defaultMessage:"Search..."},emoji_not_found:{id:"emoji_button.not_found",defaultMessage:"No emojos!! (‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª"},custom:{id:"emoji_button.custom",defaultMessage:"Custom"},recent:{id:"emoji_button.recent",defaultMessage:"Frequently used"},search_results:{id:"emoji_button.search_results",defaultMessage:"Search results"},people:{id:"emoji_button.people",defaultMessage:"People"},nature:{id:"emoji_button.nature",defaultMessage:"Nature"},food:{id:"emoji_button.food",defaultMessage:"Food & Drink"},activity:{id:"emoji_button.activity",defaultMessage:"Activity"},travel:{id:"emoji_button.travel",defaultMessage:"Travel & Places"},objects:{id:"emoji_button.objects",defaultMessage:"Objects"},symbols:{id:"emoji_button.symbols",defaultMessage:"Symbols"},flags:{id:"emoji_button.flags",defaultMessage:"Flags"}}),S=e.env.CDN_HOST||"",N=void 0,D=void 0,O=function(){return S+"/emoji/sheet.png"},z=!!C.a.hasSupport&&{passive:!0},T=["recent","custom","people","nature","foods","activity","places","objects","symbols","flags"],P=function(e){function t(){var n,o,a;u()(this,t);for(var i=arguments.length,s=Array(i),r=0;r<i;r++)s[r]=arguments[r];return n=o=p()(this,e.call.apply(e,[this].concat(s))),o.handleClick=function(e){o.props.onSelect(1*e.currentTarget.getAttribute("data-index"))},o.handleDocumentClick=function(e){o.node&&!o.node.contains(e.target)&&o.props.onClose()},o.setRef=function(e){o.node=e},a=n,p()(o,a)}return g()(t,e),t.prototype.componentWillReceiveProps=function(e){e.active?this.attachListeners():this.removeListeners()},t.prototype.componentWillUnmount=function(){this.removeListeners()},t.prototype.attachListeners=function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,z)},t.prototype.removeListeners=function(){document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,z)},t.prototype.render=function(){var e=this.props.active;return f.a.createElement("div",{className:"emoji-picker-dropdown__modifiers__menu",style:{display:e?"block":"none"},ref:this.setRef},c()("button",{onClick:this.handleClick,"data-index":1},void 0,c()(D,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:1,backgroundImageFn:O})),c()("button",{onClick:this.handleClick,"data-index":2},void 0,c()(D,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:2,backgroundImageFn:O})),c()("button",{onClick:this.handleClick,"data-index":3},void 0,c()(D,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:3,backgroundImageFn:O})),c()("button",{onClick:this.handleClick,"data-index":4},void 0,c()(D,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:4,backgroundImageFn:O})),c()("button",{onClick:this.handleClick,"data-index":5},void 0,c()(D,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:5,backgroundImageFn:O})),c()("button",{onClick:this.handleClick,"data-index":6},void 0,c()(D,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:6,backgroundImageFn:O})))},t}(f.a.PureComponent),F=function(e){function t(){var n,o,a;u()(this,t);for(var i=arguments.length,s=Array(i),r=0;r<i;r++)s[r]=arguments[r];return n=o=p()(this,e.call.apply(e,[this].concat(s))),o.handleClick=function(){o.props.active?o.props.onClose():o.props.onOpen()},o.handleSelect=function(e){o.props.onChange(e),o.props.onClose()},a=n,p()(o,a)}return g()(t,e),t.prototype.render=function(){var e=this.props,t=e.active,n=e.modifier;return c()("div",{className:"emoji-picker-dropdown__modifiers"},void 0,c()(D,{emoji:"fist",set:"twitter",size:22,sheetSize:32,skin:n,onClick:this.handleClick,backgroundImageFn:O}),c()(P,{active:t,onSelect:this.handleSelect,onClose:this.props.onClose}))},t}(f.a.PureComponent),E=Object(v.g)((i=a=function(e){function t(){var n,o,a;u()(this,t);for(var i=arguments.length,s=Array(i),r=0;r<i;r++)s[r]=arguments[r];return n=o=p()(this,e.call.apply(e,[this].concat(s))),o.state={modifierOpen:!1},o.handleDocumentClick=function(e){o.node&&!o.node.contains(e.target)&&o.props.onClose()},o.setRef=function(e){o.node=e},o.getI18n=function(){var e=o.props.intl;return{search:e.formatMessage(M.emoji_search),notfound:e.formatMessage(M.emoji_not_found),categories:{search:e.formatMessage(M.search_results),recent:e.formatMessage(M.recent),people:e.formatMessage(M.people),nature:e.formatMessage(M.nature),foods:e.formatMessage(M.food),activity:e.formatMessage(M.activity),places:e.formatMessage(M.travel),objects:e.formatMessage(M.objects),symbols:e.formatMessage(M.symbols),flags:e.formatMessage(M.flags),custom:e.formatMessage(M.custom)}}},o.handleClick=function(e){e.native||(e.native=e.colons),o.props.onClose(),o.props.onPick(e)},o.handleModifierOpen=function(){o.setState({modifierOpen:!0})},o.handleModifierClose=function(){o.setState({modifierOpen:!1})},o.handleModifierChange=function(e){o.props.onSkinTone(e)},a=n,p()(o,a)}return g()(t,e),t.prototype.componentDidMount=function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,z)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,z)},t.prototype.render=function(){var e=this.props,t=e.loading,n=e.style,o=e.intl,a=e.custom_emojis,i=e.skinTone,s=e.frequentlyUsedEmojis;if(t)return c()("div",{style:{width:299}});var r=o.formatMessage(M.emoji),l=this.state.modifierOpen;return f.a.createElement("div",{className:w()("emoji-picker-dropdown__menu",{selecting:l}),style:n,ref:this.setRef},c()(N,{perLine:8,emojiSize:22,sheetSize:32,custom:Object(j.buildCustomEmojis)(a),color:"",emoji:"",set:"twitter",title:r,i18n:this.getI18n(),onClick:this.handleClick,include:T,recent:s,skin:i,showPreview:!1,backgroundImageFn:O,emojiTooltip:!0}),c()(F,{active:l,modifier:i,onOpen:this.handleModifierOpen,onClose:this.handleModifierClose,onChange:this.handleModifierChange}))},t}(f.a.PureComponent),a.defaultProps={style:{},loading:!0,placement:"bottom",frequentlyUsedEmojis:[]},o=i))||o,I=Object(v.g)(s=function(e){function t(){var n,o,a;u()(this,t);for(var i=arguments.length,s=Array(i),r=0;r<i;r++)s[r]=arguments[r];return n=o=p()(this,e.call.apply(e,[this].concat(s))),o.state={active:!1,loading:!1},o.setRef=function(e){o.dropdown=e},o.onShowDropdown=function(){o.setState({active:!0}),N||(o.setState({loading:!0}),Object(b.f)().then(function(e){N=e.Picker,D=e.Emoji,o.setState({loading:!1})}).catch(function(){o.setState({loading:!1})}))},o.onHideDropdown=function(){o.setState({active:!1})},o.onToggle=function(e){o.state.loading||e.key&&"Enter"!==e.key||(o.state.active?o.onHideDropdown():o.onShowDropdown())},o.handleKeyDown=function(e){"Escape"===e.key&&o.onHideDropdown()},o.setTargetRef=function(e){o.target=e},o.findTarget=function(){return o.target},a=n,p()(o,a)}return g()(t,e),t.prototype.render=function(){var e=this.props,t=e.intl,n=e.onPickEmoji,o=e.onSkinTone,a=e.skinTone,i=e.frequentlyUsedEmojis,s=t.formatMessage(M.emoji),r=this.state,l=r.active,u=r.loading;return c()("div",{className:"emoji-picker-dropdown",onKeyDown:this.handleKeyDown},void 0,f.a.createElement("div",{ref:this.setTargetRef,className:"emoji-button",title:s,"aria-label":s,"aria-expanded":l,role:"button",onClick:this.onToggle,onKeyDown:this.onToggle,tabIndex:0},c()("img",{className:w()("emojione",{"pulse-loading":l&&u}),alt:"üôÇ",src:S+"/emoji/1f602.svg"})),c()(_.a,{show:l,placement:"bottom",target:this.findTarget},void 0,c()(E,{custom_emojis:this.props.custom_emojis,loading:u,onClose:this.onHideDropdown,onPick:n,onSkinTone:o,skinTone:a,frequentlyUsedEmojis:i})))},t}(f.a.PureComponent))||s}).call(t,n(36))},321:function(e,t,n){"use strict";var o=n(9),a=n(322),i=function(e){return{mediaIds:e.getIn(["compose","media_attachments"]).map(function(e){return e.get("id")})}};t.a=Object(o.connect)(i)(a.a)},322:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var o,a,i=n(2),s=n.n(i),r=n(1),c=n.n(r),l=n(3),u=n.n(l),d=n(4),p=n.n(d),h=n(0),g=(n.n(h),n(13)),m=n.n(g),f=n(323),v=n(12),b=n.n(v),y=n(325),_=(a=o=function(e){function t(){return c()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.render=function(){var e=this.props.mediaIds;return s()("div",{className:"compose-form__upload-wrapper"},void 0,s()(f.a,{}),s()("div",{className:"compose-form__uploads-wrapper"},void 0,e.map(function(e){return s()(y.a,{id:e},e)})))},t}(b.a),o.propTypes={mediaIds:m.a.list.isRequired},a)},323:function(e,t,n){"use strict";var o=n(9),a=n(324),i=function(e){return{active:e.getIn(["compose","is_uploading"]),progress:e.getIn(["compose","progress"])}};t.a=Object(o.connect)(i)(a.a)},324:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var o=n(2),a=n.n(o),i=n(1),s=n.n(i),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(0),p=n.n(d),h=n(28),g=n(27),m=n.n(g),f=n(6),v=function(e){function t(){return s()(this,t),c()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.active,n=e.progress;return t?a()("div",{className:"upload-progress"},void 0,a()("div",{className:"upload-progress__icon"},void 0,a()("i",{className:"fa fa-upload"})),a()("div",{className:"upload-progress__message"},void 0,a()(f.b,{id:"upload_progress.label",defaultMessage:"Uploading..."}),a()("div",{className:"upload-progress__backdrop"},void 0,a()(h.a,{defaultStyle:{width:0},style:{width:m()(n)}},void 0,function(e){var t=e.width;return a()("div",{className:"upload-progress__tracker",style:{width:t+"%"}})})))):null},t}(p.a.PureComponent)},325:function(e,t,n){"use strict";var o=n(9),a=n(326),i=n(18),s=n(26),r=function(e,t){var n=t.id;return{media:e.getIn(["compose","media_attachments"]).find(function(e){return e.get("id")===n})}},c=function(e){return{onUndo:function(t){e(Object(i.X)(t))},onDescriptionChange:function(t,n){e(Object(i.L)(t,{description:n}))},onOpenFocalPoint:function(t){e(Object(s.d)("FOCAL_POINT",{id:t}))}}};t.a=Object(o.connect)(r,c)(a.a)},326:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var o,a,i,s=n(2),r=n.n(s),c=n(1),l=n.n(c),u=n(3),d=n.n(u),p=n(4),h=n.n(p),g=n(0),m=(n.n(g),n(13)),f=n.n(m),v=n(5),b=n.n(v),y=n(28),_=n(27),k=n.n(_),w=n(12),x=n.n(w),C=n(6),j=n(10),M=n.n(j),S=Object(C.f)({description:{id:"upload_form.description",defaultMessage:"Describe for the visually impaired"}}),N=Object(C.g)((i=a=function(e){function t(){var n,o,a;l()(this,t);for(var i=arguments.length,s=Array(i),r=0;r<i;r++)s[r]=arguments[r];return n=o=d()(this,e.call.apply(e,[this].concat(s))),o.state={hovered:!1,focused:!1,dirtyDescription:null},o.handleUndoClick=function(){o.props.onUndo(o.props.media.get("id"))},o.handleFocalPointClick=function(){o.props.onOpenFocalPoint(o.props.media.get("id"))},o.handleInputChange=function(e){o.setState({dirtyDescription:e.target.value})},o.handleMouseEnter=function(){o.setState({hovered:!0})},o.handleMouseLeave=function(){o.setState({hovered:!1})},o.handleInputFocus=function(){o.setState({focused:!0})},o.handleInputBlur=function(){var e=o.state.dirtyDescription;o.setState({focused:!1,dirtyDescription:null}),null!==e&&o.props.onDescriptionChange(o.props.media.get("id"),e)},a=n,d()(o,a)}return h()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.intl,o=t.media,a=this.state.hovered||this.state.focused,i=this.state.dirtyDescription||""!==this.state.dirtyDescription&&o.get("description")||"",s=o.getIn(["meta","focus","x"]),c=o.getIn(["meta","focus","y"]),l=100*(s/2+.5),u=100*(c/-2+.5);return r()("div",{className:"compose-form__upload",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,r()(y.a,{defaultStyle:{scale:.8},style:{scale:k()(1,{stiffness:180,damping:12})}},void 0,function(t){var s=t.scale;return r()("div",{className:"compose-form__upload-thumbnail",style:{transform:"scale("+s+")",backgroundImage:"url("+o.get("preview_url")+")",backgroundPosition:l+"% "+u+"%"}},void 0,r()("div",{className:M()("compose-form__upload__actions",{active:a})},void 0,r()("button",{className:"icon-button",onClick:e.handleUndoClick},void 0,r()("i",{className:"fa fa-times"})," ",r()(C.b,{id:"upload_form.undo",defaultMessage:"Undo"})),"image"===o.get("type")&&r()("button",{className:"icon-button",onClick:e.handleFocalPointClick},void 0,r()("i",{className:"fa fa-crosshairs"})," ",r()(C.b,{id:"upload_form.focus",defaultMessage:"Crop"}))),r()("div",{className:M()("compose-form__upload-description",{active:a})},void 0,r()("label",{},void 0,r()("span",{style:{display:"none"}},void 0,n.formatMessage(S.description)),r()("input",{placeholder:n.formatMessage(S.description),type:"text",value:i,maxLength:420,onFocus:e.handleInputFocus,onChange:e.handleInputChange,onBlur:e.handleInputBlur}))))}))},t}(x.a),a.propTypes={media:f.a.map.isRequired,intl:b.a.object.isRequired,onUndo:b.a.func.isRequired,onDescriptionChange:b.a.func.isRequired,onOpenFocalPoint:b.a.func.isRequired},o=i))||o},327:function(e,t,n){"use strict";var o=n(2),a=n.n(o),i=n(0),s=(n.n(i),n(9)),r=n(328),c=n(6),l=n(11),u=/(?:^|[^\/\)\w])#(\w*[a-zA-Z¬∑]\w*)/i,d=function(e){return{needsLockWarning:"private"===e.getIn(["compose","privacy"])&&!e.getIn(["accounts",l.g,"locked"]),hashtagWarning:"public"!==e.getIn(["compose","privacy"])&&u.test(e.getIn(["compose","text"])),directMessageWarning:"direct"===e.getIn(["compose","privacy"])}},p=function(e){var t=e.needsLockWarning,n=e.hashtagWarning,o=e.directMessageWarning;return t?a()(r.a,{message:a()(c.b,{id:"compose_form.lock_disclaimer",defaultMessage:"Your account is not {locked}. Anyone can follow you to view your follower-only posts.",values:{locked:a()("a",{href:"/settings/profile"},void 0,a()(c.b,{id:"compose_form.lock_disclaimer.lock",defaultMessage:"locked"}))}})}):n?a()(r.a,{message:a()(c.b,{id:"compose_form.hashtag_warning",defaultMessage:"This toot won't be listed under any hashtag as it is unlisted. Only public toots can be searched by hashtag."})}):o?a()(r.a,{message:a()(c.b,{id:"compose_form.direct_message_warning",defaultMessage:"This toot will only be visible to all the mentioned users."})}):null};t.a=Object(s.connect)(d)(p)},328:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n(2),a=n.n(o),i=n(1),s=n.n(i),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(0),p=n.n(d),h=n(28),g=n(27),m=n.n(g),f=function(e){function t(){return s()(this,t),c()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props.message;return a()(h.a,{defaultStyle:{opacity:0,scaleX:.85,scaleY:.75},style:{opacity:m()(1,{damping:35,stiffness:400}),scaleX:m()(1,{damping:35,stiffness:400}),scaleY:m()(1,{damping:35,stiffness:400})}},void 0,function(t){var n=t.opacity,o=t.scaleX,i=t.scaleY;return a()("div",{className:"compose-form__warning",style:{opacity:n,transform:"scale("+o+", "+i+")"}},void 0,e)})},t}(p.a.PureComponent)},329:function(e,t,n){"use strict";function o(e){return e.replace(a.a,i).replace(/(^|[^\/\w])@(([a-z0-9_]+)@[a-z0-9\.\-]+[a-z0-9]+)/gi,"$1@$3")}t.a=o;var a=n(330),i="xxxxxxxxxxxxxxxxxxxxxxx"},330:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o={},a=function(e,t){return t=t||"","string"!=typeof e&&(e.global&&t.indexOf("g")<0&&(t+="g"),e.ignoreCase&&t.indexOf("i")<0&&(t+="i"),e.multiline&&t.indexOf("m")<0&&(t+="m"),e=e.source),new RegExp(e.replace(/#\{(\w+)\}/g,function(e,t){var n=o[t]||"";return"string"!=typeof n&&(n=n.source),n}),t)},i=function(e,t){return e.replace(/#\{(\w+)\}/g,function(e,n){return t[n]||""})},s=function(){return o.spaces_group=/\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000/,o.invalid_chars_group=/\uFFFE\uFEFF\uFFFF\u202A-\u202E/,o.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,o.validUrlPrecedingChars=a(/(?:[^A-Za-z0-9@Ôº†$#ÔºÉ#{invalid_chars_group}]|^)/),o.invalidDomainChars=i("#{punct}#{spaces_group}#{invalid_chars_group}",o),o.validDomainChars=a(/[^#{invalidDomainChars}]/),o.validSubdomain=a(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),o.validDomainName=a(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),o.validGTLD=a(RegExp("(?:(?:ÏÇºÏÑ±|Îã∑Ïª¥|Îã∑ÎÑ∑|È¶ôÊ†ºÈáåÊãâ|È§êÂéÖ|È£üÂìÅ|È£ûÂà©Êµ¶|ÈõªË®äÁõàÁßë|ÈõÜÂõ¢|ÈÄöË≤©|Ë¥≠Áâ©|Ë∞∑Ê≠å|ËØ∫Âü∫‰∫ö|ËÅîÈÄö|ÁΩëÁªú|ÁΩëÁ´ô|ÁΩëÂ∫ó|ÁΩëÂùÄ|ÁªÑÁªáÊú∫ÊûÑ|ÁßªÂä®|Áè†ÂÆù|ÁÇπÁúã|Ê∏∏Êàè|Ê∑°È©¨Èî°|Êú∫ÊûÑ|Êõ∏Á±ç|Êó∂Â∞ö|Êñ∞Èóª|ÊîøÂ∫ú|ÊîøÂä°|ÊâãË°®|ÊâãÊú∫|ÊàëÁà±‰Ω†|ÊÖàÂñÑ|ÂæÆÂçö|Âπø‰∏ú|Â∑•Ë°å|ÂÆ∂Èõª|Â®±‰πê|Â§©‰∏ªÊïô|Â§ßÊãø|Â§ß‰ºóÊ±ΩËΩ¶|Âú®Á∫ø|ÂòâÈáåÂ§ßÈÖíÂ∫ó|ÂòâÈáå|ÂïÜÊ†á|ÂïÜÂ∫ó|ÂïÜÂüé|ÂÖ¨Áõä|ÂÖ¨Âè∏|ÂÖ´Âç¶|ÂÅ•Â∫∑|‰ø°ÊÅØ|‰ΩõÂ±±|‰ºÅ‰∏ö|‰∏≠ÊñáÁΩë|‰∏≠‰ø°|‰∏ñÁïå|„Éù„Ç§„É≥„Éà|„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥|„Çª„Éº„É´|„Çπ„Éà„Ç¢|„Ç≥„É†|„Ç∞„Éº„Ç∞„É´|„ÇØ„É©„Ç¶„Éâ|„Åø„Çì„Å™|‡∏Ñ‡∏≠‡∏°|‡§∏‡§Ç‡§ó‡§†‡§®|‡§®‡•á‡§ü|‡§ï‡•â‡§Æ|ŸáŸÖÿ±ÿßŸá|ŸÖŸàŸÇÿπ|ŸÖŸàÿ®ÿßŸäŸÑŸä|ŸÉŸàŸÖ|ŸÉÿßÿ´ŸàŸÑŸäŸÉ|ÿπÿ±ÿ®|ÿ¥ÿ®ŸÉÿ©|ÿ®Ÿäÿ™ŸÉ|ÿ®ÿßÿ≤ÿßÿ±|ÿßŸÑÿπŸÑŸäÿßŸÜ|ÿßÿ±ÿßŸÖŸÉŸà|ÿßÿ™ÿµÿßŸÑÿßÿ™|ÿßÿ®Ÿàÿ∏ÿ®Ÿä|◊ß◊ï◊ù|—Å–∞–π—Ç|—Ä—É—Å|–æ—Ä–≥|–æ–Ω–ª–∞–π–Ω|–º–æ—Å–∫–≤–∞|–∫–æ–º|–∫–∞—Ç–æ–ª–∏–∫|–¥–µ—Ç–∏|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|verm√∂gensberatung|verm√∂gensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rugby|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|grocery|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|etisalat|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|army|archi|aramco|arab|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|africa|afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion)(?=[^0-9a-zA-Z@]|$))")),o.validCCTLD=a(RegExp("(?:(?:ÌïúÍµ≠|È¶ôÊ∏Ø|Êæ≥ÈñÄ|Êñ∞Âä†Âù°|Âè∞ÁÅ£|Âè∞Êπæ|‰∏≠Âúã|‰∏≠ÂõΩ|·Éí·Éî|‡πÑ‡∏ó‡∏¢|‡∂Ω‡∂Ç‡∂ö‡∑è|‡¥≠‡¥æ‡¥∞‡¥§‡¥Ç|‡≤≠‡≤æ‡≤∞‡≤§|‡∞≠‡∞æ‡∞∞‡∞§‡±ç|‡Æö‡Æø‡Æô‡Øç‡Æï‡Æ™‡Øç‡Æ™‡ØÇ‡Æ∞‡Øç|‡Æá‡Æ≤‡Æô‡Øç‡Æï‡Øà|‡Æá‡Æ®‡Øç‡Æ§‡Æø‡ÆØ‡Ææ|‡¨≠‡¨æ‡¨∞‡¨§|‡™≠‡™æ‡™∞‡™§|‡®≠‡®æ‡®∞‡®§|‡¶≠‡¶æ‡ß∞‡¶§|‡¶≠‡¶æ‡¶∞‡¶§|‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ|‡§≠‡§æ‡§∞‡•ã‡§§|‡§≠‡§æ‡§∞‡§§‡§Æ‡•ç|‡§≠‡§æ‡§∞‡§§|⁄Äÿßÿ±ÿ™|Ÿæÿß⁄©ÿ≥ÿ™ÿßŸÜ|ŸÖŸÑŸäÿ≥Ÿäÿß|ŸÖÿµÿ±|ŸÇÿ∑ÿ±|ŸÅŸÑÿ≥ÿ∑ŸäŸÜ|ÿπŸÖÿßŸÜ|ÿπÿ±ÿßŸÇ|ÿ≥Ÿàÿ±Ÿäÿ©|ÿ≥ŸàÿØÿßŸÜ|ÿ™ŸàŸÜÿ≥|ÿ®⁄æÿßÿ±ÿ™|ÿ®ÿßÿ±ÿ™|ÿß€åÿ±ÿßŸÜ|ÿßŸÖÿßÿ±ÿßÿ™|ÿßŸÑŸÖÿ∫ÿ±ÿ®|ÿßŸÑÿ≥ÿπŸàÿØŸäÿ©|ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±|ÿßŸÑÿßÿ±ÿØŸÜ|’∞’°’µ|“õ–∞–∑|—É–∫—Ä|—Å—Ä–±|—Ä—Ñ|–º–æ–Ω|–º–∫–¥|–µ—é|–±–µ–ª|–±–≥|ŒµŒª|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@]|$))")),o.validPunycode=/(?:xn--[0-9a-z]+)/,o.validSpecialCCTLD=/(?:(?:co|tv)(?=[^0-9a-zA-Z@]|$))/,o.validDomain=a(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),o.validPortNumber=/[0-9]+/,o.pd=/\u002d\u058a\u05be\u1400\u1806\u2010-\u2015\u2e17\u2e1a\u2e3a\u2e40\u301c\u3030\u30a0\ufe31\ufe58\ufe63\uff0d/,o.validGeneralUrlPathChars=a(/[^#{spaces_group}\(\)\?]/i),o.validUrlBalancedParens=a("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i"),o.validUrlPathEndingChars=a(/[^#{spaces_group}\(\)\?!\*';:=\,\.\$%\[\]#{pd}~&\|@]|(?:#{validUrlBalancedParens})/i),o.validUrlPath=a("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),o.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,o.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,o.validUrl=a("((https?:\\/\\/)(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?)","gi"),o.validUrl}()},824:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return I});var o,a,i=n(1),s=n.n(i),r=n(3),c=n.n(r),l=n(4),u=n.n(l),d=n(2),p=n.n(d),h=n(0),g=n.n(h),m=n(9),f=n(6),v=n(159),b=n.n(v),y=n(10),_=n.n(y),k=n(295),w=n(302),x=n(870),C=n(869),j=n(150),M=n(8),S=(n.n(M),n(11)),N=function(){},D=Object(f.f)({home_title:{id:"column.home",defaultMessage:"Home"},notifications_title:{id:"column.notifications",defaultMessage:"Notifications"},local_title:{id:"column.community",defaultMessage:"Local timeline"},federated_title:{id:"column.public",defaultMessage:"Federated timeline"}}),O=function(e){var t=e.acct,n=e.domain;return p()("div",{className:"onboarding-modal__page onboarding-modal__page-one"},void 0,p()("div",{className:"onboarding-modal__page-one__lead"},void 0,p()("h1",{},void 0,p()(f.b,{id:"onboarding.page_one.welcome",defaultMessage:"Welcome to Mastodon!"})),p()("p",{},void 0,p()(f.b,{id:"onboarding.page_one.federation",defaultMessage:"Mastodon is a network of independent servers joining up to make one larger social network. We call these servers instances."}))),p()("div",{className:"onboarding-modal__page-one__extra"},void 0,p()("div",{className:"display-case"},void 0,p()("div",{className:"display-case__label"},void 0,p()(f.b,{id:"onboarding.page_one.full_handle",defaultMessage:"Your full handle"})),p()("div",{className:"display-case__case"},void 0,"@",t,"@",n)),p()("p",{},void 0,p()(f.b,{id:"onboarding.page_one.handle_hint",defaultMessage:"This is what you would tell your friends to search for."}))))},z=function(e){var t=e.myAccount;return p()("div",{className:"onboarding-modal__page onboarding-modal__page-two"},void 0,p()("div",{className:"figure non-interactive"},void 0,p()("div",{className:"pseudo-drawer"},void 0,p()(C.a,{account:t}),p()(w.a,{text:"Awoo! #introductions",suggestions:Object(M.List)(),mentionedDomains:[],spoiler:!1,onChange:N,onSubmit:N,onPaste:N,onPickEmoji:N,onChangeSpoilerText:N,onClearSuggestions:N,onFetchSuggestions:N,onSuggestionSelected:N,showSearch:!0}))),p()("p",{},void 0,p()(f.b,{id:"onboarding.page_two.compose",defaultMessage:"Write posts from the compose column. You can upload images, change privacy settings, and add content warnings with the icons below."})))},T=function(e){var t=e.myAccount;return p()("div",{className:"onboarding-modal__page onboarding-modal__page-three"},void 0,p()("div",{className:"figure non-interactive"},void 0,p()(x.a,{value:"",onChange:N,onSubmit:N,onClear:N,onShow:N}),p()("div",{className:"pseudo-drawer"},void 0,p()(C.a,{account:t}))),p()("p",{},void 0,p()(f.b,{id:"onboarding.page_three.search",defaultMessage:"Use the search bar to find people and look at hashtags, such as {illustration} and {introductions}. To look for a person who is not on this instance, use their full handle.",values:{illustration:p()(k.a,{to:"/timelines/tag/illustration",href:"/tags/illustration"},void 0,"#illustration"),introductions:p()(k.a,{to:"/timelines/tag/introductions",href:"/tags/introductions"},void 0,"#introductions")}})),p()("p",{},void 0,p()(f.b,{id:"onboarding.page_three.profile",defaultMessage:"Edit your profile to change your avatar, bio, and display name. There, you will also find other preferences."})))},P=function(e){var t=e.domain,n=e.intl;return p()("div",{className:"onboarding-modal__page onboarding-modal__page-four"},void 0,p()("div",{className:"onboarding-modal__page-four__columns"},void 0,p()("div",{className:"row"},void 0,p()("div",{},void 0,p()("div",{className:"figure non-interactive"},void 0,p()(j.a,{icon:"home",type:n.formatMessage(D.home_title)})),p()("p",{},void 0,p()(f.b,{id:"onboarding.page_four.home",defaultMessage:"The home timeline shows posts from people you follow."}))),p()("div",{},void 0,p()("div",{className:"figure non-interactive"},void 0,p()(j.a,{icon:"bell",type:n.formatMessage(D.notifications_title)})),p()("p",{},void 0,p()(f.b,{id:"onboarding.page_four.notifications",defaultMessage:"The notifications column shows when someone interacts with you."})))),p()("div",{className:"row"},void 0,p()("div",{},void 0,p()("div",{className:"figure non-interactive",style:{marginBottom:0}},void 0,p()(j.a,{icon:"users",type:n.formatMessage(D.local_title)}))),p()("div",{},void 0,p()("div",{className:"figure non-interactive",style:{marginBottom:0}},void 0,p()(j.a,{icon:"globe",type:n.formatMessage(D.federated_title)})))),p()("p",{},void 0,p()(f.b,{id:"onboarding.page_five.public_timelines",defaultMessage:"The local timeline shows public posts from everyone on {domain}. The federated timeline shows public posts from everyone who people on {domain} follow. These are the Public Timelines, a great way to discover new people.",values:{domain:t}}))))},F=function(e){var t=e.admin,n=e.domain,o="";return t&&(o=p()("p",{},void 0,p()(f.b,{id:"onboarding.page_six.admin",defaultMessage:"Your instance's admin is {admin}.",values:{admin:p()(k.a,{href:t.get("url"),to:"/accounts/"+t.get("id")},void 0,"@",t.get("acct"))}}),p()("br",{}),p()(f.b,{id:"onboarding.page_six.read_guidelines",defaultMessage:"Please read {domain}'s {guidelines}!",values:{domain:n,guidelines:p()("a",{href:"/about/more",target:"_blank"},void 0,p()(f.b,{id:"onboarding.page_six.guidelines",defaultMessage:"community guidelines"}))}}))),p()("div",{className:"onboarding-modal__page onboarding-modal__page-six"},void 0,p()("h1",{},void 0,p()(f.b,{id:"onboarding.page_six.almost_done",defaultMessage:"Almost done..."})),o,p()("p",{},void 0,p()(f.b,{id:"onboarding.page_six.github",defaultMessage:"Mastodon is free open-source software. You can report bugs, request features, or contribute to the code on {github}.",values:{github:p()("a",{href:"https://github.com/tootsuite/mastodon",target:"_blank",rel:"noopener"},void 0,"GitHub")}})),p()("p",{},void 0,p()(f.b,{id:"onboarding.page_six.apps_available",defaultMessage:"There are {apps} available for iOS, Android and other platforms.",values:{apps:p()("a",{href:"https://github.com/tootsuite/documentation/blob/master/Using-Mastodon/Apps.md",target:"_blank",rel:"noopener"},void 0,p()(f.b,{id:"onboarding.page_six.various_app",defaultMessage:"mobile apps"}))}})),p()("p",{},void 0,p()("em",{},void 0,p()(f.b,{id:"onboarding.page_six.appetoot",defaultMessage:"Bon Appetoot!"}))))},E=function(e){return{myAccount:e.getIn(["accounts",S.g]),admin:e.getIn(["accounts",e.getIn(["meta","admin"])]),domain:e.getIn(["meta","domain"])}},I=(o=Object(m.connect)(E))(a=Object(f.g)(a=function(e){function t(){var n,o,a;s()(this,t);for(var i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];return n=o=c()(this,e.call.apply(e,[this].concat(r))),o.state={currentIndex:0},o.handleSkip=function(e){e.preventDefault(),o.props.onClose()},o.handleDot=function(e){var t=Number(e.currentTarget.getAttribute("data-index"));e.preventDefault(),o.setState({currentIndex:t})},o.handlePrev=function(){o.setState(function(e){var t=e.currentIndex;return{currentIndex:Math.max(0,t-1)}})},o.handleNext=function(){var e=o,t=e.pages;o.setState(function(e){var n=e.currentIndex;return{currentIndex:Math.min(n+1,t.length-1)}})},o.handleSwipe=function(e){o.setState({currentIndex:e})},o.handleKeyUp=function(e){switch(e.key){case"ArrowLeft":o.handlePrev();break;case"ArrowRight":o.handleNext()}},o.handleClose=function(){o.props.onClose()},a=n,c()(o,a)}return u()(t,e),t.prototype.componentWillMount=function(){var e=this.props,t=e.myAccount,n=e.admin,o=e.domain,a=e.intl;this.pages=[p()(O,{acct:t.get("acct"),domain:o}),p()(z,{myAccount:t}),p()(T,{myAccount:t}),p()(P,{domain:o,intl:a}),p()(F,{admin:n,domain:o})]},t.prototype.componentDidMount=function(){window.addEventListener("keyup",this.handleKeyUp)},t.prototype.componentWillUnmount=function(){window.addEventListener("keyup",this.handleKeyUp)},t.prototype.render=function(){var e=this,t=this.pages,n=this.state.currentIndex,o=n<t.length-1,a=o?p()("button",{onClick:this.handleNext,className:"onboarding-modal__nav onboarding-modal__next shake-bottom"},void 0,p()(f.b,{id:"onboarding.next",defaultMessage:"Next"})," ",p()("i",{className:"fa fa-fw fa-chevron-right"})):p()("button",{onClick:this.handleClose,className:"onboarding-modal__nav onboarding-modal__done shake-bottom"},void 0,p()(f.b,{id:"onboarding.done",defaultMessage:"Done"})," ",p()("i",{className:"fa fa-fw fa-check"}));return p()("div",{className:"modal-root__modal onboarding-modal"},void 0,p()(b.a,{index:n,onChangeIndex:this.handleSwipe,className:"onboarding-modal__pager"},void 0,t.map(function(e,t){var o=_()("onboarding-modal__page__wrapper","onboarding-modal__page__wrapper-"+t,{"onboarding-modal__page__wrapper--active":t===n});return p()("div",{className:o},t,e)})),p()("div",{className:"onboarding-modal__paginator"},void 0,p()("div",{},void 0,p()("button",{onClick:this.handleSkip,className:"onboarding-modal__nav onboarding-modal__skip"},void 0,p()(f.b,{id:"onboarding.skip",defaultMessage:"Skip"}))),p()("div",{className:"onboarding-modal__dots"},void 0,t.map(function(t,o){var a=_()("onboarding-modal__dot",{active:o===n});return p()("div",{role:"button",tabIndex:"0","data-index":o,onClick:e.handleDot,className:a},"dot-"+o)})),p()("div",{},void 0,a)))},t}(g.a.PureComponent))||a)||a},869:function(e,t,n){"use strict";n.d(t,"a",function(){return C});var o,a,i=n(2),s=n.n(i),r=n(1),c=n.n(r),l=n(3),u=n.n(l),d=n(4),p=n.n(d),h=n(0),g=(n.n(h),n(5)),m=n.n(g),f=n(13),v=n.n(f),b=n(56),y=n(23),_=n(295),k=n(6),w=n(12),x=n.n(w),C=(a=o=function(e){function t(){return c()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.render=function(){return s()("div",{className:"navigation-bar"},void 0,s()(_.a,{href:this.props.account.get("url"),to:"/accounts/"+this.props.account.get("id")},void 0,s()("span",{style:{display:"none"}},void 0,this.props.account.get("acct")),s()(b.a,{account:this.props.account,size:40})),s()("div",{className:"navigation-bar__profile"},void 0,s()(_.a,{href:this.props.account.get("url"),to:"/accounts/"+this.props.account.get("id")},void 0,s()("strong",{className:"navigation-bar__profile-account"},void 0,"@",this.props.account.get("acct"))),s()("a",{href:"/settings/profile",className:"navigation-bar__profile-edit"},void 0,s()(k.b,{id:"navigation_bar.edit_profile",defaultMessage:"Edit profile"}))),s()(y.a,{title:"",icon:"close",onClick:this.props.onClose}))},t}(x.a),o.propTypes={account:v.a.map.isRequired,onClose:m.a.func},a)},870:function(e,t,n){"use strict";n.d(t,"a",function(){return x});var o,a=n(2),i=n.n(a),s=n(1),r=n.n(s),c=n(3),l=n.n(c),u=n(4),d=n.n(u),p=n(0),h=n.n(p),g=n(6),m=n(96),f=n.n(m),v=n(28),b=n(27),y=n.n(b),_=n(11),k=Object(g.f)({placeholder:{id:"search.placeholder",defaultMessage:"Search"}}),w=function(e){function t(){return r()(this,t),l()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props.style,t=_.i?i()(g.b,{id:"search_popout.tips.full_text",defaultMessage:"Simple text returns statuses you have written, favourited, boosted, or have been mentioned in, as well as matching usernames, display names, and hashtags."}):i()(g.b,{id:"search_popout.tips.text",defaultMessage:"Simple text returns matching display names, usernames and hashtags"});return i()("div",{style:Object.assign({},e,{position:"absolute",width:315})},void 0,i()(v.a,{defaultStyle:{opacity:0,scaleX:.85,scaleY:.75},style:{opacity:y()(1,{damping:35,stiffness:400}),scaleX:y()(1,{damping:35,stiffness:400}),scaleY:y()(1,{damping:35,stiffness:400})}},void 0,function(e){var n=e.opacity,o=e.scaleX,a=e.scaleY;return i()("div",{className:"search-popout",style:{opacity:n,transform:"scale("+o+", "+a+")"}},void 0,i()("h4",{},void 0,i()(g.b,{id:"search_popout.search_format",defaultMessage:"Advanced search format"})),i()("ul",{},void 0,i()("li",{},void 0,i()("em",{},void 0,"#example")," ",i()(g.b,{id:"search_popout.tips.hashtag",defaultMessage:"hashtag"})),i()("li",{},void 0,i()("em",{},void 0,"@username@domain")," ",i()(g.b,{id:"search_popout.tips.user",defaultMessage:"user"})),i()("li",{},void 0,i()("em",{},void 0,"URL")," ",i()(g.b,{id:"search_popout.tips.user",defaultMessage:"user"})),i()("li",{},void 0,i()("em",{},void 0,"URL")," ",i()(g.b,{id:"search_popout.tips.status",defaultMessage:"status"}))),t)}))},t}(h.a.PureComponent),x=Object(g.g)(o=function(e){function t(){var n,o,a;r()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=o=l()(this,e.call.apply(e,[this].concat(s))),o.state={expanded:!1},o.handleChange=function(e){o.props.onChange(e.target.value)},o.handleClear=function(e){e.preventDefault(),(o.props.value.length>0||o.props.submitted)&&o.props.onClear()},o.handleKeyDown=function(e){"Enter"===e.key?(e.preventDefault(),o.props.onSubmit()):"Escape"===e.key&&document.querySelector(".ui").parentElement.focus()},o.handleFocus=function(){o.setState({expanded:!0}),o.props.onShow()},o.handleBlur=function(){o.setState({expanded:!1})},a=n,l()(o,a)}return d()(t,e),t.prototype.noop=function(){},t.prototype.render=function(){var e=this.props,t=e.intl,n=e.value,o=e.submitted,a=this.state.expanded,s=n.length>0||o;return i()("div",{className:"search"},void 0,i()("label",{},void 0,i()("span",{style:{display:"none"}},void 0,t.formatMessage(k.placeholder)),i()("input",{className:"search__input",type:"text",placeholder:t.formatMessage(k.placeholder),value:n,onChange:this.handleChange,onKeyUp:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur})),i()("div",{role:"button",tabIndex:"0",className:"search__icon",onClick:this.handleClear},void 0,i()("i",{className:"fa fa-search "+(s?"":"active")}),i()("i",{"aria-label":t.formatMessage(k.placeholder),className:"fa fa-times-circle "+(s?"active":"")})),i()(f.a,{show:a&&!s,placement:"bottom",target:this},void 0,i()(w,{})))},t}(h.a.PureComponent))||o}});
//# sourceMappingURL=onboarding_modal.js.map