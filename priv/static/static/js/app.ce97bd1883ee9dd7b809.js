!function(t){function e(e){for(var i,o,a=e[0],c=e[1],l=e[2],u=0,p=[];u<a.length;u++)o=a[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);for(d&&d(e);p.length;)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},o={0:0},r={0:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(t){var e=[];o[t]?e.push(o[t]):0!==o[t]&&{2:1,3:1}[t]&&e.push(o[t]=new Promise((function(e,n){for(var i="static/css/"+({}[t]||t)+"."+{2:"0778a6a864a1307a6c41",3:"b2603a50868c68a1c192",4:"31d6cfe0d16ae931b73c",5:"31d6cfe0d16ae931b73c",6:"31d6cfe0d16ae931b73c",7:"31d6cfe0d16ae931b73c",8:"31d6cfe0d16ae931b73c",9:"31d6cfe0d16ae931b73c",10:"31d6cfe0d16ae931b73c",11:"31d6cfe0d16ae931b73c",12:"31d6cfe0d16ae931b73c",13:"31d6cfe0d16ae931b73c",14:"31d6cfe0d16ae931b73c",15:"31d6cfe0d16ae931b73c",16:"31d6cfe0d16ae931b73c",17:"31d6cfe0d16ae931b73c",18:"31d6cfe0d16ae931b73c",19:"31d6cfe0d16ae931b73c",20:"31d6cfe0d16ae931b73c",21:"31d6cfe0d16ae931b73c",22:"31d6cfe0d16ae931b73c",23:"31d6cfe0d16ae931b73c",24:"31d6cfe0d16ae931b73c",25:"31d6cfe0d16ae931b73c",26:"31d6cfe0d16ae931b73c",27:"31d6cfe0d16ae931b73c",28:"31d6cfe0d16ae931b73c",29:"31d6cfe0d16ae931b73c",30:"31d6cfe0d16ae931b73c",31:"31d6cfe0d16ae931b73c",32:"31d6cfe0d16ae931b73c"}[t]+".css",r=a.p+i,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var l=(d=s[c]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===i||l===r))return e()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){var d;if((l=(d=u[c]).getAttribute("data-href"))===i||l===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var i=e&&e.target&&e.target.src||r,s=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");s.request=i,delete o[t],p.parentNode.removeChild(p),n(s)},p.href=r,document.getElementsByTagName("head")[0].appendChild(p)})).then((function(){o[t]=0})));var n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,i){n=r[t]=[e,i]}));e.push(n[2]=i);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.src=function(t){return a.p+"static/js/"+({}[t]||t)+"."+{2:"5f3ceb7bdf08fadacf00",3:"6c8e014d70907359ad5a",4:"564b2a8cbfe4d5e93949",5:"6024023b2804dafc6bcb",6:"b0c7a2b19cc70c33dc1e",7:"4dbb03c6731e1c8190af",8:"d11ae57b3255a1c74681",9:"80dc09c85f557dd2c96f",10:"fdbf093cc5602ca4f2e1",11:"7b11fd75fe61d6e10ac6",12:"a3dc3473565ec07a88c2",13:"cdc076533397e24391bc",14:"a2b9acaf9caa95d1fd7f",15:"fe4e76f27cc478289a42",16:"90b5ee380da41d6d061c",17:"c5a6513076aa9c5a9564",18:"ffde79cfe78615dbb020",19:"c031807287d659bd841d",20:"abb0d332055536a87c38",21:"6e952388ef8d5a0276dc",22:"dbc79965f66b0bb62d88",23:"4addb03e0862c780c55f",24:"e4b623be1780a14a6168",25:"34eeae0070f7f1eb6843",26:"bd86a0d958de2bb3905a",27:"7d4ab8716762d6f57135",28:"a88999ebb3f7ec930aad",29:"519f681d194c212ae75f",30:"d29cd76b0781bb654f87",31:"15b545bb42e21d39c678",32:"899035ede0115c5c0f99"}[t]+".js"}(t);var l=new Error;s=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",l.name="ChunkLoadError",l.type=i,l.request=o,n[1](l)}r[t]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(e)},a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a.oe=function(t){throw console.error(t),t};var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;s.push([584,1]),n()}([,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"g",(function(){return p})),n.d(e,"a",(function(){return f})),n.d(e,"f",(function(){return m})),n.d(e,"e",(function(){return g})),n.d(e,"d",(function(){return b})),n.d(e,"b",(function(){return w})),n.d(e,"c",(function(){return _}));var i=n(2),o=n.n(i),r=n(87),s=n.n(r),a=n(211),c=n.n(a),l=n(22),u=n(212);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var p=function(t){var e={},n=t.hasOwnProperty("acct"),i=n&&!t.hasOwnProperty("avatar");if(e.id=String(t.id),n){if(e.screen_name=t.acct,e.statusnet_profile_url=t.url,i)return e;if(e.name=t.display_name,e.name_html=h(s()(t.display_name),t.emojis),e.description=t.note,e.description_html=h(t.note,t.emojis),e.fields=t.fields,e.fields_html=t.fields.map((function(e){return{name:h(s()(e.name),t.emojis),value:h(e.value,t.emojis)}})),e.fields_text=t.fields.map((function(t){return{name:unescape(t.name.replace(/<[^>]*>/g,"")),value:unescape(t.value.replace(/<[^>]*>/g,""))}})),e.profile_image_url=t.avatar,e.profile_image_url_original=t.avatar,e.cover_photo=t.header,e.friends_count=t.following_count,e.bot=t.bot,t.pleroma){var o=t.pleroma.relationship;e.background_image=t.pleroma.background_image,e.favicon=t.pleroma.favicon,e.token=t.pleroma.chat_token,o&&(e.relationship=o),e.allow_following_move=t.pleroma.allow_following_move,e.hide_follows=t.pleroma.hide_follows,e.hide_followers=t.pleroma.hide_followers,e.hide_follows_count=t.pleroma.hide_follows_count,e.hide_followers_count=t.pleroma.hide_followers_count,e.rights={moderator:t.pleroma.is_moderator,admin:t.pleroma.is_admin},e.rights.admin?e.role="admin":e.rights.moderator?e.role="moderator":e.role="member"}t.source&&(e.description=t.source.note,e.default_scope=t.source.privacy,e.fields=t.source.fields,t.source.pleroma&&(e.no_rich_text=t.source.pleroma.no_rich_text,e.show_role=t.source.pleroma.show_role,e.discoverable=t.source.pleroma.discoverable)),e.is_local=!e.screen_name.includes("@")}else e.screen_name=t.screen_name,e.name=t.name,e.name_html=t.name_html,e.description=t.description,e.description_html=t.description_html,e.profile_image_url=t.profile_image_url,e.profile_image_url_original=t.profile_image_url_original,e.cover_photo=t.cover_photo,e.friends_count=t.friends_count,e.statusnet_profile_url=t.statusnet_profile_url,e.is_local=t.is_local,e.role=t.role,e.show_role=t.show_role,t.rights&&(e.rights={moderator:t.rights.delete_others_notice,admin:t.rights.admin}),e.no_rich_text=t.no_rich_text,e.default_scope=t.default_scope,e.hide_follows=t.hide_follows,e.hide_followers=t.hide_followers,e.hide_follows_count=t.hide_follows_count,e.hide_followers_count=t.hide_followers_count,e.background_image=t.background_image,e.token=t.token,e.relationship={muting:t.muted,blocking:t.statusnet_blocking,followed_by:t.follows_you,following:t.following};if(e.created_at=new Date(t.created_at),e.locked=t.locked,e.followers_count=t.followers_count,e.statuses_count=t.statuses_count,t.pleroma&&(e.follow_request_count=t.pleroma.follow_request_count,e.tags=t.pleroma.tags,e.deactivated=void 0!==t.pleroma.is_active?!t.pleroma.is_active:t.pleroma.deactivated,e.notification_settings=t.pleroma.notification_settings,e.unread_chat_count=t.pleroma.unread_chat_count),e.tags=e.tags||[],e.rights=e.rights||{},e.notification_settings=e.notification_settings||{},e.screen_name_ui=e.screen_name,e.screen_name&&e.screen_name.includes("@")){var r=e.screen_name.split("@"),a=u.a.toUnicode(r[1]);a!==r[1]&&(a="üåè"+a,e.screen_name_ui=[r[0],a].join("@"))}return e},f=function(t){var e={};return!t.hasOwnProperty("oembed")?(e.mimetype=t.pleroma?t.pleroma.mime_type:t.type,e.meta=t.meta,e.id=t.id):e.mimetype=t.mimetype,e.url=t.url,e.large_thumb_url=t.preview_url,e.description=t.description,e},h=function(t,e){var n=/[|\\{}()[\]^$+*?.-]/g;return e.reduce((function(t,e){var i=e.shortcode.replace(n,"\\$&");return t.replace(new RegExp(":".concat(i,":"),"g"),"<img src='".concat(e.url,"' alt=':").concat(e.shortcode,":' title=':").concat(e.shortcode,":' class='emoji' />"))}),t)},m=function t(e){var n,i={},r=e.hasOwnProperty("account");if(r){if(i.favorited=e.favourited,i.fave_num=e.favourites_count,i.repeated=e.reblogged,i.repeat_num=e.reblogs_count,i.bookmarked=e.bookmarked,i.type=e.reblog?"retweet":"status",i.nsfw=e.sensitive,i.statusnet_html=h(e.content,e.emojis),i.tags=e.tags,e.pleroma){var a=e.pleroma;i.text=a.content?e.pleroma.content["text/plain"]:e.content,i.summary=a.spoiler_text?e.pleroma.spoiler_text["text/plain"]:e.spoiler_text,i.statusnet_conversation_id=e.pleroma.conversation_id,i.is_local=a.local,i.in_reply_to_screen_name=e.pleroma.in_reply_to_account_acct,i.thread_muted=a.thread_muted,i.emoji_reactions=a.emoji_reactions,i.parent_visible=void 0===a.parent_visible||a.parent_visible}else i.text=e.content,i.summary=e.spoiler_text;i.in_reply_to_status_id=e.in_reply_to_id,i.in_reply_to_user_id=e.in_reply_to_account_id,i.replies_count=e.replies_count,"retweet"===i.type&&(i.retweeted_status=t(e.reblog)),i.summary_html=h(s()(e.spoiler_text),e.emojis),i.external_url=e.url,i.poll=e.poll,i.poll&&(i.poll.options=(i.poll.options||[]).map((function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{title_html:h(s()(t.title),e.emojis)})}))),i.pinned=e.pinned,i.muted=e.muted}else i.favorited=e.favorited,i.fave_num=e.fave_num,i.repeated=e.repeated,i.repeat_num=e.repeat_num,i.type=(n=e).is_post_verb?"status":n.retweeted_status?"retweet":"string"==typeof n.uri&&n.uri.match(/(fave|objectType=Favourite)/)||"string"==typeof n.text&&n.text.match(/favorited/)?"favorite":n.text.match(/deleted notice {{tag/)||n.qvitter_delete_notice?"deletion":n.text.match(/started following/)||"follow"===n.activity_type?"follow":"unknown",void 0===e.nsfw?(i.nsfw=v(e),e.retweeted_status&&(i.nsfw=e.retweeted_status.nsfw)):i.nsfw=e.nsfw,i.statusnet_html=e.statusnet_html,i.text=e.text,i.in_reply_to_status_id=e.in_reply_to_status_id,i.in_reply_to_user_id=e.in_reply_to_user_id,i.in_reply_to_screen_name=e.in_reply_to_screen_name,i.statusnet_conversation_id=e.statusnet_conversation_id,"retweet"===i.type&&(i.retweeted_status=t(e.retweeted_status)),i.summary=e.summary,i.summary_html=e.summary_html,i.external_url=e.external_url,i.is_local=e.is_local;i.id=String(e.id),i.visibility=e.visibility,i.card=e.card,i.created_at=new Date(e.created_at),i.in_reply_to_status_id=i.in_reply_to_status_id?String(i.in_reply_to_status_id):null,i.in_reply_to_user_id=i.in_reply_to_user_id?String(i.in_reply_to_user_id):null,i.user=p(r?e.account:e.user),i.attentions=((r?e.mentions:e.attentions)||[]).map(p),i.attachments=((r?e.media_attachments:e.attachments)||[]).map(f);var c=r?e.reblog:e.retweeted_status;return c&&(i.retweeted_status=t(c)),i.favoritedBy=[],i.rebloggedBy=[],i},g=function(t){var e={};if(!t.hasOwnProperty("ntype"))e.type={favourite:"like",reblog:"repeat"}[t.type]||t.type,e.seen=t.pleroma.is_seen,e.status=Object(l.b)(e.type)?m(t.status):null,e.action=e.status,e.target="move"!==e.type?null:p(t.target),e.from_profile=p(t.account),e.emoji=t.emoji;else{var n=m(t.notice);e.type=t.ntype,e.seen=Boolean(t.is_seen),e.status="like"===e.type?m(t.notice.favorited_status):n,e.action=n,e.from_profile="pleroma:chat_mention"===e.type?p(t.account):p(t.from_profile)}return e.created_at=new Date(t.created_at),e.id=parseInt(t.id),e},v=function(t){return(t.tags||[]).includes("nsfw")||!!(t.text||"").match(/#nsfw/i)},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.flakeId,i=c()(t);if(i){var o=i.next.max_id,r=i.prev.min_id;return{maxId:n?o:parseInt(o,10),minId:n?r:parseInt(r,10)}}},w=function(t){var e={};return e.id=t.id,e.account=p(t.account),e.unread=t.unread,e.lastMessage=_(t.last_message),e.updated_at=new Date(t.updated_at),e},_=function(t){if(t){if(t.isNormalized)return t;var e=t;return e.id=t.id,e.created_at=new Date(t.created_at),e.chat_id=t.chat_id,t.content?e.content=h(t.content,t.emojis):e.content="",t.attachment?e.attachments=[f(t.attachment)]:e.attachments=[],e.pending=!!t.pending,e.error=!1,e.idempotency_key=t.idempotency_key,e.isNormalized=!0,e}}},function(t,e,n){"use strict";n.d(e,"d",(function(){return yt})),n.d(e,"a",(function(){return Ct})),n.d(e,"b",(function(){return Ot}));var i=n(5),o=n.n(i),r=n(82),s=n.n(r),a=n(9),c=n.n(a),l=n(2),u=n.n(l),d=n(14),p=n.n(d),f=n(27),h=n.n(f),m=n(83),g=n.n(m),v=n(17),b=n.n(v),w=n(28),_=n.n(w),y=n(10),x=n(26),k=n.n(x),C=n(213),S=n.n(C),O=n(214),j=n.n(O),P=n(142),T=n.n(P),$=n(141),I=n.n($),M=n(215),F=n.n(M),E=n(216),U=n.n(E),A=n(13),N=n.n(A),D=n(143),L=n.n(D);function R(t,e,n,i){this.name="StatusCodeError",this.statusCode=t,this.message=t+" - "+(JSON&&JSON.stringify?JSON.stringify(e):e),this.error=e,this.options=n,this.response=i,Error.captureStackTrace&&Error.captureStackTrace(this)}R.prototype=Object.create(Error.prototype),R.prototype.constructor=R;var B=function(t){function e(t){var n,i;S()(this,e),n=j()(this,T()(e).call(this)),Error.captureStackTrace&&Error.captureStackTrace(I()(n));try{if("string"==typeof t&&(t=JSON.parse(t)).hasOwnProperty("error")&&(t=JSON.parse(t.error)),"object"===k()(t)){var o=JSON.parse(t.error);o.ap_id&&(o.username=o.ap_id,delete o.ap_id),n.message=(i=o,Object.entries(i).reduce((function(t,e){var n=c()(e,2),i=n[0],o=n[1].reduce((function(t,e){return t+[L()(i.replace(/_/g," ")),e].join(" ")+". "}),"");return[].concat(N()(t),[o])}),[]))}else n.message=t}catch(e){n.message=t}return n}return F()(e,t),e}(U()(Error));function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var q=function(t,e){return"/api/pleroma/admin/users/".concat(t,"/permission_group/").concat(e)},V=function(t){return"/api/v1/notifications/".concat(t,"/dismiss")},W=function(t){return"/api/v1/statuses/".concat(t,"/favourite")},G=function(t){return"/api/v1/statuses/".concat(t,"/unfavourite")},K=function(t){return"/api/v1/statuses/".concat(t,"/reblog")},Y=function(t){return"/api/v1/statuses/".concat(t,"/unreblog")},J=function(t){return"/api/v1/accounts/".concat(t,"/statuses")},X=function(t){return"/api/v1/timelines/tag/".concat(t)},Q=function(t){return"/api/v1/accounts/".concat(t,"/mute")},Z=function(t){return"/api/v1/accounts/".concat(t,"/unmute")},tt=function(t){return"/api/v1/pleroma/accounts/".concat(t,"/subscribe")},et=function(t){return"/api/v1/pleroma/accounts/".concat(t,"/unsubscribe")},nt=function(t){return"/api/v1/statuses/".concat(t,"/bookmark")},it=function(t){return"/api/v1/statuses/".concat(t,"/unbookmark")},ot=function(t){return"/api/v1/statuses/".concat(t,"/favourited_by")},rt=function(t){return"/api/v1/statuses/".concat(t,"/reblogged_by")},st=function(t){return"/api/v1/statuses/".concat(t,"/pin")},at=function(t){return"/api/v1/statuses/".concat(t,"/unpin")},ct=function(t){return"/api/v1/statuses/".concat(t,"/mute")},lt=function(t){return"/api/v1/statuses/".concat(t,"/unmute")},ut=function(t){return"/api/v1/pleroma/statuses/".concat(t,"/reactions")},dt=function(t,e){return"/api/v1/pleroma/statuses/".concat(t,"/reactions/").concat(e)},pt=function(t,e){return"/api/v1/pleroma/statuses/".concat(t,"/reactions/").concat(e)},ft=function(t){return"/api/v1/pleroma/chats/".concat(t,"/messages")},ht=function(t){return"/api/v1/pleroma/chats/".concat(t,"/read")},mt=function(t,e){return"/api/v1/pleroma/chats/".concat(t,"/messages/").concat(e)},gt=window.fetch,vt=function(t,e){var n=""+t;return(e=e||{}).credentials="same-origin",gt(n,e)},bt=function(t){var e=t.method,n=t.url,i=t.params,o=t.payload,r=t.credentials,s=t.headers,a={method:e,headers:H({Accept:"application/json","Content-Type":"application/json"},void 0===s?{}:s)};return i&&(n+="?"+Object.entries(i).map((function(t){var e=c()(t,2),n=e[0],i=e[1];return encodeURIComponent(n)+"="+encodeURIComponent(i)})).join("&")),o&&(a.body=JSON.stringify(o)),r&&(a.headers=H({},a.headers,{},wt(r))),vt(n,a).then((function(t){return new Promise((function(e,i){return t.json().then((function(o){return t.ok?e(o):i(new R(t.status,o,{url:n,options:a},t))})).catch((function(e){return i(new R(t.status,e,{url:n,options:a},t))}))}))}))},wt=function(t){return t?{Authorization:"Bearer ".concat(t)}:{}},_t=function(t){var e=t.id,n=t.maxId,i=t.sinceId,o=t.limit,r=void 0===o?20:o,s=t.credentials,a=function(t){return"/api/v1/accounts/".concat(t,"/following")}(e),c=[n&&"max_id=".concat(n),i&&"since_id=".concat(i),r&&"limit=".concat(r),"with_relationships=true"].filter((function(t){return t})).join("&");return vt(a+=c?"?"+c:"",{headers:wt(s)}).then((function(t){return t.json()})).then((function(t){return t.map(y.g)}))},yt=function(t){var e=t.credentials,n=t.stream,i=t.args,o=void 0===i?{}:i;return Object.entries(H({},e?{access_token:e}:{},{stream:n},o)).reduce((function(t,e){var n=c()(e,2),i=n[0],o=n[1];return t+"".concat(i,"=").concat(o,"&")}),"/api/v1/streaming?")},xt=new Set(["update","notification","delete","filters_changed"]),kt=new Set(["pleroma:chat_update"]),Ct=function(t){var e=t.url,n=t.preprocessor,i=void 0===n?St:n,o=t.id,r=void 0===o?"Unknown":o,s=new EventTarget,a=new WebSocket(e);if(!a)throw new Error("Failed to create socket ".concat(r));var c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};t.addEventListener(e,(function(t){s.dispatchEvent(new CustomEvent(e,{detail:n(t)}))}))};return a.addEventListener("open",(function(t){console.debug("[WS][".concat(r,"] Socket connected"),t)})),a.addEventListener("error",(function(t){console.debug("[WS][".concat(r,"] Socket errored"),t)})),a.addEventListener("close",(function(t){console.debug("[WS][".concat(r,"] Socket disconnected with code ").concat(t.code),t)})),c(a,"open"),c(a,"close"),c(a,"message",i),c(a,"error"),s.close=function(){a.close(1e3,"Shutting down socket")},s.getState=function(){return a.readyState},s},St=function(t){var e=t.data;if(e){var n=JSON.parse(e),i=n.event,o=n.payload;if(!xt.has(i)&&!kt.has(i))return console.warn("Unknown event",t),null;if("delete"===i)return{event:i,id:o};var r=o?JSON.parse(o):null;return"update"===i?{event:i,status:Object(y.f)(r)}:"notification"===i?{event:i,notification:Object(y.e)(r)}:"pleroma:chat_update"===i?{event:i,chatUpdate:Object(y.b)(r)}:void 0}},Ot=Object.freeze({JOINED:1,CLOSED:2,ERROR:3,DISABLED:4,STARTING:5,STARTING_INITIAL:6}),jt={verifyCredentials:function(t){return vt("/api/v1/accounts/verify_credentials",{headers:wt(t)}).then((function(t){return t.ok?t.json():{error:t}})).then((function(t){return t.error?t:Object(y.g)(t)}))},fetchTimeline:function(t){var e=t.timeline,n=t.credentials,i=t.since,o=void 0!==i&&i,r=t.until,s=void 0!==r&&r,a=t.userId,c=void 0!==a&&a,l=t.tag,u=void 0!==l&&l,d=t.withMuted,p=void 0!==d&&d,f=t.replyVisibility,h=void 0===f?"all":f,m="notifications"===e,g=[],v={public:"/api/v1/timelines/public",friends:"/api/v1/timelines/home",dms:"/api/v1/timelines/direct",notifications:"/api/v1/notifications",publicAndExternal:"/api/v1/timelines/public",user:J,media:J,favorites:"/api/v1/favourites",tag:X,bookmarks:"/api/v1/bookmarks"}[e];"user"!==e&&"media"!==e||(v=v(c)),o&&g.push(["since_id",o]),s&&g.push(["max_id",s]),u&&(v=v(u)),"media"===e&&g.push(["only_media",1]),"public"===e&&g.push(["local",!0]),"public"!==e&&"publicAndExternal"!==e||g.push(["only_media",!1]),"favorites"!==e&&"bookmarks"!==e&&g.push(["with_muted",p]),"all"!==h&&g.push(["reply_visibility",h]),g.push(["limit",20]);var w=b()(g,(function(t){return"".concat(t[0],"=").concat(t[1])})).join("&");v+="?".concat(w);var _="",x="",k={};return vt(v,{headers:wt(n)}).then((function(t){return _=t.status,x=t.statusText,k=Object(y.d)(t.headers.get("Link"),{flakeId:"bookmarks"!==e&&"notifications"!==e}),t})).then((function(t){return t.json()})).then((function(t){return t.errors?(t.status=_,t.statusText=x,t):{data:t.map(m?y.e:y.f),pagination:k}}))},fetchPinnedStatuses:function(t){var e=t.id,n=t.credentials,i=J(e)+"?pinned=true";return bt({url:i,credentials:n}).then((function(t){return t.map(y.f)}))},fetchConversation:function(t){var e=t.id,n=t.credentials,i=function(t){return"/api/v1/statuses/".concat(t,"/context")}(e);return vt(i,{headers:wt(n)}).then((function(t){if(t.ok)return t;throw new Error("Error fetching timeline",t)})).then((function(t){return t.json()})).then((function(t){var e=t.ancestors,n=t.descendants;return{ancestors:e.map(y.f),descendants:n.map(y.f)}}))},fetchStatus:function(t){var e=t.id,n=t.credentials,i=function(t){return"/api/v1/statuses/".concat(t)}(e);return vt(i,{headers:wt(n)}).then((function(t){if(t.ok)return t;throw new Error("Error fetching timeline",t)})).then((function(t){return t.json()})).then((function(t){return Object(y.f)(t)}))},fetchFriends:_t,exportFriends:function(t){var e=t.id,n=t.credentials;return new Promise((function(t,i){var r,s,a,c;return o.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:l.prev=0,r=[],s=!0;case 3:if(!s){l.next=12;break}return a=r.length>0?h()(r).id:void 0,l.next=7,o.a.awrap(_t({id:e,maxId:a,credentials:n}));case 7:c=l.sent,r=g()(r,c),0===c.length&&(s=!1),l.next=3;break;case 12:t(r),l.next=18;break;case 15:l.prev=15,l.t0=l.catch(0),i(l.t0);case 18:case"end":return l.stop()}}),null,null,[[0,15]])}))},fetchFollowers:function(t){var e=t.id,n=t.maxId,i=t.sinceId,o=t.limit,r=void 0===o?20:o,s=t.credentials,a=function(t){return"/api/v1/accounts/".concat(t,"/followers")}(e),c=[n&&"max_id=".concat(n),i&&"since_id=".concat(i),r&&"limit=".concat(r),"with_relationships=true"].filter((function(t){return t})).join("&");return vt(a+=c?"?"+c:"",{headers:wt(s)}).then((function(t){return t.json()})).then((function(t){return t.map(y.g)}))},followUser:function(t){var e=t.id,n=t.credentials,i=s()(t,["id","credentials"]),o=function(t){return"/api/v1/accounts/".concat(t,"/follow")}(e),r={};return void 0!==i.reblogs&&(r.reblogs=i.reblogs),vt(o,{body:JSON.stringify(r),headers:H({},wt(n),{"Content-Type":"application/json"}),method:"POST"}).then((function(t){return t.json()}))},unfollowUser:function(t){var e=t.id,n=t.credentials,i=function(t){return"/api/v1/accounts/".concat(t,"/unfollow")}(e);return vt(i,{headers:wt(n),method:"POST"}).then((function(t){return t.json()}))},pinOwnStatus:function(t){var e=t.id,n=t.credentials;return bt({url:st(e),credentials:n,method:"POST"}).then((function(t){return Object(y.f)(t)}))},unpinOwnStatus:function(t){var e=t.id,n=t.credentials;return bt({url:at(e),credentials:n,method:"POST"}).then((function(t){return Object(y.f)(t)}))},muteConversation:function(t){var e=t.id,n=t.credentials;return bt({url:ct(e),credentials:n,method:"POST"}).then((function(t){return Object(y.f)(t)}))},unmuteConversation:function(t){var e=t.id,n=t.credentials;return bt({url:lt(e),credentials:n,method:"POST"}).then((function(t){return Object(y.f)(t)}))},blockUser:function(t){var e=t.id,n=t.credentials;return vt(function(t){return"/api/v1/accounts/".concat(t,"/block")}(e),{headers:wt(n),method:"POST"}).then((function(t){return t.json()}))},unblockUser:function(t){var e=t.id,n=t.credentials;return vt(function(t){return"/api/v1/accounts/".concat(t,"/unblock")}(e),{headers:wt(n),method:"POST"}).then((function(t){return t.json()}))},fetchUser:function(t){var e=t.id,n=t.credentials,i="".concat("/api/v1/accounts","/").concat(e);return bt({url:i,credentials:n}).then((function(t){return Object(y.g)(t)}))},fetchUserRelationship:function(t){var e=t.id,n=t.credentials,i="".concat("/api/v1/accounts/relationships","/?id=").concat(e);return vt(i,{headers:wt(n)}).then((function(t){return new Promise((function(e,n){return t.json().then((function(o){return t.ok?e(o):n(new R(t.status,o,{url:i},t))}))}))}))},favorite:function(t){var e=t.id,n=t.credentials;return bt({url:W(e),method:"POST",credentials:n}).then((function(t){return Object(y.f)(t)}))},unfavorite:function(t){var e=t.id,n=t.credentials;return bt({url:G(e),method:"POST",credentials:n}).then((function(t){return Object(y.f)(t)}))},retweet:function(t){var e=t.id,n=t.credentials;return bt({url:K(e),method:"POST",credentials:n}).then((function(t){return Object(y.f)(t)}))},unretweet:function(t){var e=t.id,n=t.credentials;return bt({url:Y(e),method:"POST",credentials:n}).then((function(t){return Object(y.f)(t)}))},bookmarkStatus:function(t){var e=t.id,n=t.credentials;return bt({url:nt(e),headers:wt(n),method:"POST"})},unbookmarkStatus:function(t){var e=t.id,n=t.credentials;return bt({url:it(e),headers:wt(n),method:"POST"})},postStatus:function(t){var e=t.credentials,n=t.status,i=t.spoilerText,o=t.visibility,r=t.sensitive,s=t.poll,a=t.mediaIds,c=void 0===a?[]:a,l=t.inReplyToStatusId,u=t.contentType,d=t.preview,p=t.idempotencyKey,f=new FormData,h=s.options||[];if(f.append("status",n),f.append("source","Pleroma FE"),i&&f.append("spoiler_text",i),o&&f.append("visibility",o),r&&f.append("sensitive",r),u&&f.append("content_type",u),c.forEach((function(t){f.append("media_ids[]",t)})),h.some((function(t){return""!==t}))){var m={expires_in:s.expiresIn,multiple:s.multiple};Object.keys(m).forEach((function(t){f.append("poll[".concat(t,"]"),m[t])})),h.forEach((function(t){f.append("poll[options][]",t)}))}l&&f.append("in_reply_to_id",l),d&&f.append("preview","true");var g=wt(e);return p&&(g["idempotency-key"]=p),vt("/api/v1/statuses",{body:f,method:"POST",headers:g}).then((function(t){return t.json()})).then((function(t){return t.error?t:Object(y.f)(t)}))},deleteStatus:function(t){var e=t.id,n=t.credentials;return vt(function(t){return"/api/v1/statuses/".concat(t)}(e),{headers:wt(n),method:"DELETE"})},uploadMedia:function(t){var e=t.formData,n=t.credentials;return vt("/api/v1/media",{body:e,method:"POST",headers:wt(n)}).then((function(t){return t.json()})).then((function(t){return Object(y.a)(t)}))},setMediaDescription:function(t){var e=t.id,n=t.description,i=t.credentials;return bt({url:"".concat("/api/v1/media","/").concat(e),method:"PUT",headers:wt(i),payload:{description:n}}).then((function(t){return Object(y.a)(t)}))},fetchMutes:function(t){var e=t.credentials;return bt({url:"/api/v1/mutes/",credentials:e}).then((function(t){return t.map(y.g)}))},muteUser:function(t){var e=t.id,n=t.credentials;return bt({url:Q(e),credentials:n,method:"POST"})},unmuteUser:function(t){var e=t.id,n=t.credentials;return bt({url:Z(e),credentials:n,method:"POST"})},subscribeUser:function(t){var e=t.id,n=t.credentials;return bt({url:tt(e),credentials:n,method:"POST"})},unsubscribeUser:function(t){var e=t.id,n=t.credentials;return bt({url:et(e),credentials:n,method:"POST"})},fetchBlocks:function(t){var e=t.credentials;return bt({url:"/api/v1/blocks/",credentials:e}).then((function(t){return t.map(y.g)}))},fetchOAuthTokens:function(t){var e=t.credentials;return vt("/api/oauth_tokens.json",{headers:wt(e)}).then((function(t){if(t.ok)return t.json();throw new Error("Error fetching auth tokens",t)}))},revokeOAuthToken:function(t){var e=t.id,n=t.credentials,i="/api/oauth_tokens/".concat(e);return vt(i,{headers:wt(n),method:"DELETE"})},tagUser:function(t){var e=t.tag,n=t.credentials,i={nicknames:[t.user.screen_name],tags:[e]},o=wt(n);return o["Content-Type"]="application/json",vt("/api/pleroma/admin/users/tag",{method:"PUT",headers:o,body:JSON.stringify(i)})},untagUser:function(t){var e=t.tag,n=t.credentials,i={nicknames:[t.user.screen_name],tags:[e]},o=wt(n);return o["Content-Type"]="application/json",vt("/api/pleroma/admin/users/tag",{method:"DELETE",headers:o,body:JSON.stringify(i)})},deleteUser:function(t){var e=t.credentials,n=t.user.screen_name,i=wt(e);return vt("".concat("/api/pleroma/admin/users","?nickname=").concat(n),{method:"DELETE",headers:i})},addRight:function(t){var e=t.right,n=t.credentials,i=t.user.screen_name;return vt(q(i,e),{method:"POST",headers:wt(n),body:{}})},deleteRight:function(t){var e=t.right,n=t.credentials,i=t.user.screen_name;return vt(q(i,e),{method:"DELETE",headers:wt(n),body:{}})},activateUser:function(t){var e=t.credentials,n=t.user.screen_name;return bt({url:"/api/pleroma/admin/users/activate",method:"PATCH",credentials:e,payload:{nicknames:[n]}}).then((function(t){return p()(t,"users.0")}))},deactivateUser:function(t){var e=t.credentials,n=t.user.screen_name;return bt({url:"/api/pleroma/admin/users/deactivate",method:"PATCH",credentials:e,payload:{nicknames:[n]}}).then((function(t){return p()(t,"users.0")}))},register:function(t){var e=t.params,n=t.credentials,i=e.nickname,o=s()(e,["nickname"]);return vt("/api/v1/accounts",{method:"POST",headers:H({},wt(n),{"Content-Type":"application/json"}),body:JSON.stringify(H({nickname:i,locale:"en_US",agreement:!0},o))}).then((function(t){return t.ok?t.json():t.json().then((function(t){throw new B(t)}))}))},getCaptcha:function(){return vt("/api/pleroma/captcha").then((function(t){return t.json()}))},updateProfileImages:function(t){var e=t.credentials,n=t.avatar,i=void 0===n?null:n,o=t.banner,r=void 0===o?null:o,s=t.background,a=void 0===s?null:s,c=new FormData;return null!==i&&c.append("avatar",i),null!==r&&c.append("header",r),null!==a&&c.append("pleroma_background_image",a),vt("/api/v1/accounts/update_credentials",{headers:wt(e),method:"PATCH",body:c}).then((function(t){return t.json()})).then((function(t){if(t.error)throw new Error(t.error);return Object(y.g)(t)}))},updateProfile:function(t){var e=t.credentials,n=t.params;return bt({url:"/api/v1/accounts/update_credentials",method:"PATCH",payload:n,credentials:e}).then((function(t){return Object(y.g)(t)}))},importMutes:function(t){var e=t.file,n=t.credentials,i=new FormData;return i.append("list",e),vt("/api/pleroma/mutes_import",{body:i,method:"POST",headers:wt(n)}).then((function(t){return t.ok}))},importBlocks:function(t){var e=t.file,n=t.credentials,i=new FormData;return i.append("list",e),vt("/api/pleroma/blocks_import",{body:i,method:"POST",headers:wt(n)}).then((function(t){return t.ok}))},importFollows:function(t){var e=t.file,n=t.credentials,i=new FormData;return i.append("list",e),vt("/api/pleroma/follow_import",{body:i,method:"POST",headers:wt(n)}).then((function(t){return t.ok}))},deleteAccount:function(t){var e=t.credentials,n=t.password,i=new FormData;return i.append("password",n),vt("/api/pleroma/delete_account",{body:i,method:"POST",headers:wt(e)}).then((function(t){return t.json()}))},changeEmail:function(t){var e=t.credentials,n=t.email,i=t.password,o=new FormData;return o.append("email",n),o.append("password",i),vt("/api/pleroma/change_email",{body:o,method:"POST",headers:wt(e)}).then((function(t){return t.json()}))},changePassword:function(t){var e=t.credentials,n=t.password,i=t.newPassword,o=t.newPasswordConfirmation,r=new FormData;return r.append("password",n),r.append("new_password",i),r.append("new_password_confirmation",o),vt("/api/pleroma/change_password",{body:r,method:"POST",headers:wt(e)}).then((function(t){return t.json()}))},settingsMFA:function(t){var e=t.credentials;return vt("/api/pleroma/accounts/mfa",{headers:wt(e),method:"GET"}).then((function(t){return t.json()}))},mfaDisableOTP:function(t){var e=t.credentials,n=t.password,i=new FormData;return i.append("password",n),vt("/api/pleroma/accounts/mfa/totp",{body:i,method:"DELETE",headers:wt(e)}).then((function(t){return t.json()}))},generateMfaBackupCodes:function(t){var e=t.credentials;return vt("/api/pleroma/accounts/mfa/backup_codes",{headers:wt(e),method:"GET"}).then((function(t){return t.json()}))},mfaSetupOTP:function(t){var e=t.credentials;return vt("/api/pleroma/accounts/mfa/setup/totp",{headers:wt(e),method:"GET"}).then((function(t){return t.json()}))},mfaConfirmOTP:function(t){var e=t.credentials,n=t.password,i=t.token,o=new FormData;return o.append("password",n),o.append("code",i),vt("/api/pleroma/accounts/mfa/confirm/totp",{body:o,headers:wt(e),method:"POST"}).then((function(t){return t.json()}))},fetchFollowRequests:function(t){var e=t.credentials;return vt("/api/v1/follow_requests",{headers:wt(e)}).then((function(t){return t.json()})).then((function(t){return t.map(y.g)}))},approveUser:function(t){var e=t.id,n=t.credentials,i=function(t){return"/api/v1/follow_requests/".concat(t,"/authorize")}(e);return vt(i,{headers:wt(n),method:"POST"}).then((function(t){return t.json()}))},denyUser:function(t){var e=t.id,n=t.credentials,i=function(t){return"/api/v1/follow_requests/".concat(t,"/reject")}(e);return vt(i,{headers:wt(n),method:"POST"}).then((function(t){return t.json()}))},suggestions:function(t){var e=t.credentials;return vt("/api/v1/suggestions",{headers:wt(e)}).then((function(t){return t.json()}))},markNotificationsAsSeen:function(t){var e=t.id,n=t.credentials,i=t.single,o=void 0!==i&&i,r=new FormData;return o?r.append("id",e):r.append("max_id",e),vt("/api/v1/pleroma/notifications/read",{body:r,headers:wt(n),method:"POST"}).then((function(t){return t.json()}))},dismissNotification:function(t){var e=t.credentials,n=t.id;return bt({url:V(n),method:"POST",payload:{id:n},credentials:e})},vote:function(t){var e,n=t.pollId,i=t.choices,o=t.credentials;return(new FormData).append("choices",i),bt({url:(e=encodeURIComponent(n),"/api/v1/polls/".concat(e,"/votes")),method:"POST",credentials:o,payload:{choices:i}})},fetchPoll:function(t){var e,n=t.pollId,i=t.credentials;return bt({url:(e=encodeURIComponent(n),"/api/v1/polls/".concat(e)),method:"GET",credentials:i})},fetchFavoritedByUsers:function(t){var e=t.id,n=t.credentials;return bt({url:ot(e),method:"GET",credentials:n}).then((function(t){return t.map(y.g)}))},fetchRebloggedByUsers:function(t){var e=t.id,n=t.credentials;return bt({url:rt(e),method:"GET",credentials:n}).then((function(t){return t.map(y.g)}))},fetchEmojiReactions:function(t){var e=t.id,n=t.credentials;return bt({url:ut(e),credentials:n}).then((function(t){return t.map((function(t){return t.accounts=t.accounts.map(y.g),t}))}))},reactWithEmoji:function(t){var e=t.id,n=t.emoji,i=t.credentials;return bt({url:dt(e,n),method:"PUT",credentials:i}).then(y.f)},unreactWithEmoji:function(t){var e=t.id,n=t.emoji,i=t.credentials;return bt({url:pt(e,n),method:"DELETE",credentials:i}).then(y.f)},reportUser:function(t){var e=t.credentials,n=t.userId,i=t.statusIds,o=t.comment,r=t.forward;return bt({url:"/api/v1/reports",method:"POST",payload:{account_id:n,status_ids:i,comment:o,forward:r},credentials:e})},updateNotificationSettings:function(t){var e=t.credentials,n=t.settings,i=new FormData;return _()(n,(function(t,e){i.append(e,t)})),vt("/api/pleroma/notification_settings",{headers:wt(e),method:"PUT",body:i}).then((function(t){return t.json()}))},search2:function(t){var e=t.credentials,n=t.q,i=t.resolve,o=t.limit,r=t.offset,s=t.following,a="/api/v2/search",c=[];n&&c.push(["q",encodeURIComponent(n)]),i&&c.push(["resolve",i]),o&&c.push(["limit",o]),r&&c.push(["offset",r]),s&&c.push(["following",!0]),c.push(["with_relationships",!0]);var l=b()(c,(function(t){return"".concat(t[0],"=").concat(t[1])})).join("&");return a+="?".concat(l),vt(a,{headers:wt(e)}).then((function(t){if(t.ok)return t;throw new Error("Error fetching search result",t)})).then((function(t){return t.json()})).then((function(t){return t.accounts=t.accounts.slice(0,o).map((function(t){return Object(y.g)(t)})),t.statuses=t.statuses.slice(0,o).map((function(t){return Object(y.f)(t)})),t}))},searchUsers:function(t){var e=t.credentials,n=t.query;return bt({url:"/api/v1/accounts/search",params:{q:n,resolve:!0},credentials:e}).then((function(t){return t.map(y.g)}))},fetchKnownDomains:function(t){var e=t.credentials;return bt({url:"/api/v1/instance/peers",credentials:e})},fetchDomainMutes:function(t){var e=t.credentials;return bt({url:"/api/v1/domain_blocks",credentials:e})},muteDomain:function(t){var e=t.domain,n=t.credentials;return bt({url:"/api/v1/domain_blocks",method:"POST",payload:{domain:e},credentials:n})},unmuteDomain:function(t){var e=t.domain,n=t.credentials;return bt({url:"/api/v1/domain_blocks",method:"DELETE",payload:{domain:e},credentials:n})},chats:function(t){var e=t.credentials;return vt("/api/v1/pleroma/chats",{headers:wt(e)}).then((function(t){return t.json()})).then((function(t){return{chats:t.map(y.b).filter((function(t){return t}))}}))},getOrCreateChat:function(t){var e,n=t.accountId,i=t.credentials;return bt({url:(e=n,"/api/v1/pleroma/chats/by-account-id/".concat(e)),method:"POST",credentials:i})},chatMessages:function(t){var e=t.id,n=t.credentials,i=t.maxId,o=t.sinceId,r=t.limit,s=void 0===r?20:r,a=ft(e),c=[i&&"max_id=".concat(i),o&&"since_id=".concat(o),s&&"limit=".concat(s)].filter((function(t){return t})).join("&");return bt({url:a+=c?"?"+c:"",method:"GET",credentials:n})},sendChatMessage:function(t){var e=t.id,n=t.content,i=t.mediaId,o=void 0===i?null:i,r=t.idempotencyKey,s=t.credentials,a={content:n};o&&(a.media_id=o);var c={};return r&&(c["idempotency-key"]=r),bt({url:ft(e),method:"POST",payload:a,credentials:s,headers:c})},readChat:function(t){var e=t.id,n=t.lastReadId,i=t.credentials;return bt({url:ht(e),method:"POST",payload:{last_read_id:n},credentials:i})},deleteChatMessage:function(t){var e=t.chatId,n=t.messageId,i=t.credentials;return bt({url:mt(e,n),method:"DELETE",credentials:i})}};e.c=jt},function(t,e,n){"use strict";n.d(e,"i",(function(){return d})),n.d(e,"h",(function(){return f})),n.d(e,"c",(function(){return m})),n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return v})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return w})),n.d(e,"j",(function(){return _})),n.d(e,"e",(function(){return y})),n.d(e,"d",(function(){return x}));var i=n(2),o=n.n(i),r=n(9),s=n.n(r),a=n(26),c=n.n(a),l=n(16);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var d=function(t,e,n){if(null!=t){if("#"===t[0]||"transparent"===t)return t;if("object"===c()(t)){var i=t;t=i.r,e=i.g,n=i.b}var o=[t,e,n].map((function(t){return t=(t=(t=Math.ceil(t))<0?0:t)>255?255:t})),r=s()(o,3);return t=r[0],e=r[1],n=r[2],"#".concat(((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1))}},p=function(t){return"rgb".split("").reduce((function(e,n){return e[n]=function(t){var e=t/255;return e<.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}(t[n]),e}),{})},f=function(t){var e=p(t);return.2126*e.r+.7152*e.g+.0722*e.b},h=function(t,e){var n=f(t),i=f(e),o=n>i?[n,i]:[i,n],r=s()(o,2);return(r[0]+.05)/(r[1]+.05)},m=function(t,e,n){return h(v(n,e),t)},g=function(t,e,n){return 1===e||void 0===e?t:"rgb".split("").reduce((function(i,o){return i[o]=t[o]*e+n[o]*(1-e),i}),{})},v=function(t,e){return e.reduce((function(t,e){var n=s()(e,2),i=n[0],o=n[1];return g(i,o,t)}),t)},b=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},w=function(t,e){return"rgb".split("").reduce((function(n,i){return n[i]=(t[i]+e[i])/2,n}),{})},_=function(t){return"rgba(".concat(Math.floor(t.r),", ").concat(Math.floor(t.g),", ").concat(Math.floor(t.b),", ").concat(t.a,")")},y=function(t,e,n){if(h(t,e)<4.5){var i=void 0!==e.a?{a:e.a}:{},o=Object.assign(i,Object(l.invertLightness)(e).rgb);return!n&&h(t,o)<4.5?Object(l.contrastRatio)(t,e).rgb:o}return e},x=function(t,e){var n={};if("object"===c()(t))n=t;else if("string"==typeof t){if(!t.startsWith("#"))return t;n=b(t)}return _(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n,{a:e}))}},,,,,,,function(t,e,n){"use strict";var i=n(107),o=n.n(i),r=function(t){return t&&t.includes("@")};e.a=function(t,e,n){var i=!e||r(e)||o()(n,e);return{name:i?"external-user-profile":"user-profile",params:i?{id:t}:{name:e}}}},function(t,e,n){"use strict";n.r(e);var i={props:["user","betterShadow","compact"],data:function(){return{showPlaceholder:!1,defaultAvatar:"".concat(this.$store.state.instance.server+this.$store.state.instance.defaultAvatar)}},components:{StillImage:n(67).a},methods:{imgSrc:function(t){return!t||this.showPlaceholder?this.defaultAvatar:t},imageLoadError:function(){this.showPlaceholder=!0}}},o=n(0);var r=function(t){n(432)},s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user?n("StillImage",{staticClass:"Avatar",class:{"avatar-compact":t.compact,"better-shadow":t.betterShadow},attrs:{alt:t.user.screen_name_ui,title:t.user.screen_name_ui,src:t.imgSrc(t.user.profile_image_url_original),"image-load-error":t.imageLoadError}}):n("div",{staticClass:"Avatar -placeholder",class:{"avatar-compact":t.compact}})}),[],!1,r,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i={name:"Popover",props:{trigger:String,placement:String,boundTo:Object,boundToSelector:String,margin:Object,offset:Object,popoverClass:String,removePadding:Boolean},data:function(){return{hidden:!0,styles:{opacity:0},oldSize:{width:0,height:0}}},methods:{containerBoundingClientRect:function(){return(this.boundToSelector?this.$el.closest(this.boundToSelector):this.$el.offsetParent).getBoundingClientRect()},updateStyles:function(){if(this.hidden)this.styles={opacity:0};else{var t=this.$refs.trigger&&this.$refs.trigger.children[0]||this.$el,e=t.offsetWidth||t.clientWidth,n=t.offsetHeight||t.clientHeight,i=t.getBoundingClientRect(),o=i.left+.5*i.width,r=i.top,s=this.$refs.content,a=this.boundTo&&("container"===this.boundTo.x||"container"===this.boundTo.y)&&this.containerBoundingClientRect(),c=this.margin||{},l=this.boundTo&&"container"===this.boundTo.x?{min:a.left+(c.left||0),max:a.right-(c.right||0)}:{min:0+(c.left||10),max:window.innerWidth-(c.right||10)},u=this.boundTo&&"container"===this.boundTo.y?{min:a.top+(c.top||0),max:a.bottom-(c.bottom||0)}:{min:0+(c.top||50),max:window.innerHeight-(c.bottom||5)},d=0;o-.5*s.offsetWidth<l.min&&(d+=-(o-.5*s.offsetWidth)+l.min),o+d+.5*s.offsetWidth>l.max&&(d-=o+d+.5*s.offsetWidth-l.max);var p="bottom"!==this.placement;r+s.offsetHeight>u.max&&(p=!0),r-s.offsetHeight<u.min&&(p=!1);var f=0;if(this.removePadding&&p){var h=getComputedStyle(t);f=parseFloat(h.paddingTop)+parseFloat(h.paddingBottom)}var m=this.offset&&this.offset.y||0,g=p?-n+f-m-s.offsetHeight:m,v=this.offset&&this.offset.x||0,b=.5*e-.5*s.offsetWidth+d+v;this.styles={opacity:1,transform:"translateX(".concat(Math.round(b),"px) translateY(").concat(Math.round(g),"px)")}}},showPopover:function(){var t=this,e=this.hidden;this.hidden=!1,this.$nextTick((function(){e&&t.$emit("show"),t.updateStyles()}))},hidePopover:function(){this.hidden||this.$emit("close"),this.hidden=!0,this.styles={opacity:0}},onMouseenter:function(t){"hover"===this.trigger&&this.showPopover()},onMouseleave:function(t){"hover"===this.trigger&&this.hidePopover()},onClick:function(t){"click"===this.trigger&&(this.hidden?this.showPopover():this.hidePopover())},onClickOutside:function(t){this.hidden||this.$el.contains(t.target)||this.hidePopover()}},updated:function(){var t=this.$refs.content;t&&(this.oldSize.width===t.offsetWidth&&this.oldSize.height===t.offsetHeight||(this.updateStyles(),this.oldSize={width:t.offsetWidth,height:t.offsetHeight}))},created:function(){document.addEventListener("click",this.onClickOutside)},destroyed:function(){document.removeEventListener("click",this.onClickOutside),this.hidePopover()}},o=n(0);var r=function(t){n(394)},s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{mouseenter:t.onMouseenter,mouseleave:t.onMouseleave}},[n("button",{ref:"trigger",staticClass:"button-unstyled -fullwidth popover-trigger-button",attrs:{type:"button"},on:{click:t.onClick}},[t._t("trigger")],2),t._v(" "),t.hidden?t._e():n("div",{ref:"content",staticClass:"popover",class:t.popoverClass||"popover-default",style:t.styles},[t._t("content",null,{close:t.hidePopover})],2)])}),[],!1,r,null,null);e.default=s.exports},function(t,e,n){"use strict";n.d(e,"e",(function(){return d})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return v})),n.d(e,"a",(function(){return b})),n.d(e,"f",(function(){return w}));var i=n(107),o=n.n(i),r=n(108),s=n.n(r),a=n(40),c=n.n(a),l=n(109),u=n(110),d=function(t){return t.state.statuses.notifications.data},p=function(t){var e=t.rootState||t.state;return[e.config.notificationVisibility.likes&&"like",e.config.notificationVisibility.mentions&&"mention",e.config.notificationVisibility.repeats&&"repeat",e.config.notificationVisibility.follows&&"follow",e.config.notificationVisibility.followRequest&&"follow_request",e.config.notificationVisibility.moves&&"move",e.config.notificationVisibility.emojiReactions&&"pleroma:emoji_reaction"].filter((function(t){return t}))},f=["like","mention","repeat","pleroma:emoji_reaction"],h=function(t){return o()(f,t)},m=function(t){return!(h(t.type)&&!t.status)},g=function(t,e){var n=Number(t.id),i=Number(e.id),o=!Number.isNaN(n),r=!Number.isNaN(i);return o&&r?n>i?-1:1:o&&!r?1:!o&&r||t.id>e.id?-1:1},v=function(t,e){var n=t.rootState||t.state;if(!e.seen&&p(t).includes(e.type)&&("mention"!==e.type||!function(t,e){if(e.status)return e.status.muted||Object(l.a)(e.status,t.rootGetters.mergedConfig.muteWords).length>0}(t,e))){var i=_(e,t.rootGetters.i18n);Object(u.a)(n,i)}},b=function(t,e){var n=d(t).map((function(t){return t})).sort(g);return(n=s()(n,"seen")).filter((function(n){return(e||p(t)).includes(n.type)}))},w=function(t){return c()(b(t),(function(t){return!t.seen}))},_=function(t,e){var n,i={tag:t.id},o=t.status,r=t.from_profile.name;switch(i.title=r,i.icon=t.from_profile.profile_image_url,t.type){case"like":n="favorited_you";break;case"repeat":n="repeated_you";break;case"follow":n="followed_you";break;case"move":n="migrated_to";break;case"follow_request":n="follow_request"}return"pleroma:emoji_reaction"===t.type?i.body=e.t("notifications.reacted_with",[t.emoji]):n?i.body=e.t("notifications."+n):h(t.type)&&(i.body=t.status.text),o&&o.attachments&&o.attachments.length>0&&!o.nsfw&&o.attachments[0].mimetype.startsWith("image/")&&(i.image=o.attachments[0].url),i}},,,function(t,e,n){"use strict";var i=function(t){return t.match(/flash/)?"flash":t.match(/text\/html/)?"html":t.match(/image/)?"image":t.match(/video/)?"video":t.match(/audio/)?"audio":"unknown"},o={fileType:i,fileMatchesSomeType:function(t,e){return t.some((function(t){return i(e.mimetype)===t}))}};e.a=o},,,,,function(t,e,n){"use strict";var i=n(2),o=n.n(i),r=n(20),s=n(123),a=n(88),c=n(119),l=n(3),u=n(1),d={props:{darkOverlay:{default:!0,type:Boolean},onCancel:{default:function(){},type:Function}}},p=n(0);var f=function(t){n(438)},h=Object(p.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{class:{"dark-overlay":t.darkOverlay},on:{click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.onCancel())}}},[n("div",{staticClass:"dialog-modal panel panel-default",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"panel-heading dialog-modal-heading"},[n("div",{staticClass:"title"},[t._t("header")],2)]),t._v(" "),n("div",{staticClass:"dialog-modal-content"},[t._t("default")],2),t._v(" "),n("div",{staticClass:"dialog-modal-footer user-interactions panel-footer"},[t._t("footer")],2)])])}),[],!1,f,null,null).exports,m=n(21);l.c.add(u.i);var g={props:["user"],data:function(){return{tags:{FORCE_NSFW:"mrf_tag:media-force-nsfw",STRIP_MEDIA:"mrf_tag:media-strip",FORCE_UNLISTED:"mrf_tag:force-unlisted",DISABLE_REMOTE_SUBSCRIPTION:"mrf_tag:disable-remote-subscription",DISABLE_ANY_SUBSCRIPTION:"mrf_tag:disable-any-subscription",SANDBOX:"mrf_tag:sandbox",QUARANTINE:"mrf_tag:quarantine"},showDeleteUserDialog:!1,toggled:!1}},components:{DialogModal:h,Popover:m.default},computed:{tagsSet:function(){return new Set(this.user.tags)},hasTagPolicy:function(){return this.$store.state.instance.tagPolicyAvailable}},methods:{hasTag:function(t){return this.tagsSet.has(t)},toggleTag:function(t){var e=this,n=this.$store;this.tagsSet.has(t)?n.state.api.backendInteractor.untagUser({user:this.user,tag:t}).then((function(i){i.ok&&n.commit("untagUser",{user:e.user,tag:t})})):n.state.api.backendInteractor.tagUser({user:this.user,tag:t}).then((function(i){i.ok&&n.commit("tagUser",{user:e.user,tag:t})}))},toggleRight:function(t){var e=this,n=this.$store;this.user.rights[t]?n.state.api.backendInteractor.deleteRight({user:this.user,right:t}).then((function(i){i.ok&&n.commit("updateRight",{user:e.user,right:t,value:!1})})):n.state.api.backendInteractor.addRight({user:this.user,right:t}).then((function(i){i.ok&&n.commit("updateRight",{user:e.user,right:t,value:!0})}))},toggleActivationStatus:function(){this.$store.dispatch("toggleActivationStatus",{user:this.user})},deleteUserDialog:function(t){this.showDeleteUserDialog=t},deleteUser:function(){var t=this,e=this.$store,n=this.user,i=n.id,o=n.name;e.state.api.backendInteractor.deleteUser({user:n}).then((function(e){t.$store.dispatch("markStatusesAsDeleted",(function(t){return n.id===t.user.id}));var r="external-user-profile"===t.$route.name||"user-profile"===t.$route.name,s=t.$route.params.name===o||t.$route.params.id===i;r&&s&&window.history.back()}))},setToggled:function(t){this.toggled=t}}};var v=function(t){n(436)},b=Object(p.a)(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Popover",{staticClass:"moderation-tools-popover",attrs:{trigger:"click",placement:"bottom",offset:{y:5}},on:{show:function(e){return t.setToggled(!0)},close:function(e){return t.setToggled(!1)}},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"dropdown-menu"},[t.user.is_local?n("span",[n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleRight("admin")}}},[t._v("\n            "+t._s(t.$t(t.user.rights.admin?"user_card.admin_menu.revoke_admin":"user_card.admin_menu.grant_admin"))+"\n          ")]),t._v(" "),n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleRight("moderator")}}},[t._v("\n            "+t._s(t.$t(t.user.rights.moderator?"user_card.admin_menu.revoke_moderator":"user_card.admin_menu.grant_moderator"))+"\n          ")]),t._v(" "),n("div",{staticClass:"dropdown-divider",attrs:{role:"separator"}})]):t._e(),t._v(" "),n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleActivationStatus()}}},[t._v("\n          "+t._s(t.$t(t.user.deactivated?"user_card.admin_menu.activate_account":"user_card.admin_menu.deactivate_account"))+"\n        ")]),t._v(" "),n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.deleteUserDialog(!0)}}},[t._v("\n          "+t._s(t.$t("user_card.admin_menu.delete_account"))+"\n        ")]),t._v(" "),t.hasTagPolicy?n("div",{staticClass:"dropdown-divider",attrs:{role:"separator"}}):t._e(),t._v(" "),t.hasTagPolicy?n("span",[n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleTag(t.tags.FORCE_NSFW)}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-checked":t.hasTag(t.tags.FORCE_NSFW)}}),t._v("\n            "+t._s(t.$t("user_card.admin_menu.force_nsfw"))+"\n          ")]),t._v(" "),n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleTag(t.tags.STRIP_MEDIA)}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-checked":t.hasTag(t.tags.STRIP_MEDIA)}}),t._v("\n            "+t._s(t.$t("user_card.admin_menu.strip_media"))+"\n          ")]),t._v(" "),n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleTag(t.tags.FORCE_UNLISTED)}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-checked":t.hasTag(t.tags.FORCE_UNLISTED)}}),t._v("\n            "+t._s(t.$t("user_card.admin_menu.force_unlisted"))+"\n          ")]),t._v(" "),n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleTag(t.tags.SANDBOX)}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-checked":t.hasTag(t.tags.SANDBOX)}}),t._v("\n            "+t._s(t.$t("user_card.admin_menu.sandbox"))+"\n          ")]),t._v(" "),t.user.is_local?n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleTag(t.tags.DISABLE_REMOTE_SUBSCRIPTION)}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-checked":t.hasTag(t.tags.DISABLE_REMOTE_SUBSCRIPTION)}}),t._v("\n            "+t._s(t.$t("user_card.admin_menu.disable_remote_subscription"))+"\n          ")]):t._e(),t._v(" "),t.user.is_local?n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleTag(t.tags.DISABLE_ANY_SUBSCRIPTION)}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-checked":t.hasTag(t.tags.DISABLE_ANY_SUBSCRIPTION)}}),t._v("\n            "+t._s(t.$t("user_card.admin_menu.disable_any_subscription"))+"\n          ")]):t._e(),t._v(" "),t.user.is_local?n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleTag(t.tags.QUARANTINE)}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-checked":t.hasTag(t.tags.QUARANTINE)}}),t._v("\n            "+t._s(t.$t("user_card.admin_menu.quarantine"))+"\n          ")]):t._e()]):t._e()])]},proxy:!0},{key:"trigger",fn:function(){return[n("button",{staticClass:"btn button-default btn-block moderation-tools-button",class:{toggled:t.toggled}},[t._v("\n        "+t._s(t.$t("user_card.admin_menu.moderation"))+"\n        "),n("FAIcon",{attrs:{icon:"chevron-down"}})],1)]},proxy:!0}])}),t._v(" "),n("portal",{attrs:{to:"modal"}},[t.showDeleteUserDialog?n("DialogModal",{attrs:{"on-cancel":t.deleteUserDialog.bind(this,!1)},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("\n        "+t._s(t.$t("user_card.admin_menu.delete_user"))+"\n      ")]},proxy:!0},{key:"footer",fn:function(){return[n("button",{staticClass:"btn button-default",on:{click:function(e){return t.deleteUserDialog(!1)}}},[t._v("\n          "+t._s(t.$t("general.cancel"))+"\n        ")]),t._v(" "),n("button",{staticClass:"btn button-default danger",on:{click:function(e){return t.deleteUser()}}},[t._v("\n          "+t._s(t.$t("user_card.admin_menu.delete_user"))+"\n        ")])]},proxy:!0}],null,!1,2753940671)},[t._v(" "),n("p",[t._v(t._s(t.$t("user_card.admin_menu.delete_user_confirmation")))])]):t._e()],1)],1)}),[],!1,v,null,null).exports,w=n(4);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}l.c.add(u.s);var y={props:["user","relationship"],data:function(){return{}},components:{ProgressButton:a.a,Popover:m.default},methods:{showRepeats:function(){this.$store.dispatch("showReblogs",this.user.id)},hideRepeats:function(){this.$store.dispatch("hideReblogs",this.user.id)},blockUser:function(){this.$store.dispatch("blockUser",this.user.id)},unblockUser:function(){this.$store.dispatch("unblockUser",this.user.id)},reportUser:function(){this.$store.dispatch("openUserReportingModal",{userId:this.user.id})},openChat:function(){this.$router.push({name:"chat",params:{recipient_id:this.user.id}})}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(w.e)({pleromaChatMessagesAvailable:function(t){return t.instance.pleromaChatMessagesAvailable}}))};var x=function(t){n(440)},k=Object(p.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"AccountActions"},[n("Popover",{attrs:{trigger:"click",placement:"bottom","bound-to":{x:"container"},"remove-padding":""},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"dropdown-menu"},[t.relationship.following?[t.relationship.showing_reblogs?n("button",{staticClass:"btn button-default dropdown-item",on:{click:t.hideRepeats}},[t._v("\n            "+t._s(t.$t("user_card.hide_repeats"))+"\n          ")]):t._e(),t._v(" "),t.relationship.showing_reblogs?t._e():n("button",{staticClass:"btn button-default dropdown-item",on:{click:t.showRepeats}},[t._v("\n            "+t._s(t.$t("user_card.show_repeats"))+"\n          ")]),t._v(" "),n("div",{staticClass:"dropdown-divider",attrs:{role:"separator"}})]:t._e(),t._v(" "),t.relationship.blocking?n("button",{staticClass:"btn button-default btn-block dropdown-item",on:{click:t.unblockUser}},[t._v("\n          "+t._s(t.$t("user_card.unblock"))+"\n        ")]):n("button",{staticClass:"btn button-default btn-block dropdown-item",on:{click:t.blockUser}},[t._v("\n          "+t._s(t.$t("user_card.block"))+"\n        ")]),t._v(" "),n("button",{staticClass:"btn button-default btn-block dropdown-item",on:{click:t.reportUser}},[t._v("\n          "+t._s(t.$t("user_card.report"))+"\n        ")]),t._v(" "),t.pleromaChatMessagesAvailable?n("button",{staticClass:"btn button-default btn-block dropdown-item",on:{click:t.openChat}},[t._v("\n          "+t._s(t.$t("user_card.message"))+"\n        ")]):t._e()],2)]},proxy:!0},{key:"trigger",fn:function(){return[n("button",{staticClass:"button-unstyled ellipsis-button"},[n("FAIcon",{staticClass:"icon",attrs:{icon:"ellipsis-v"}})],1)]},proxy:!0}])})],1)}),[],!1,x,null,null).exports,C=n(60),S=n(19);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}l.c.add(u.U,u.d,u.W,u.v,u.q);var P={props:["userId","switcher","selected","hideBio","rounded","bordered","allowZoomingAvatar"],data:function(){return{followRequestInProgress:!1,betterShadow:this.$store.state.interface.browserSupport.cssFilter}},created:function(){this.$store.dispatch("fetchUserRelationship",this.user.id)},computed:j({user:function(){return this.$store.getters.findUser(this.userId)},relationship:function(){return this.$store.getters.relationship(this.userId)},classes:function(){return[{"user-card-rounded-t":"top"===this.rounded,"user-card-rounded":!0===this.rounded,"user-card-bordered":!0===this.bordered}]},style:function(){return{backgroundImage:["linear-gradient(to bottom, var(--profileTint), var(--profileTint))","url(".concat(this.user.cover_photo,")")].join(", ")}},isOtherUser:function(){return this.user.id!==this.$store.state.users.currentUser.id},subscribeUrl:function(){var t=new URL(this.user.statusnet_profile_url);return"".concat(t.protocol,"//").concat(t.host,"/main/ostatus")},loggedIn:function(){return this.$store.state.users.currentUser},dailyAvg:function(){var t=Math.ceil((new Date-new Date(this.user.created_at))/864e5);return Math.round(this.user.statuses_count/t)},userHighlightType:j({get:function(){var t=this.$store.getters.mergedConfig.highlight[this.user.screen_name];return t&&t.type||"disabled"},set:function(t){var e=this.$store.getters.mergedConfig.highlight[this.user.screen_name];"disabled"!==t?this.$store.dispatch("setHighlight",{user:this.user.screen_name,color:e&&e.color||"#FFFFFF",type:t}):this.$store.dispatch("setHighlight",{user:this.user.screen_name,color:void 0})}},Object(w.c)(["mergedConfig"])),userHighlightColor:{get:function(){var t=this.$store.getters.mergedConfig.highlight[this.user.screen_name];return t&&t.color},set:function(t){this.$store.dispatch("setHighlight",{user:this.user.screen_name,color:t})}},visibleRole:function(){var t=this.user.rights;if(t){var e=t.admin||t.moderator,n=t.admin?"admin":"moderator";return e&&n}},hideFollowsCount:function(){return this.isOtherUser&&this.user.hide_follows_count},hideFollowersCount:function(){return this.isOtherUser&&this.user.hide_followers_count}},Object(w.c)(["mergedConfig"])),components:{UserAvatar:r.default,RemoteFollow:s.a,ModerationTools:b,AccountActions:k,ProgressButton:a.a,FollowButton:c.a,Select:C.a},methods:{muteUser:function(){this.$store.dispatch("muteUser",this.user.id)},unmuteUser:function(){this.$store.dispatch("unmuteUser",this.user.id)},subscribeUser:function(){return this.$store.dispatch("subscribeUser",this.user.id)},unsubscribeUser:function(){return this.$store.dispatch("unsubscribeUser",this.user.id)},setProfileView:function(t){this.switcher&&this.$store.commit("setProfileView",{v:t})},linkClicked:function(t){var e=t.target;"SPAN"===e.tagName&&(e=e.parentNode),"A"===e.tagName&&window.open(e.href,"_blank")},userProfileLink:function(t){return Object(S.a)(t.id,t.screen_name,this.$store.state.instance.restrictedNicknames)},openProfileTab:function(){this.$store.dispatch("openSettingsModalTab","profile")},zoomAvatar:function(){var t={url:this.user.profile_image_url_original,mimetype:"image"};this.$store.dispatch("setMedia",[t]),this.$store.dispatch("setCurrent",t)},mentionUser:function(){this.$store.dispatch("openPostStatusModal",{replyTo:!0,repliedUser:this.user})}}};var T=function(t){n(430)},$=Object(p.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-card",class:t.classes},[n("div",{staticClass:"background-image",class:{"hide-bio":t.hideBio},style:t.style}),t._v(" "),n("div",{staticClass:"panel-heading"},[n("div",{staticClass:"user-info"},[n("div",{staticClass:"container"},[t.allowZoomingAvatar?n("a",{staticClass:"user-info-avatar-link",on:{click:t.zoomAvatar}},[n("UserAvatar",{attrs:{"better-shadow":t.betterShadow,user:t.user}}),t._v(" "),n("div",{staticClass:"user-info-avatar-link-overlay"},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"search-plus"}})],1)],1):n("router-link",{attrs:{to:t.userProfileLink(t.user)}},[n("UserAvatar",{attrs:{"better-shadow":t.betterShadow,user:t.user}})],1),t._v(" "),n("div",{staticClass:"user-summary"},[n("div",{staticClass:"top-line"},[t.user.name_html?n("div",{staticClass:"user-name",attrs:{title:t.user.name},domProps:{innerHTML:t._s(t.user.name_html)}}):n("div",{staticClass:"user-name",attrs:{title:t.user.name}},[t._v("\n              "+t._s(t.user.name)+"\n            ")]),t._v(" "),!t.isOtherUser&&t.user.is_local?n("button",{staticClass:"button-unstyled edit-profile-button",on:{click:function(e){return e.stopPropagation(),t.openProfileTab(e)}}},[n("FAIcon",{staticClass:"icon",attrs:{"fixed-width":"",icon:"edit",title:t.$t("user_card.edit_profile")}})],1):t._e(),t._v(" "),t.isOtherUser&&!t.user.is_local?n("button",{staticClass:"button-unstyled external-link-button",attrs:{href:t.user.statusnet_profile_url,target:"_blank"}},[n("FAIcon",{staticClass:"icon",attrs:{icon:"external-link-alt"}})],1):t._e(),t._v(" "),t.isOtherUser&&t.loggedIn?n("AccountActions",{attrs:{user:t.user,relationship:t.relationship}}):t._e()],1),t._v(" "),n("div",{staticClass:"bottom-line"},[n("router-link",{staticClass:"user-screen-name",attrs:{title:t.user.screen_name_ui,to:t.userProfileLink(t.user)}},[t._v("\n              @"+t._s(t.user.screen_name_ui)+"\n            ")]),t._v(" "),t.hideBio?t._e():[t.visibleRole?n("span",{staticClass:"alert user-role"},[t._v("\n                "+t._s(t.$t("general.role."+t.visibleRole))+"\n              ")]):t._e(),t._v(" "),t.user.bot?n("span",{staticClass:"alert user-role"},[t._v("\n                "+t._s(t.$t("user_card.bot"))+"\n              ")]):t._e()],t._v(" "),t.user.locked?n("span",[n("FAIcon",{staticClass:"lock-icon",attrs:{icon:"lock",size:"sm"}})],1):t._e(),t._v(" "),t.mergedConfig.hideUserStats||t.hideBio?t._e():n("span",{staticClass:"dailyAvg"},[t._v(t._s(t.dailyAvg)+" "+t._s(t.$t("user_card.per_day")))])],2)])],1),t._v(" "),n("div",{staticClass:"user-meta"},[t.relationship.followed_by&&t.loggedIn&&t.isOtherUser?n("div",{staticClass:"following"},[t._v("\n          "+t._s(t.$t("user_card.follows_you"))+"\n        ")]):t._e(),t._v(" "),!t.isOtherUser||!t.loggedIn&&t.switcher?t._e():n("div",{staticClass:"highlighter"},["disabled"!==t.userHighlightType?n("input",{directives:[{name:"model",rawName:"v-model",value:t.userHighlightColor,expression:"userHighlightColor"}],staticClass:"userHighlightText",attrs:{id:"userHighlightColorTx"+t.user.id,type:"text"},domProps:{value:t.userHighlightColor},on:{input:function(e){e.target.composing||(t.userHighlightColor=e.target.value)}}}):t._e(),t._v(" "),"disabled"!==t.userHighlightType?n("input",{directives:[{name:"model",rawName:"v-model",value:t.userHighlightColor,expression:"userHighlightColor"}],staticClass:"userHighlightCl",attrs:{id:"userHighlightColor"+t.user.id,type:"color"},domProps:{value:t.userHighlightColor},on:{input:function(e){e.target.composing||(t.userHighlightColor=e.target.value)}}}):t._e(),t._v(" "),n("Select",{staticClass:"userHighlightSel",attrs:{id:"userHighlightSel"+t.user.id},model:{value:t.userHighlightType,callback:function(e){t.userHighlightType=e},expression:"userHighlightType"}},[n("option",{attrs:{value:"disabled"}},[t._v("\n              "+t._s(t.$t("user_card.highlight.disabled"))+"\n            ")]),t._v(" "),n("option",{attrs:{value:"solid"}},[t._v("\n              "+t._s(t.$t("user_card.highlight.solid"))+"\n            ")]),t._v(" "),n("option",{attrs:{value:"striped"}},[t._v("\n              "+t._s(t.$t("user_card.highlight.striped"))+"\n            ")]),t._v(" "),n("option",{attrs:{value:"side"}},[t._v("\n              "+t._s(t.$t("user_card.highlight.side"))+"\n            ")])])],1)]),t._v(" "),t.loggedIn&&t.isOtherUser?n("div",{staticClass:"user-interactions"},[n("div",{staticClass:"btn-group"},[n("FollowButton",{attrs:{relationship:t.relationship}}),t._v(" "),t.relationship.following?[t.relationship.subscribing?n("ProgressButton",{staticClass:"btn button-default toggled",attrs:{click:t.unsubscribeUser,title:t.$t("user_card.unsubscribe")}},[n("FALayers",[n("FAIcon",{attrs:{icon:"rss",transform:"left-5 shrink-6 up-3 rotate-20",flip:"horizontal"}}),t._v(" "),n("FAIcon",{attrs:{icon:"rss",transform:"right-5 shrink-6 up-3 rotate-20"}}),t._v(" "),n("FAIcon",{attrs:{icon:"bell"}})],1)],1):n("ProgressButton",{staticClass:"btn button-default",attrs:{click:t.subscribeUser,title:t.$t("user_card.subscribe")}},[n("FAIcon",{attrs:{icon:"bell"}})],1)]:t._e()],2),t._v(" "),n("div",[t.relationship.muting?n("button",{staticClass:"btn button-default btn-block toggled",on:{click:t.unmuteUser}},[t._v("\n            "+t._s(t.$t("user_card.muted"))+"\n          ")]):n("button",{staticClass:"btn button-default btn-block",on:{click:t.muteUser}},[t._v("\n            "+t._s(t.$t("user_card.mute"))+"\n          ")])]),t._v(" "),n("div",[n("button",{staticClass:"btn button-default btn-block",on:{click:t.mentionUser}},[t._v("\n            "+t._s(t.$t("user_card.mention"))+"\n          ")])]),t._v(" "),"admin"===t.loggedIn.role?n("ModerationTools",{attrs:{user:t.user}}):t._e()],1):t._e(),t._v(" "),!t.loggedIn&&t.user.is_local?n("div",{staticClass:"user-interactions"},[n("RemoteFollow",{attrs:{user:t.user}})],1):t._e()])]),t._v(" "),t.hideBio?t._e():n("div",{staticClass:"panel-body"},[!t.mergedConfig.hideUserStats&&t.switcher?n("div",{staticClass:"user-counts"},[n("div",{staticClass:"user-count",on:{click:function(e){return e.preventDefault(),t.setProfileView("statuses")}}},[n("h5",[t._v(t._s(t.$t("user_card.statuses")))]),t._v(" "),n("span",[t._v(t._s(t.user.statuses_count)+" "),n("br")])]),t._v(" "),n("div",{staticClass:"user-count",on:{click:function(e){return e.preventDefault(),t.setProfileView("friends")}}},[n("h5",[t._v(t._s(t.$t("user_card.followees")))]),t._v(" "),n("span",[t._v(t._s(t.hideFollowsCount?t.$t("user_card.hidden"):t.user.friends_count))])]),t._v(" "),n("div",{staticClass:"user-count",on:{click:function(e){return e.preventDefault(),t.setProfileView("followers")}}},[n("h5",[t._v(t._s(t.$t("user_card.followers")))]),t._v(" "),n("span",[t._v(t._s(t.hideFollowersCount?t.$t("user_card.hidden"):t.user.followers_count))])])]):t._e(),t._v(" "),!t.hideBio&&t.user.description_html?n("p",{staticClass:"user-card-bio",domProps:{innerHTML:t._s(t.user.description_html)},on:{click:function(e){return e.preventDefault(),t.linkClicked(e)}}}):t.hideBio?t._e():n("p",{staticClass:"user-card-bio"},[t._v("\n      "+t._s(t.user.description)+"\n    ")])])])}),[],!1,T,null,null);e.a=$.exports},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return a}));var i=n(16),o=n(12),r={undelay:null,topBar:null,badge:null,profileTint:null,fg:null,bg:"underlay",highlight:"bg",panel:"bg",popover:"bg",selectedMenu:"popover",btn:"bg",btnPanel:"panel",btnTopBar:"topBar",input:"bg",inputPanel:"panel",inputTopBar:"topBar",alert:"bg",alertPanel:"panel",poll:"bg",chatBg:"underlay",chatMessage:"chatBg"},s={profileTint:.5,alert:.5,input:.5,faint:.5,underlay:.15,alertPopup:.95},a={bg:{depends:[],opacity:"bg",priority:1},wallpaper:{depends:["bg"],color:function(t,e){return Object(i.brightness)(-2*t,e).rgb}},fg:{depends:[],priority:1},text:{depends:[],layer:"bg",opacity:null,priority:1},underlay:{default:"#000000",opacity:"underlay"},link:{depends:["accent"],priority:1},accent:{depends:["link"],priority:1},faint:{depends:["text"],opacity:"faint"},faintLink:{depends:["link"],opacity:"faint"},postFaintLink:{depends:["postLink"],opacity:"faint"},cBlue:"#0000ff",cRed:"#FF0000",cGreen:"#00FF00",cOrange:"#E3FF00",profileBg:{depends:["bg"],color:function(t,e){return{r:Math.floor(.53*e.r),g:Math.floor(.56*e.g),b:Math.floor(.59*e.b)}}},profileTint:{depends:["bg"],layer:"profileTint",opacity:"profileTint"},highlight:{depends:["bg"],color:function(t,e){return Object(i.brightness)(5*t,e).rgb}},highlightLightText:{depends:["lightText"],layer:"highlight",textColor:!0},highlightPostLink:{depends:["postLink"],layer:"highlight",textColor:"preserve"},highlightFaintText:{depends:["faint"],layer:"highlight",textColor:!0},highlightFaintLink:{depends:["faintLink"],layer:"highlight",textColor:"preserve"},highlightPostFaintLink:{depends:["postFaintLink"],layer:"highlight",textColor:"preserve"},highlightText:{depends:["text"],layer:"highlight",textColor:!0},highlightLink:{depends:["link"],layer:"highlight",textColor:"preserve"},highlightIcon:{depends:["highlight","highlightText"],color:function(t,e,n){return Object(o.g)(e,n)}},popover:{depends:["bg"],opacity:"popover"},popoverLightText:{depends:["lightText"],layer:"popover",textColor:!0},popoverPostLink:{depends:["postLink"],layer:"popover",textColor:"preserve"},popoverFaintText:{depends:["faint"],layer:"popover",textColor:!0},popoverFaintLink:{depends:["faintLink"],layer:"popover",textColor:"preserve"},popoverPostFaintLink:{depends:["postFaintLink"],layer:"popover",textColor:"preserve"},popoverText:{depends:["text"],layer:"popover",textColor:!0},popoverLink:{depends:["link"],layer:"popover",textColor:"preserve"},popoverIcon:{depends:["popover","popoverText"],color:function(t,e,n){return Object(o.g)(e,n)}},selectedPost:"--highlight",selectedPostFaintText:{depends:["highlightFaintText"],layer:"highlight",variant:"selectedPost",textColor:!0},selectedPostLightText:{depends:["highlightLightText"],layer:"highlight",variant:"selectedPost",textColor:!0},selectedPostPostLink:{depends:["highlightPostLink"],layer:"highlight",variant:"selectedPost",textColor:"preserve"},selectedPostFaintLink:{depends:["highlightFaintLink"],layer:"highlight",variant:"selectedPost",textColor:"preserve"},selectedPostText:{depends:["highlightText"],layer:"highlight",variant:"selectedPost",textColor:!0},selectedPostLink:{depends:["highlightLink"],layer:"highlight",variant:"selectedPost",textColor:"preserve"},selectedPostIcon:{depends:["selectedPost","selectedPostText"],color:function(t,e,n){return Object(o.g)(e,n)}},selectedMenu:{depends:["bg"],color:function(t,e){return Object(i.brightness)(5*t,e).rgb}},selectedMenuLightText:{depends:["highlightLightText"],layer:"selectedMenu",variant:"selectedMenu",textColor:!0},selectedMenuFaintText:{depends:["highlightFaintText"],layer:"selectedMenu",variant:"selectedMenu",textColor:!0},selectedMenuFaintLink:{depends:["highlightFaintLink"],layer:"selectedMenu",variant:"selectedMenu",textColor:"preserve"},selectedMenuText:{depends:["highlightText"],layer:"selectedMenu",variant:"selectedMenu",textColor:!0},selectedMenuLink:{depends:["highlightLink"],layer:"selectedMenu",variant:"selectedMenu",textColor:"preserve"},selectedMenuIcon:{depends:["selectedMenu","selectedMenuText"],color:function(t,e,n){return Object(o.g)(e,n)}},selectedMenuPopover:{depends:["popover"],color:function(t,e){return Object(i.brightness)(5*t,e).rgb}},selectedMenuPopoverLightText:{depends:["selectedMenuLightText"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:!0},selectedMenuPopoverFaintText:{depends:["selectedMenuFaintText"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:!0},selectedMenuPopoverFaintLink:{depends:["selectedMenuFaintLink"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:"preserve"},selectedMenuPopoverText:{depends:["selectedMenuText"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:!0},selectedMenuPopoverLink:{depends:["selectedMenuLink"],layer:"selectedMenuPopover",variant:"selectedMenuPopover",textColor:"preserve"},selectedMenuPopoverIcon:{depends:["selectedMenuPopover","selectedMenuText"],color:function(t,e,n){return Object(o.g)(e,n)}},lightText:{depends:["text"],layer:"bg",textColor:"preserve",color:function(t,e){return Object(i.brightness)(20*t,e).rgb}},postLink:{depends:["link"],layer:"bg",textColor:"preserve"},postGreentext:{depends:["cGreen"],layer:"bg",textColor:"preserve"},border:{depends:["fg"],opacity:"border",color:function(t,e){return Object(i.brightness)(2*t,e).rgb}},poll:{depends:["accent","bg"],copacity:"poll",color:function(t,e,n){return Object(o.a)(e,.4,n)}},pollText:{depends:["text"],layer:"poll",textColor:!0},icon:{depends:["bg","text"],inheritsOpacity:!1,color:function(t,e,n){return Object(o.g)(e,n)}},fgText:{depends:["text"],layer:"fg",textColor:!0},fgLink:{depends:["link"],layer:"fg",textColor:"preserve"},panel:{depends:["fg"],opacity:"panel"},panelText:{depends:["text"],layer:"panel",textColor:!0},panelFaint:{depends:["fgText"],layer:"panel",opacity:"faint",textColor:!0},panelLink:{depends:["fgLink"],layer:"panel",textColor:"preserve"},topBar:"--fg",topBarText:{depends:["fgText"],layer:"topBar",textColor:!0},topBarLink:{depends:["fgLink"],layer:"topBar",textColor:"preserve"},tab:{depends:["btn"]},tabText:{depends:["btnText"],layer:"btn",textColor:!0},tabActiveText:{depends:["text"],layer:"bg",textColor:!0},btn:{depends:["fg"],variant:"btn",opacity:"btn"},btnText:{depends:["fgText"],layer:"btn",textColor:!0},btnPanelText:{depends:["btnText"],layer:"btnPanel",variant:"btn",textColor:!0},btnTopBarText:{depends:["btnText"],layer:"btnTopBar",variant:"btn",textColor:!0},btnPressed:{depends:["btn"],layer:"btn"},btnPressedText:{depends:["btnText"],layer:"btn",variant:"btnPressed",textColor:!0},btnPressedPanel:{depends:["btnPressed"],layer:"btn"},btnPressedPanelText:{depends:["btnPanelText"],layer:"btnPanel",variant:"btnPressed",textColor:!0},btnPressedTopBar:{depends:["btnPressed"],layer:"btn"},btnPressedTopBarText:{depends:["btnTopBarText"],layer:"btnTopBar",variant:"btnPressed",textColor:!0},btnToggled:{depends:["btn"],layer:"btn",color:function(t,e){return Object(i.brightness)(20*t,e).rgb}},btnToggledText:{depends:["btnText"],layer:"btn",variant:"btnToggled",textColor:!0},btnToggledPanelText:{depends:["btnPanelText"],layer:"btnPanel",variant:"btnToggled",textColor:!0},btnToggledTopBarText:{depends:["btnTopBarText"],layer:"btnTopBar",variant:"btnToggled",textColor:!0},btnDisabled:{depends:["btn","bg"],color:function(t,e,n){return Object(o.a)(e,.25,n)}},btnDisabledText:{depends:["btnText","btnDisabled"],layer:"btn",variant:"btnDisabled",color:function(t,e,n){return Object(o.a)(e,.25,n)}},btnDisabledPanelText:{depends:["btnPanelText","btnDisabled"],layer:"btnPanel",variant:"btnDisabled",color:function(t,e,n){return Object(o.a)(e,.25,n)}},btnDisabledTopBarText:{depends:["btnTopBarText","btnDisabled"],layer:"btnTopBar",variant:"btnDisabled",color:function(t,e,n){return Object(o.a)(e,.25,n)}},input:{depends:["fg"],opacity:"input"},inputText:{depends:["text"],layer:"input",textColor:!0},inputPanelText:{depends:["panelText"],layer:"inputPanel",variant:"input",textColor:!0},inputTopbarText:{depends:["topBarText"],layer:"inputTopBar",variant:"input",textColor:!0},alertError:{depends:["cRed"],opacity:"alert"},alertErrorText:{depends:["text"],layer:"alert",variant:"alertError",textColor:!0},alertErrorPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertError",textColor:!0},alertWarning:{depends:["cOrange"],opacity:"alert"},alertWarningText:{depends:["text"],layer:"alert",variant:"alertWarning",textColor:!0},alertWarningPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertWarning",textColor:!0},alertSuccess:{depends:["cGreen"],opacity:"alert"},alertSuccessText:{depends:["text"],layer:"alert",variant:"alertSuccess",textColor:!0},alertSuccessPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertSuccess",textColor:!0},alertNeutral:{depends:["text"],opacity:"alert"},alertNeutralText:{depends:["text"],layer:"alert",variant:"alertNeutral",color:function(t,e){return Object(i.invertLightness)(e).rgb},textColor:!0},alertNeutralPanelText:{depends:["panelText"],layer:"alertPanel",variant:"alertNeutral",textColor:!0},alertPopupError:{depends:["alertError"],opacity:"alertPopup"},alertPopupErrorText:{depends:["alertErrorText"],layer:"popover",variant:"alertPopupError",textColor:!0},alertPopupWarning:{depends:["alertWarning"],opacity:"alertPopup"},alertPopupWarningText:{depends:["alertWarningText"],layer:"popover",variant:"alertPopupWarning",textColor:!0},alertPopupSuccess:{depends:["alertSuccess"],opacity:"alertPopup"},alertPopupSuccessText:{depends:["alertSuccessText"],layer:"popover",variant:"alertPopupSuccess",textColor:!0},alertPopupNeutral:{depends:["alertNeutral"],opacity:"alertPopup"},alertPopupNeutralText:{depends:["alertNeutralText"],layer:"popover",variant:"alertPopupNeutral",textColor:!0},badgeNotification:"--cRed",badgeNotificationText:{depends:["text","badgeNotification"],layer:"badge",variant:"badgeNotification",textColor:"bw"},chatBg:{depends:["bg"]},chatMessageIncomingBg:{depends:["chatBg"]},chatMessageIncomingText:{depends:["text"],layer:"chatMessage",variant:"chatMessageIncomingBg",textColor:!0},chatMessageIncomingLink:{depends:["link"],layer:"chatMessage",variant:"chatMessageIncomingBg",textColor:"preserve"},chatMessageIncomingBorder:{depends:["border"],opacity:"border",color:function(t,e){return Object(i.brightness)(2*t,e).rgb}},chatMessageOutgoingBg:{depends:["chatMessageIncomingBg"],color:function(t,e){return Object(i.brightness)(5*t,e).rgb}},chatMessageOutgoingText:{depends:["text"],layer:"chatMessage",variant:"chatMessageOutgoingBg",textColor:!0},chatMessageOutgoingLink:{depends:["link"],layer:"chatMessage",variant:"chatMessageOutgoingBg",textColor:"preserve"},chatMessageOutgoingBorder:{depends:["chatMessageOutgoingBg"],opacity:"border",color:function(t,e){return Object(i.brightness)(2*t,e).rgb}}}},,,,function(t,e,n){"use strict";n.d(e,"b",(function(){return g})),n.d(e,"i",(function(){return v})),n.d(e,"e",(function(){return w})),n.d(e,"g",(function(){return _})),n.d(e,"f",(function(){return y})),n.d(e,"a",(function(){return O})),n.d(e,"h",(function(){return j})),n.d(e,"d",(function(){return P})),n.d(e,"k",(function(){return $})),n.d(e,"c",(function(){return I})),n.d(e,"m",(function(){return M})),n.d(e,"j",(function(){return F})),n.d(e,"l",(function(){return E}));var i=n(26),o=n.n(i),r=n(13),s=n.n(r),a=n(2),c=n.n(a),l=n(9),u=n.n(l),d=n(16),p=n(12),f=n(43);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=function(t){var e=T(t).rules,n=document.head,i=document.body;i.classList.add("hidden");var o=document.createElement("style");n.appendChild(o);var r=o.sheet;r.toString(),r.insertRule("body { ".concat(e.radii," }"),"index-max"),r.insertRule("body { ".concat(e.colors," }"),"index-max"),r.insertRule("body { ".concat(e.shadows," }"),"index-max"),r.insertRule("body { ".concat(e.fonts," }"),"index-max"),i.classList.remove("hidden")},v=function(t,e){return 0===t.length?"none":t.filter((function(t){return e?t.inset:t})).map((function(t){return[t.x,t.y,t.blur,t.spread].map((function(t){return t+"px"})).concat([Object(p.d)(t.color,t.alpha),t.inset?"inset":""]).join(" ")})).join(", ")},b=function(t){return 0===t.length?"none":t.filter((function(t){return!t.inset&&0===Number(t.spread)})).map((function(t){return[t.x,t.y,t.blur/2].map((function(t){return t+"px"})).concat([Object(p.d)(t.color,t.alpha)]).join(" ")})).map((function(t){return"drop-shadow(".concat(t,")")})).join(" ")},w=function(t){var e=t.themeEngineVersion?t.colors||t:I(t.colors||t),n=Object(f.d)(e,t.opacity||{}),i=n.colors,o=n.opacity,r=Object.entries(i).reduce((function(t,e){var n=u()(e,2),i=n[0],o=n[1];return o?(t.solid[i]=Object(p.i)(o),t.complete[i]=void 0===o.a?Object(p.i)(o):Object(p.j)(o),t):t}),{complete:{},solid:{}});return{rules:{colors:Object.entries(r.complete).filter((function(t){var e=u()(t,2);e[0];return e[1]})).map((function(t){var e=u()(t,2),n=e[0],i=e[1];return"--".concat(n,": ").concat(i)})).join(";")},theme:{colors:r.solid,opacity:o}}},_=function(t){var e=t.radii||{};void 0!==t.btnRadius&&(e=Object.entries(t).filter((function(t){var e=u()(t,2),n=e[0];e[1];return n.endsWith("Radius")})).reduce((function(t,e){return t[e[0].split("Radius")[0]]=e[1],t}),{}));var n=Object.entries(e).filter((function(t){var e=u()(t,2);e[0];return e[1]})).reduce((function(t,e){var n=u()(e,2),i=n[0],o=n[1];return t[i]=o,t}),{btn:4,input:4,checkbox:2,panel:10,avatar:5,avatarAlt:50,tooltip:2,attachment:5,chatMessage:e.panel});return{rules:{radii:Object.entries(n).filter((function(t){var e=u()(t,2);e[0];return e[1]})).map((function(t){var e=u()(t,2),n=e[0],i=e[1];return"--".concat(n,"Radius: ").concat(i,"px")})).join(";")},theme:{radii:n}}},y=function(t){var e=Object.entries(t.fonts||{}).filter((function(t){var e=u()(t,2);e[0];return e[1]})).reduce((function(t,e){var n=u()(e,2),i=n[0],o=n[1];return t[i]=Object.entries(o).filter((function(t){var e=u()(t,2);e[0];return e[1]})).reduce((function(t,e){var n=u()(e,2),i=n[0],o=n[1];return t[i]=o,t}),t[i]),t}),{interface:{family:"sans-serif"},input:{family:"inherit"},post:{family:"inherit"},postCode:{family:"monospace"}});return{rules:{fonts:Object.entries(e).filter((function(t){var e=u()(t,2);e[0];return e[1]})).map((function(t){var e=u()(t,2),n=e[0],i=e[1];return"--".concat(n,"Font: ").concat(i.family)})).join(";")},theme:{fonts:e}}},x=function(t,e){return{x:0,y:t?1:-1,blur:0,spread:0,color:e?"#000000":"#FFFFFF",alpha:.2,inset:!0}},k=[x(!0,!1),x(!1,!0)],C=[x(!0,!0),x(!1,!1)],S={x:0,y:0,blur:4,spread:0,color:"--faint",alpha:1},O={panel:[{x:1,y:1,blur:4,spread:0,color:"#000000",alpha:.6}],topBar:[{x:0,y:0,blur:4,spread:0,color:"#000000",alpha:.6}],popup:[{x:2,y:2,blur:3,spread:0,color:"#000000",alpha:.5}],avatar:[{x:0,y:1,blur:8,spread:0,color:"#000000",alpha:.7}],avatarStatus:[],panelHeader:[],button:[{x:0,y:0,blur:2,spread:0,color:"#000000",alpha:1}].concat(k),buttonHover:[S].concat(k),buttonPressed:[S].concat(C),input:[].concat(C,[{x:0,y:0,blur:2,inset:!0,spread:0,color:"#000000",alpha:1}])},j=function(t,e){var n={button:"btn",panel:"bg",top:"topBar",popup:"popover",avatar:"bg",panelHeader:"panel",input:"input"},i=Object.fromEntries(Object.entries(t.shadows||{}).map((function(t){var e=u()(t,2);return[e[0],e[1].map((function(t){return m({color:"#000000"},t)}))]}))),o=i&&!t.themeEngineVersion?M(i,t.opacity):i||{},r=Object.entries(m({},O,{},o)).reduce((function(t,i){var o=u()(i,2),r=o[0],a=o[1],l=r.replace(/[A-Z].*$/,""),h=n[l],g=Object(p.h)(Object(d.convert)(e[h]).rgb)<.5?1:-1,v=a.reduce((function(t,n){return[].concat(s()(t),[m({},n,{color:Object(p.i)(Object(f.c)(n.color,(function(t){return Object(d.convert)(e[t]).rgb}),g))})])}),[]);return m({},t,c()({},r,v))}),{});return{rules:{shadows:Object.entries(r).map((function(t){var e=u()(t,2),n=e[0],i=e[1];return["--".concat(n,"Shadow: ").concat(v(i)),"--".concat(n,"ShadowFilter: ").concat(b(i)),"--".concat(n,"ShadowInset: ").concat(v(i,!0))].join(";")})).join(";")},theme:{shadows:r}}},P=function(t,e,n,i){return{rules:m({},n.rules,{},t.rules,{},e.rules,{},i.rules),theme:m({},n.theme,{},t.theme,{},e.theme,{},i.theme)}},T=function(t){var e=w(t);return P(e,_(t),j(t,e.theme.colors,e.mod),y(t))},$=function(){return window.fetch("/static/styles.json",{cache:"no-store"}).then((function(t){return t.json()})).then((function(t){return Object.entries(t).map((function(t){var e=u()(t,2),n=e[0],i=e[1],r=null;return"object"===o()(i)?r=Promise.resolve(i):"string"==typeof i&&(r=window.fetch(i,{cache:"no-store"}).then((function(t){return t.json()})).catch((function(t){return console.error(t),null}))),[n,r]}))})).then((function(t){return t.reduce((function(t,e){var n=u()(e,2),i=n[0],o=n[1];return t[i]=o,t}),{})}))},I=function(t){return Object.entries(t).reduce((function(t,e){var n=u()(e,2),i=n[0],o=n[1];switch(i){case"lightBg":return m({},t,{highlight:o});case"btnText":return m({},t,{},["","Panel","TopBar"].reduce((function(t,e){return m({},t,c()({},"btn"+e+"Text",o))}),{}));default:return m({},t,c()({},i,o))}}),{})},M=function(t,e){return Object.entries(t).reduce((function(t,n){var i=u()(n,2),o=i[0],r=i[1],a=r.reduce((function(t,n){return[].concat(s()(t),[m({},n,{alpha:(r=n,a=r.color,(void 0===a?"#000000":a).startsWith("--")?(i=n,o=i.color,e[Object(f.f)(o.substring(2).split(",")[0])]||1):n.alpha)})]);var i,o,r,a}),[]);return m({},t,c()({},o,a))}),{})},F=function(t){return $().then((function(e){return e[t]?e[t]:e["pleroma-dark"]})).then((function(t){var e=Array.isArray(t),n=e?{}:t.theme;if(e){var i=Object(p.f)(t[1]),o=Object(p.f)(t[2]),r=Object(p.f)(t[3]),s=Object(p.f)(t[4]),a=Object(p.f)(t[5]||"#FF0000"),c=Object(p.f)(t[6]||"#00FF00"),l=Object(p.f)(t[7]||"#0000FF"),u=Object(p.f)(t[8]||"#E3FF00");n.colors={bg:i,fg:o,text:r,link:s,cRed:a,cBlue:l,cGreen:c,cOrange:u}}return{theme:n,source:t.source}}))},E=function(t){return F(t).then((function(t){return g(t.theme)}))}},function(t,e,n){"use strict";n.r(e);var i=n(115),o=n.n(i),r=n(200),s=n.n(r),a=n(3),c=n(1);a.c.add(c.S);var l={name:"ReplyButton",props:["status","replying"],computed:{loggedIn:function(){return!!this.$store.state.users.currentUser}}},u=n(0);var d=function(t){n(388)},p=Object(u.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ReplyButton"},[t.loggedIn?n("button",{staticClass:"button-unstyled interactive",class:{"-active":t.replying},attrs:{title:t.$t("tool_tip.reply")},on:{click:function(e){return e.preventDefault(),t.$emit("toggle")}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"reply"}})],1):n("span",[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"reply",title:t.$t("tool_tip.reply")}})],1),t._v(" "),t.status.replies_count>0?n("span",{staticClass:"action-counter"},[t._v("\n    "+t._s(t.status.replies_count)+"\n  ")]):t._e()])}),[],!1,d,null,null).exports,f=n(2),h=n.n(f),m=n(4),g=n(33);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}a.c.add(c.bb,g.d);var b={props:["status","loggedIn"],data:function(){return{animated:!1}},methods:{favorite:function(){var t=this;this.status.favorited?this.$store.dispatch("unfavorite",{id:this.status.id}):this.$store.dispatch("favorite",{id:this.status.id}),this.animated=!0,setTimeout((function(){t.animated=!1}),500)}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(m.c)(["mergedConfig"]))};var w=function(t){n(390)},_=Object(u.a)(b,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"FavoriteButton"},[t.loggedIn?n("button",{staticClass:"button-unstyled interactive",class:t.status.favorited&&"-favorited",attrs:{title:t.$t("tool_tip.favorite")},on:{click:function(e){return e.preventDefault(),t.favorite()}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:[t.status.favorited?"fas":"far","star"],spin:t.animated}})],1):n("span",[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{title:t.$t("tool_tip.favorite"),icon:["far","star"]}})],1),t._v(" "),!t.mergedConfig.hidePostStats&&t.status.fave_num>0?n("span",{staticClass:"action-counter"},[t._v("\n    "+t._s(t.status.fave_num)+"\n  ")]):t._e()])}),[],!1,w,null,null).exports,y=n(21);a.c.add(g.c);var x={props:["status"],data:function(){return{filterWord:""}},components:{Popover:y.default},methods:{addReaction:function(t,e,n){var i=this.status.emoji_reactions.find((function(t){return t.name===e}));i&&i.me?this.$store.dispatch("unreactWithEmoji",{id:this.status.id,emoji:e}):this.$store.dispatch("reactWithEmoji",{id:this.status.id,emoji:e}),n()},focusInput:function(){var t=this;this.$nextTick((function(){var e=t.$el.querySelector("input");e&&e.focus()}))}},computed:{commonEmojis:function(){return[{displayText:"thumbsup",replacement:"üëç"},{displayText:"angry",replacement:"üò†"},{displayText:"eyes",replacement:"üëÄ"},{displayText:"joy",replacement:"üòÇ"},{displayText:"fire",replacement:"üî•"}]},emojis:function(){if(""!==this.filterWord){var t=this.filterWord.toLowerCase(),e=[],n=!0,i=!1,o=void 0;try{for(var r,s=this.$store.state.instance.emoji[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var a=r.value;if(a.replacement===this.filterWord)return[a];var c=a.displayText.toLowerCase().indexOf(t);c>-1&&(Array.isArray(e[c])||(e[c]=[]),e[c].push(a))}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return e.flat()}return this.$store.state.instance.emoji||[]},mergedConfig:function(){return this.$store.getters.mergedConfig}}};var k=function(t){n(392)},C=Object(u.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Popover",{staticClass:"ReactButton",attrs:{trigger:"click",placement:"top",offset:{y:5},"bound-to":{x:"container"},"remove-padding":""},on:{show:t.focusInput},scopedSlots:t._u([{key:"content",fn:function(e){var i=e.close;return[n("div",{staticClass:"reaction-picker-filter"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterWord,expression:"filterWord"}],attrs:{size:"1",placeholder:t.$t("emoji.search_emoji")},domProps:{value:t.filterWord},on:{input:function(e){e.target.composing||(t.filterWord=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"reaction-picker"},[t._l(t.commonEmojis,(function(e){return n("span",{key:e.replacement,staticClass:"emoji-button",attrs:{title:e.displayText},on:{click:function(n){return t.addReaction(n,e.replacement,i)}}},[t._v("\n        "+t._s(e.replacement)+"\n      ")])})),t._v(" "),n("div",{staticClass:"reaction-picker-divider"}),t._v(" "),t._l(t.emojis,(function(e,o){return n("span",{key:o,staticClass:"emoji-button",attrs:{title:e.displayText},on:{click:function(n){return t.addReaction(n,e.replacement,i)}}},[t._v("\n        "+t._s(e.replacement)+"\n      ")])})),t._v(" "),n("div",{staticClass:"reaction-bottom-fader"})],2)]}},{key:"trigger",fn:function(){return[n("button",{staticClass:"button-unstyled popover-trigger",attrs:{title:t.$t("tool_tip.add_reaction")}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:["far","smile-beam"]}})],1)]},proxy:!0}])})}),[],!1,k,null,null).exports;a.c.add(c.T);var S={props:["status","loggedIn","visibility"],data:function(){return{animated:!1}},methods:{retweet:function(){var t=this;this.status.repeated?this.$store.dispatch("unretweet",{id:this.status.id}):this.$store.dispatch("retweet",{id:this.status.id}),this.animated=!0,setTimeout((function(){t.animated=!1}),500)}},computed:{mergedConfig:function(){return this.$store.getters.mergedConfig}}};var O=function(t){n(396)},j=Object(u.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"RetweetButton"},["private"!==t.visibility&&"direct"!==t.visibility&&t.loggedIn?n("button",{staticClass:"button-unstyled interactive",class:t.status.repeated&&"-repeated",attrs:{title:t.$t("tool_tip.repeat")},on:{click:function(e){return e.preventDefault(),t.retweet()}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"retweet",spin:t.animated}})],1):t.loggedIn?n("span",[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"lock",title:t.$t("timeline.no_retweet_hint")}})],1):n("span",[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"retweet",title:t.$t("tool_tip.repeat")}})],1),t._v(" "),!t.mergedConfig.hidePostStats&&t.status.repeat_num>0?n("span",{staticClass:"no-event"},[t._v("\n    "+t._s(t.status.repeat_num)+"\n  ")]):t._e()])}),[],!1,O,null,null).exports;a.c.add(c.r,c.e,g.a,c.x,c.ib,c.X,c.v,g.b);var P={props:["status"],components:{Popover:y.default},methods:{deleteStatus:function(){window.confirm(this.$t("status.delete_confirm"))&&this.$store.dispatch("deleteStatus",{id:this.status.id})},pinStatus:function(){var t=this;this.$store.dispatch("pinStatus",this.status.id).then((function(){return t.$emit("onSuccess")})).catch((function(e){return t.$emit("onError",e.error.error)}))},unpinStatus:function(){var t=this;this.$store.dispatch("unpinStatus",this.status.id).then((function(){return t.$emit("onSuccess")})).catch((function(e){return t.$emit("onError",e.error.error)}))},muteConversation:function(){var t=this;this.$store.dispatch("muteConversation",this.status.id).then((function(){return t.$emit("onSuccess")})).catch((function(e){return t.$emit("onError",e.error.error)}))},unmuteConversation:function(){var t=this;this.$store.dispatch("unmuteConversation",this.status.id).then((function(){return t.$emit("onSuccess")})).catch((function(e){return t.$emit("onError",e.error.error)}))},copyLink:function(){var t=this;navigator.clipboard.writeText(this.statusLink).then((function(){return t.$emit("onSuccess")})).catch((function(e){return t.$emit("onError",e.error.error)}))},bookmarkStatus:function(){var t=this;this.$store.dispatch("bookmark",{id:this.status.id}).then((function(){return t.$emit("onSuccess")})).catch((function(e){return t.$emit("onError",e.error.error)}))},unbookmarkStatus:function(){var t=this;this.$store.dispatch("unbookmark",{id:this.status.id}).then((function(){return t.$emit("onSuccess")})).catch((function(e){return t.$emit("onError",e.error.error)}))},reportStatus:function(){this.$store.dispatch("openUserReportingModal",{userId:this.status.user.id,statusIds:[this.status.id]})}},computed:{currentUser:function(){return this.$store.state.users.currentUser},canDelete:function(){if(this.currentUser)return this.currentUser.rights.moderator||this.currentUser.rights.admin||this.status.user.id===this.currentUser.id},ownStatus:function(){return this.status.user.id===this.currentUser.id},canPin:function(){return this.ownStatus&&("public"===this.status.visibility||"unlisted"===this.status.visibility)},canMute:function(){return!!this.currentUser},statusLink:function(){return"".concat(this.$store.state.instance.server).concat(this.$router.resolve({name:"conversation",params:{id:this.status.id}}).href)}}};var T=function(t){n(398)},$=Object(u.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Popover",{staticClass:"ExtraButtons",attrs:{trigger:"click",placement:"top",offset:{y:5},"bound-to":{x:"container"},"remove-padding":""},scopedSlots:t._u([{key:"content",fn:function(e){var i=e.close;return[n("div",{staticClass:"dropdown-menu"},[t.canMute&&!t.status.thread_muted?n("button",{staticClass:"button-default dropdown-item dropdown-item-icon",on:{click:function(e){return e.preventDefault(),t.muteConversation(e)}}},[n("FAIcon",{attrs:{"fixed-width":"",icon:"eye-slash"}}),n("span",[t._v(t._s(t.$t("status.mute_conversation")))])],1):t._e(),t._v(" "),t.canMute&&t.status.thread_muted?n("button",{staticClass:"button-default dropdown-item dropdown-item-icon",on:{click:function(e){return e.preventDefault(),t.unmuteConversation(e)}}},[n("FAIcon",{attrs:{"fixed-width":"",icon:"eye-slash"}}),n("span",[t._v(t._s(t.$t("status.unmute_conversation")))])],1):t._e(),t._v(" "),!t.status.pinned&&t.canPin?n("button",{staticClass:"button-default dropdown-item dropdown-item-icon",on:{click:[function(e){return e.preventDefault(),t.pinStatus(e)},i]}},[n("FAIcon",{attrs:{"fixed-width":"",icon:"thumbtack"}}),n("span",[t._v(t._s(t.$t("status.pin")))])],1):t._e(),t._v(" "),t.status.pinned&&t.canPin?n("button",{staticClass:"button-default dropdown-item dropdown-item-icon",on:{click:[function(e){return e.preventDefault(),t.unpinStatus(e)},i]}},[n("FAIcon",{attrs:{"fixed-width":"",icon:"thumbtack"}}),n("span",[t._v(t._s(t.$t("status.unpin")))])],1):t._e(),t._v(" "),t.status.bookmarked?t._e():n("button",{staticClass:"button-default dropdown-item dropdown-item-icon",on:{click:[function(e){return e.preventDefault(),t.bookmarkStatus(e)},i]}},[n("FAIcon",{attrs:{"fixed-width":"",icon:["far","bookmark"]}}),n("span",[t._v(t._s(t.$t("status.bookmark")))])],1),t._v(" "),t.status.bookmarked?n("button",{staticClass:"button-default dropdown-item dropdown-item-icon",on:{click:[function(e){return e.preventDefault(),t.unbookmarkStatus(e)},i]}},[n("FAIcon",{attrs:{"fixed-width":"",icon:"bookmark"}}),n("span",[t._v(t._s(t.$t("status.unbookmark")))])],1):t._e(),t._v(" "),t.canDelete?n("button",{staticClass:"button-default dropdown-item dropdown-item-icon",on:{click:[function(e){return e.preventDefault(),t.deleteStatus(e)},i]}},[n("FAIcon",{attrs:{"fixed-width":"",icon:"times"}}),n("span",[t._v(t._s(t.$t("status.delete")))])],1):t._e(),t._v(" "),n("button",{staticClass:"button-default dropdown-item dropdown-item-icon",on:{click:[function(e){return e.preventDefault(),t.copyLink(e)},i]}},[n("FAIcon",{attrs:{"fixed-width":"",icon:"share-alt"}}),n("span",[t._v(t._s(t.$t("status.copy_link")))])],1),t._v(" "),t.status.is_local?t._e():n("a",{staticClass:"button-default dropdown-item dropdown-item-icon",attrs:{title:"Source",href:t.status.external_url,target:"_blank"}},[n("FAIcon",{attrs:{"fixed-width":"",icon:"external-link-alt"}}),n("span",[t._v(t._s(t.$t("status.external_source")))])],1),t._v(" "),n("button",{staticClass:"button-default dropdown-item dropdown-item-icon",on:{click:[function(e){return e.preventDefault(),t.reportStatus(e)},i]}},[n("FAIcon",{attrs:{"fixed-width":"",icon:["far","flag"]}}),n("span",[t._v(t._s(t.$t("user_card.report")))])],1)])]}},{key:"trigger",fn:function(){return[n("button",{staticClass:"button-unstyled popover-trigger"},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"ellipsis-h"}})],1)]},proxy:!0}])})}),[],!1,T,null,null).exports,I=n(46),M=n(30),F=n(20),E=n(124),U=n(48),A=n(37),N=n(23),D=n.n(N);a.c.add(c.m);var L={name:"StatusPopover",props:["statusId"],data:function(){return{error:!1}},computed:{status:function(){return D()(this.$store.state.statuses.allStatuses,{id:this.statusId})}},components:{Status:function(){return Promise.resolve().then(n.bind(null,36))},Popover:function(){return Promise.resolve().then(n.bind(null,21))}},methods:{enter:function(){var t=this;if(!this.status){if(!this.statusId)return void(this.error=!0);this.$store.dispatch("fetchStatus",this.statusId).then((function(e){return t.error=!1})).catch((function(e){return t.error=!0}))}}}};var R=function(t){n(444)},B=Object(u.a)(L,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Popover",{attrs:{trigger:"hover","popover-class":"popover-default status-popover","bound-to":{x:"container"}},on:{show:t.enter},scopedSlots:t._u([{key:"trigger",fn:function(){return[t._t("default")]},proxy:!0},{key:"content",fn:function(){return[t.status?n("Status",{attrs:{"is-preview":!0,statusoid:t.status,compact:!0}}):t.error?n("div",{staticClass:"status-preview-no-content faint"},[t._v("\n      "+t._s(t.$t("status.status_unavailable"))+"\n    ")]):n("div",{staticClass:"status-preview-no-content"},[n("FAIcon",{attrs:{icon:"circle-notch",spin:"",size:"2x"}})],1)]},proxy:!0}],null,!0)})}),[],!1,R,null,null).exports;a.c.add(c.m);var z={name:"UserListPopover",props:["users"],components:{Popover:function(){return Promise.resolve().then(n.bind(null,21))},UserAvatar:function(){return Promise.resolve().then(n.bind(null,20))}},computed:{usersCapped:function(){return this.users.slice(0,16)}}};var H=function(t){n(446)},q=Object(u.a)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Popover",{attrs:{trigger:"hover",placement:"top",offset:{y:5}},scopedSlots:t._u([{key:"trigger",fn:function(){return[t._t("default")]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"user-list-popover"},[t.users.length?t._l(t.usersCapped,(function(e){return n("div",{key:e.id,staticClass:"user-list-row"},[n("UserAvatar",{staticClass:"avatar-small",attrs:{user:e,compact:!0}}),t._v(" "),n("div",{staticClass:"user-list-names"},[n("span",{domProps:{innerHTML:t._s(e.name_html)}}),t._v(" "),n("span",{staticClass:"user-list-screen-name"},[t._v(t._s(e.screen_name_ui))])])],1)})):[n("FAIcon",{attrs:{icon:"circle-notch",spin:"",size:"3x"}})]],2)]},proxy:!0}],null,!0)})}),[],!1,H,null,null).exports,V={name:"EmojiReactions",components:{UserAvatar:F.default,UserListPopover:q},props:["status"],data:function(){return{showAll:!1}},computed:{tooManyReactions:function(){return this.status.emoji_reactions.length>12},emojiReactions:function(){return this.showAll?this.status.emoji_reactions:this.status.emoji_reactions.slice(0,12)},showMoreString:function(){return"+".concat(this.status.emoji_reactions.length-12)},accountsForEmoji:function(){return this.status.emoji_reactions.reduce((function(t,e){return t[e.name]=e.accounts||[],t}),{})},loggedIn:function(){return!!this.$store.state.users.currentUser}},methods:{toggleShowAll:function(){this.showAll=!this.showAll},reactedWith:function(t){return this.status.emoji_reactions.find((function(e){return e.name===t})).me},fetchEmojiReactionsByIfMissing:function(){this.status.emoji_reactions.find((function(t){return!t.accounts}))&&this.$store.dispatch("fetchEmojiReactionsBy",this.status.id)},reactWith:function(t){this.$store.dispatch("reactWithEmoji",{id:this.status.id,emoji:t})},unreact:function(t){this.$store.dispatch("unreactWithEmoji",{id:this.status.id,emoji:t})},emojiOnClick:function(t,e){this.loggedIn&&(this.reactedWith(t)?this.unreact(t):this.reactWith(t))}}};var W=function(t){n(448)},G=Object(u.a)(V,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"emoji-reactions"},[t._l(t.emojiReactions,(function(e){return n("UserListPopover",{key:e.name,attrs:{users:t.accountsForEmoji[e.name]}},[n("button",{staticClass:"emoji-reaction btn button-default",class:{"picked-reaction":t.reactedWith(e.name),"not-clickable":!t.loggedIn},on:{click:function(n){return t.emojiOnClick(e.name,n)},mouseenter:function(e){return t.fetchEmojiReactionsByIfMissing()}}},[n("span",{staticClass:"reaction-emoji"},[t._v(t._s(e.name))]),t._v(" "),n("span",[t._v(t._s(e.count))])])])})),t._v(" "),t.tooManyReactions?n("a",{staticClass:"emoji-reaction-expand faint",attrs:{href:"javascript:void(0)"},on:{click:t.toggleShowAll}},[t._v("\n    "+t._s(t.showAll?t.$t("general.show_less"):t.showMoreString)+"\n  ")]):t._e()],2)}),[],!1,W,null,null).exports,K=n(19),Y=n(50),J=n(109);a.c.add(c.t,c.D,c.J,c.K,c.jb,c.T,c.S,c.Q,c.bb,c.ab,c.r,c.x,c.w,c.ib);var X={name:"Status",components:{ReplyButton:p,FavoriteButton:_,ReactButton:C,RetweetButton:j,ExtraButtons:$,PostStatusForm:I.a,UserCard:M.a,UserAvatar:F.default,AvatarList:E.a,Timeago:U.a,StatusPopover:B,UserListPopover:q,EmojiReactions:G,StatusContent:A.a},props:["statusoid","expandable","inConversation","focused","highlight","compact","replies","isPreview","noHeading","inlineExpanded","showPinned","inProfile","profileUserId"],data:function(){return{replying:!1,unmuted:!1,userExpanded:!1,mediaPlaying:[],suspendable:!0,error:null}},computed:{muteWords:function(){return this.mergedConfig.muteWords},showReasonMutedThread:function(){return(this.status.thread_muted||this.status.reblog&&this.status.reblog.thread_muted)&&!this.inConversation},repeaterClass:function(){var t=this.statusoid.user;return Object(Y.a)(t)},userClass:function(){var t=this.retweet?this.statusoid.retweeted_status.user:this.statusoid.user;return Object(Y.a)(t)},deleted:function(){return this.statusoid.deleted},repeaterStyle:function(){var t=this.statusoid.user,e=this.mergedConfig.highlight;return Object(Y.b)(e[t.screen_name])},userStyle:function(){if(!this.noHeading){var t=this.retweet?this.statusoid.retweeted_status.user:this.statusoid.user,e=this.mergedConfig.highlight;return Object(Y.b)(e[t.screen_name])}},userProfileLink:function(){return this.generateUserProfileLink(this.status.user.id,this.status.user.screen_name)},replyProfileLink:function(){if(this.isReply)return this.generateUserProfileLink(this.status.in_reply_to_user_id,this.replyToName)},retweet:function(){return!!this.statusoid.retweeted_status},retweeter:function(){return this.statusoid.user.name||this.statusoid.user.screen_name_ui},retweeterHtml:function(){return this.statusoid.user.name_html},retweeterProfileLink:function(){return this.generateUserProfileLink(this.statusoid.user.id,this.statusoid.user.screen_name)},status:function(){return this.retweet?this.statusoid.retweeted_status:this.statusoid},statusFromGlobalRepository:function(){return this.$store.state.statuses.allStatusesObject[this.status.id]},loggedIn:function(){return!!this.currentUser},muteWordHits:function(){return Object(J.a)(this.status,this.muteWords)},muted:function(){if(this.statusoid.user.id===this.currentUser.id)return!1;var t=this.status,e=t.reblog,n=this.$store.getters.relationship(t.user.id),i=e&&this.$store.getters.relationship(e.user.id),o=t.muted||e&&e.muted||n.muting||i&&i.muting||t.thread_muted||this.muteWordHits.length>0,r=(this.inProfile&&(!e&&t.user.id===this.profileUserId||e&&e.user.id===this.profileUserId)||this.inConversation&&t.thread_muted)&&!this.muteWordHits.length>0;return!this.unmuted&&!r&&o},hideFilteredStatuses:function(){return this.mergedConfig.hideFilteredStatuses},hideStatus:function(){return this.muted&&this.hideFilteredStatuses||this.virtualHidden},isFocused:function(){return!!this.focused||!!this.inConversation&&this.status.id===this.highlight},isReply:function(){return!(!this.status.in_reply_to_status_id||!this.status.in_reply_to_user_id)},replyToName:function(){if(this.status.in_reply_to_screen_name)return this.status.in_reply_to_screen_name;var t=this.$store.getters.findUser(this.status.in_reply_to_user_id);return t&&t.screen_name_ui},replySubject:function(){if(!this.status.summary)return"";var t=s()(this.status.summary),e=this.mergedConfig.subjectLineBehavior,n=t.match(/^re[: ]/i);return"noop"!==e&&n||"masto"===e?t:"email"===e?"re: ".concat(t):"noop"===e?"":void 0},combinedFavsAndRepeatsUsers:function(){var t=[].concat(this.statusFromGlobalRepository.favoritedBy,this.statusFromGlobalRepository.rebloggedBy);return o()(t,"id")},tags:function(){return this.status.tags.filter((function(t){return t.hasOwnProperty("name")})).map((function(t){return t.name})).join(" ")},hidePostStats:function(){return this.mergedConfig.hidePostStats},currentUser:function(){return this.$store.state.users.currentUser},betterShadow:function(){return this.$store.state.interface.browserSupport.cssFilter},mergedConfig:function(){return this.$store.getters.mergedConfig},isSuspendable:function(){return!this.replying&&0===this.mediaPlaying.length}},methods:{visibilityIcon:function(t){switch(t){case"private":return"lock";case"unlisted":return"lock-open";case"direct":return"envelope";default:return"globe"}},showError:function(t){this.error=t},clearError:function(){this.error=void 0},toggleReplying:function(){this.replying=!this.replying},gotoOriginal:function(t){this.inConversation&&this.$emit("goto",t)},toggleExpanded:function(){this.$emit("toggleExpanded")},toggleMute:function(){this.unmuted=!this.unmuted},toggleUserExpanded:function(){this.userExpanded=!this.userExpanded},generateUserProfileLink:function(t,e){return Object(K.a)(t,e,this.$store.state.instance.restrictedNicknames)},addMediaPlaying:function(t){this.mediaPlaying.push(t)},removeMediaPlaying:function(t){this.mediaPlaying=this.mediaPlaying.filter((function(e){return e!==t}))}},watch:{highlight:function(t){if(this.status.id===t){var e=this.$el.getBoundingClientRect();e.top<100||e.height>=window.innerHeight-50?window.scrollBy(0,e.top-100):e.bottom>window.innerHeight-50&&window.scrollBy(0,e.bottom-window.innerHeight+50)}},"status.repeat_num":function(t){this.isFocused&&this.statusFromGlobalRepository.rebloggedBy&&this.statusFromGlobalRepository.rebloggedBy.length!==t&&this.$store.dispatch("fetchRepeats",this.status.id)},"status.fave_num":function(t){this.isFocused&&this.statusFromGlobalRepository.favoritedBy&&this.statusFromGlobalRepository.favoritedBy.length!==t&&this.$store.dispatch("fetchFavs",this.status.id)},isSuspendable:function(t){this.suspendable=t}},filters:{capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}};var Q=function(t){n(385)},Z=Object(u.a)(X,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hideStatus?t._e():n("div",{staticClass:"Status",class:[{"-focused":t.isFocused},{"-conversation":t.inlineExpanded}]},[t.error?n("div",{staticClass:"alert error"},[t._v("\n      "+t._s(t.error)+"\n      "),n("span",{staticClass:"fa-scale-110 fa-old-padding",on:{click:t.clearError}},[n("FAIcon",{attrs:{icon:"times"}})],1)]):t._e(),t._v(" "),t.muted&&!t.isPreview?[n("div",{staticClass:"status-container muted"},[n("small",{staticClass:"status-username"},[t.muted&&t.retweet?n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding repeat-icon",attrs:{icon:"retweet"}}):t._e(),t._v(" "),n("router-link",{attrs:{to:t.userProfileLink}},[t._v("\n            "+t._s(t.status.user.screen_name_ui)+"\n          ")])],1),t._v(" "),t.showReasonMutedThread?n("small",{staticClass:"mute-thread"},[t._v("\n          "+t._s(t.$t("status.thread_muted"))+"\n        ")]):t._e(),t._v(" "),t.showReasonMutedThread&&t.muteWordHits.length>0?n("small",{staticClass:"mute-thread"},[t._v("\n          "+t._s(t.$t("status.thread_muted_and_words"))+"\n        ")]):t._e(),t._v(" "),n("small",{staticClass:"mute-words",attrs:{title:t.muteWordHits.join(", ")}},[t._v("\n          "+t._s(t.muteWordHits.join(", "))+"\n        ")]),t._v(" "),n("button",{staticClass:"unmute button-unstyled",on:{click:function(e){return e.preventDefault(),t.toggleMute(e)}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"eye-slash"}})],1)])]:[t.showPinned?n("div",{staticClass:"pin"},[n("FAIcon",{staticClass:"faint",attrs:{icon:"thumbtack"}}),t._v(" "),n("span",{staticClass:"faint"},[t._v(t._s(t.$t("status.pinned")))])],1):t._e(),t._v(" "),!t.retweet||t.noHeading||t.inConversation?t._e():n("div",{staticClass:"status-container repeat-info",class:[t.repeaterClass,{highlighted:t.repeaterStyle}],style:[t.repeaterStyle]},[t.retweet?n("UserAvatar",{staticClass:"left-side repeater-avatar",attrs:{"better-shadow":t.betterShadow,user:t.statusoid.user}}):t._e(),t._v(" "),n("div",{staticClass:"right-side faint"},[n("span",{staticClass:"status-username repeater-name",attrs:{title:t.retweeter}},[t.retweeterHtml?n("router-link",{attrs:{to:t.retweeterProfileLink},domProps:{innerHTML:t._s(t.retweeterHtml)}}):n("router-link",{attrs:{to:t.retweeterProfileLink}},[t._v(t._s(t.retweeter))])],1),t._v(" "),n("FAIcon",{staticClass:"repeat-icon",attrs:{icon:"retweet",title:t.$t("tool_tip.repeat")}}),t._v("\n          "+t._s(t.$t("timeline.repeated"))+"\n        ")],1)],1),t._v(" "),t.deleted?n("div",{staticClass:"gravestone"},[n("div",{staticClass:"left-side"},[n("UserAvatar",{attrs:{compact:t.compact}})],1),t._v(" "),n("div",{staticClass:"right-side"},[n("div",{staticClass:"deleted-text"},[t._v("\n            "+t._s(t.$t("status.status_deleted"))+"\n          ")]),t._v(" "),t.replying?n("reply-button",{attrs:{replying:t.replying,status:t.status},on:{toggle:t.toggleReplying}}):t._e()],1)]):n("div",{staticClass:"status-container",class:[t.userClass,{highlighted:t.userStyle,"-repeat":t.retweet&&!t.inConversation}],style:[t.userStyle],attrs:{"data-tags":t.tags}},[t.noHeading?t._e():n("div",{staticClass:"left-side"},[n("router-link",{attrs:{to:t.userProfileLink},nativeOn:{"!click":function(e){return e.stopPropagation(),e.preventDefault(),t.toggleUserExpanded(e)}}},[n("UserAvatar",{attrs:{compact:t.compact,"better-shadow":t.betterShadow,user:t.status.user}})],1)],1),t._v(" "),n("div",{staticClass:"right-side"},[t.userExpanded?n("UserCard",{staticClass:"usercard",attrs:{"user-id":t.status.user.id,rounded:!0,bordered:!0}}):t._e(),t._v(" "),t.noHeading?t._e():n("div",{staticClass:"status-heading"},[n("div",{staticClass:"heading-name-row"},[n("div",{staticClass:"heading-left"},[t.status.user.name_html?n("h4",{staticClass:"status-username",attrs:{title:t.status.user.name},domProps:{innerHTML:t._s(t.status.user.name_html)}}):n("h4",{staticClass:"status-username",attrs:{title:t.status.user.name}},[t._v("\n                  "+t._s(t.status.user.name)+"\n                ")]),t._v(" "),n("router-link",{staticClass:"account-name",attrs:{title:t.status.user.screen_name_ui,to:t.userProfileLink}},[t._v("\n                  "+t._s(t.status.user.screen_name_ui)+"\n                ")]),t._v(" "),t.status.user&&t.status.user.favicon?n("img",{staticClass:"status-favicon",attrs:{src:t.status.user.favicon}}):t._e()],1),t._v(" "),n("span",{staticClass:"heading-right"},[n("router-link",{staticClass:"timeago faint-link",attrs:{to:{name:"conversation",params:{id:t.status.id}}}},[n("Timeago",{attrs:{time:t.status.created_at,"auto-update":60}})],1),t._v(" "),t.status.visibility?n("span",{staticClass:"visibility-icon",attrs:{title:t._f("capitalize")(t.status.visibility)}},[n("FAIcon",{staticClass:"fa-scale-110",attrs:{"fixed-width":"",icon:t.visibilityIcon(t.status.visibility)}})],1):t._e(),t._v(" "),t.expandable&&!t.isPreview?n("button",{staticClass:"button-unstyled",attrs:{title:t.$t("status.expand")},on:{click:function(e){return e.preventDefault(),t.toggleExpanded(e)}}},[n("FAIcon",{staticClass:"fa-scale-110",attrs:{"fixed-width":"",icon:"plus-square"}})],1):t._e(),t._v(" "),t.unmuted?n("button",{staticClass:"button-unstyled",on:{click:function(e){return e.preventDefault(),t.toggleMute(e)}}},[n("FAIcon",{staticClass:"fa-scale-110",attrs:{"fixed-width":"",icon:"eye-slash"}})],1):t._e()],1)]),t._v(" "),n("div",{staticClass:"heading-reply-row"},[t.isReply?n("div",{staticClass:"reply-to-and-accountname"},[t.isPreview?n("span",{staticClass:"reply-to-no-popover"},[n("span",{staticClass:"reply-to-text"},[t._v(t._s(t.$t("status.reply_to")))])]):n("StatusPopover",{staticClass:"reply-to-popover",class:{"-strikethrough":!t.status.parent_visible},staticStyle:{"min-width":"0"},attrs:{"status-id":t.status.parent_visible&&t.status.in_reply_to_status_id}},[n("button",{staticClass:"button-unstyled reply-to",attrs:{"aria-label":t.$t("tool_tip.reply")},on:{click:function(e){return e.preventDefault(),t.gotoOriginal(t.status.in_reply_to_status_id)}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"reply",flip:"horizontal"}}),t._v(" "),n("span",{staticClass:"faint-link reply-to-text"},[t._v("\n                      "+t._s(t.$t("status.reply_to"))+"\n                    ")])],1)]),t._v(" "),n("router-link",{staticClass:"reply-to-link",attrs:{title:t.replyToName,to:t.replyProfileLink}},[t._v("\n                  "+t._s(t.replyToName)+"\n                ")]),t._v(" "),t.replies&&t.replies.length?n("span",{staticClass:"faint replies-separator"},[t._v("\n                  -\n                ")]):t._e()],1):t._e(),t._v(" "),t.inConversation&&!t.isPreview&&t.replies&&t.replies.length?n("div",{staticClass:"replies"},[n("span",{staticClass:"faint"},[t._v(t._s(t.$t("status.replies_list")))]),t._v(" "),t._l(t.replies,(function(e){return n("StatusPopover",{key:e.id,attrs:{"status-id":e.id}},[n("button",{staticClass:"button-unstyled -link reply-link",on:{click:function(n){return n.preventDefault(),t.gotoOriginal(e.id)}}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])])}))],2):t._e()])]),t._v(" "),n("StatusContent",{attrs:{status:t.status,"no-heading":t.noHeading,highlight:t.highlight,focused:t.isFocused},on:{mediaplay:function(e){return t.addMediaPlaying(e)},mediapause:function(e){return t.removeMediaPlaying(e)}}}),t._v(" "),n("transition",{attrs:{name:"fade"}},[!t.hidePostStats&&t.isFocused&&t.combinedFavsAndRepeatsUsers.length>0?n("div",{staticClass:"favs-repeated-users"},[n("div",{staticClass:"stats"},[t.statusFromGlobalRepository.rebloggedBy&&t.statusFromGlobalRepository.rebloggedBy.length>0?n("UserListPopover",{attrs:{users:t.statusFromGlobalRepository.rebloggedBy}},[n("div",{staticClass:"stat-count"},[n("a",{staticClass:"stat-title"},[t._v(t._s(t.$t("status.repeats")))]),t._v(" "),n("div",{staticClass:"stat-number"},[t._v("\n                      "+t._s(t.statusFromGlobalRepository.rebloggedBy.length)+"\n                    ")])])]):t._e(),t._v(" "),t.statusFromGlobalRepository.favoritedBy&&t.statusFromGlobalRepository.favoritedBy.length>0?n("UserListPopover",{attrs:{users:t.statusFromGlobalRepository.favoritedBy}},[n("div",{staticClass:"stat-count"},[n("a",{staticClass:"stat-title"},[t._v(t._s(t.$t("status.favorites")))]),t._v(" "),n("div",{staticClass:"stat-number"},[t._v("\n                      "+t._s(t.statusFromGlobalRepository.favoritedBy.length)+"\n                    ")])])]):t._e(),t._v(" "),n("div",{staticClass:"avatar-row"},[n("AvatarList",{attrs:{users:t.combinedFavsAndRepeatsUsers}})],1)],1)]):t._e()]),t._v(" "),!t.mergedConfig.emojiReactionsOnTimeline&&!t.isFocused||t.noHeading||t.isPreview?t._e():n("EmojiReactions",{attrs:{status:t.status}}),t._v(" "),t.noHeading||t.isPreview?t._e():n("div",{staticClass:"status-actions"},[n("reply-button",{attrs:{replying:t.replying,status:t.status},on:{toggle:t.toggleReplying}}),t._v(" "),n("retweet-button",{attrs:{visibility:t.status.visibility,"logged-in":t.loggedIn,status:t.status}}),t._v(" "),n("favorite-button",{attrs:{"logged-in":t.loggedIn,status:t.status}}),t._v(" "),t.loggedIn?n("ReactButton",{attrs:{status:t.status}}):t._e(),t._v(" "),n("extra-buttons",{attrs:{status:t.status},on:{onError:t.showError,onSuccess:t.clearError}})],1)],1)]),t._v(" "),t.replying?n("div",{staticClass:"status-container reply-form"},[n("PostStatusForm",{staticClass:"reply-body",attrs:{"reply-to":t.status.id,attentions:t.status.attentions,"replied-user":t.status.user,"copy-message-scope":t.status.visibility,subject:t.replySubject},on:{posted:t.toggleReplying}})],1):t._e()]],2)}),[],!1,Q,null,null);e.default=Z.exports},function(t,e,n){"use strict";var i=n(2),o=n.n(i),r=n(47),s=n(17),a=n.n(s),c=n(140),l=n.n(c),u={name:"Poll",props:["basePoll"],components:{Timeago:n(48).a},data:function(){return{loading:!1,choices:[]}},created:function(){this.$store.state.polls.pollsObject[this.pollId]||this.$store.dispatch("mergeOrAddPoll",this.basePoll),this.$store.dispatch("trackPoll",this.pollId)},destroyed:function(){this.$store.dispatch("untrackPoll",this.pollId)},computed:{pollId:function(){return this.basePoll.id},poll:function(){return this.$store.state.polls.pollsObject[this.pollId]||{}},options:function(){return this.poll&&this.poll.options||[]},expiresAt:function(){return this.poll&&this.poll.expires_at||0},expired:function(){return this.poll&&this.poll.expired||!1},loggedIn:function(){return this.$store.state.users.currentUser},showResults:function(){return this.poll.voted||this.expired||!this.loggedIn},totalVotesCount:function(){return this.poll.votes_count},containerClass:function(){return{loading:this.loading}},choiceIndices:function(){return this.choices.map((function(t,e){return t&&e})).filter((function(t){return"number"==typeof t}))},isDisabled:function(){var t=0===this.choiceIndices.length;return this.loading||t}},methods:{percentageForOption:function(t){return 0===this.totalVotesCount?0:Math.round(t/this.totalVotesCount*100)},resultTitle:function(t){return"".concat(t.votes_count,"/").concat(this.totalVotesCount," ").concat(this.$t("polls.votes"))},fetchPoll:function(){this.$store.dispatch("refreshPoll",{id:this.statusId,pollId:this.poll.id})},activateOption:function(t){var e=this.$el.querySelectorAll("input"),n=this.$el.querySelector('input[value="'.concat(t,'"]'));this.poll.multiple?n.checked=!n.checked:(l()(e,(function(t){t.checked=!1})),n.checked=!0),this.choices=a()(e,(function(t){return t.checked}))},optionId:function(t){return"poll".concat(this.poll.id,"-").concat(t)},vote:function(){var t=this;0!==this.choiceIndices.length&&(this.loading=!0,this.$store.dispatch("votePoll",{id:this.statusId,pollId:this.poll.id,choices:this.choiceIndices}).then((function(e){t.loading=!1})))}}},d=n(0);var p=function(t){n(424)},f=Object(d.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"poll",class:t.containerClass},[t._l(t.options,(function(e,i){return n("div",{key:i,staticClass:"poll-option"},[t.showResults?n("div",{staticClass:"option-result",attrs:{title:t.resultTitle(e)}},[n("div",{staticClass:"option-result-label"},[n("span",{staticClass:"result-percentage"},[t._v("\n          "+t._s(t.percentageForOption(e.votes_count))+"%\n        ")]),t._v(" "),n("span",{domProps:{innerHTML:t._s(e.title_html)}})]),t._v(" "),n("div",{staticClass:"result-fill",style:{width:t.percentageForOption(e.votes_count)+"%"}})]):n("div",{on:{click:function(e){return t.activateOption(i)}}},[t.poll.multiple?n("input",{attrs:{type:"checkbox",disabled:t.loading},domProps:{value:i}}):n("input",{attrs:{type:"radio",disabled:t.loading},domProps:{value:i}}),t._v(" "),n("label",{staticClass:"option-vote"},[n("div",{domProps:{innerHTML:t._s(e.title_html)}})])])])})),t._v(" "),n("div",{staticClass:"footer faint"},[t.showResults?t._e():n("button",{staticClass:"btn button-default poll-vote-button",attrs:{type:"button",disabled:t.isDisabled},on:{click:t.vote}},[t._v("\n      "+t._s(t.$t("polls.vote"))+"\n    ")]),t._v(" "),n("div",{staticClass:"total"},["number"==typeof t.poll.voters_count?[t._v("\n        "+t._s(t.$tc("polls.people_voted_count",t.poll.voters_count,{count:t.poll.voters_count}))+"¬†¬∑¬†\n      ")]:[t._v("\n        "+t._s(t.$tc("polls.votes_count",t.poll.votes_count,{count:t.poll.votes_count}))+"¬†¬∑¬†\n      ")]],2),t._v(" "),n("i18n",{attrs:{path:t.expired?"polls.expired":"polls.expires_in"}},[n("Timeago",{attrs:{time:t.expiresAt,"auto-update":60,"now-threshold":0}})],1)],1)],2)}),[],!1,p,null,null).exports,h=n(121),m=n(122),g=n(19),v=n(25),b=n(9),w=n.n(b),_=n(4),y=n(3),x=n(1);function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}y.c.add(x.m,x.y,x.L,x.F,x.I,x.R);var C={name:"StatusContent",props:["status","focused","noHeading","fullContent","singleLine"],data:function(){return{showingTall:this.fullContent||this.inConversation&&this.focused,showingLongSubject:!1,expandingSubject:!this.$store.getters.mergedConfig.collapseMessageWithSubject}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({localCollapseSubjectDefault:function(){return this.mergedConfig.collapseMessageWithSubject},hideAttachments:function(){return this.mergedConfig.hideAttachments&&!this.inConversation||this.mergedConfig.hideAttachmentsInConv&&this.inConversation},tallStatus:function(){return this.status.statusnet_html.split(/<p|<br/).length+this.status.text.length/80>20},longSubject:function(){return this.status.summary.length>240},mightHideBecauseSubject:function(){return!!this.status.summary&&this.localCollapseSubjectDefault},mightHideBecauseTall:function(){return this.tallStatus&&!(this.status.summary&&this.localCollapseSubjectDefault)},hideSubjectStatus:function(){return this.mightHideBecauseSubject&&!this.expandingSubject},hideTallStatus:function(){return this.mightHideBecauseTall&&!this.showingTall},showingMore:function(){return this.mightHideBecauseTall&&this.showingTall||this.mightHideBecauseSubject&&this.expandingSubject},nsfwClickthrough:function(){return!!this.status.nsfw&&(!this.status.summary||!this.localCollapseSubjectDefault)},attachmentSize:function(){return this.mergedConfig.hideAttachments&&!this.inConversation||this.mergedConfig.hideAttachmentsInConv&&this.inConversation||this.status.attachments.length>this.maxThumbnails?"hide":this.compact?"small":"normal"},galleryTypes:function(){return"hide"===this.attachmentSize?[]:this.mergedConfig.playVideosInModal?["image","video"]:["image"]},galleryAttachments:function(){var t=this;return this.status.attachments.filter((function(e){return v.a.fileMatchesSomeType(t.galleryTypes,e)}))},nonGalleryAttachments:function(){var t=this;return this.status.attachments.filter((function(e){return!v.a.fileMatchesSomeType(t.galleryTypes,e)}))},attachmentTypes:function(){return this.status.attachments.map((function(t){return v.a.fileType(t.mimetype)}))},maxThumbnails:function(){return this.mergedConfig.maxThumbnails},postBodyHtml:function(){var t=this.status.statusnet_html;if(!this.mergedConfig.greentext)return t;try{return t.includes("&gt;")?function(t,e){for(var n,i=new Set(["p","br","div"]),o=new Set(["p","div"]),r="",s=[],a="",c=null,l=function(){a.trim().length>0?r+=e(a):r+=a,a=""},u=function(t){l(),r+=t},d=function(t){l(),r+=t,s.push(t)},p=function(t){l(),r+=t,s[s.length-1]===t&&s.pop()},f=0;f<t.length;f++){var h=t[f];if("<"===h&&null===c)c=h;else if(">"!==h&&null!==c)c+=h;else if(">"===h&&null!==c){var m=c+=h;c=null;var g=(n=void 0,(n=/(?:<\/(\w+)>|<(\w+)\s?[^/]*?\/?>)/gi.exec(m))&&(n[1]||n[2]));i.has(g)?"br"===g?u(m):o.has(g)&&("/"===m[1]?p(m):"/"===m[m.length-2]?u(m):d(m)):a+=m}else"\n"===h?u(h):a+=h}return c&&(a+=c),l(),r}(t,(function(t){return t.includes("&gt;")&&t.replace(/<[^>]+?>/gi,"").replace(/@\w+/gi,"").trim().startsWith("&gt;")?"<span class='greentext'>".concat(t,"</span>"):t})):t}catch(e){return console.err("Failed to process status html",e),t}}},Object(_.c)(["mergedConfig"]),{},Object(_.e)({betterShadow:function(t){return t.interface.browserSupport.cssFilter},currentUser:function(t){return t.users.currentUser}})),components:{Attachment:r.a,Poll:f,Gallery:h.a,LinkPreview:m.a},methods:{linkClicked:function(t){var e,n,i=t.target.closest(".status-content a");if(i){if(i.className.match(/mention/)){var o=i.href,r=this.status.attentions.find((function(t){return function(t,e){if(e===t.statusnet_profile_url)return!0;var n=t.screen_name.split("@"),i=w()(n,2),o=i[0],r=i[1],s=new RegExp("://"+r+"/.*"+o+"$","g");return!!e.match(s)}(t,o)}));if(r){t.stopPropagation(),t.preventDefault();var s=this.generateUserProfileLink(r.id,r.screen_name);return void this.$router.push(s)}}if(i.rel.match(/(?:^|\s)tag(?:$|\s)/)||i.className.match(/hashtag/)){var a=i.dataset.tag||(e=i.href,!!(n=/tag[s]*\/(\w+)$/g.exec(e))&&n[1]);if(a){var c=this.generateTagLink(a);return void this.$router.push(c)}}window.open(i.href,"_blank")}},toggleShowMore:function(){this.mightHideBecauseTall?this.showingTall=!this.showingTall:this.mightHideBecauseSubject&&(this.expandingSubject=!this.expandingSubject)},generateUserProfileLink:function(t,e){return Object(g.a)(t,e,this.$store.state.instance.restrictedNicknames)},generateTagLink:function(t){return"/tag/".concat(t)},setMedia:function(){var t=this,e="hide"===this.attachmentSize?this.status.attachments:this.galleryAttachments;return function(){return t.$store.dispatch("setMedia",e)}}}};var S=function(t){n(422)},O=Object(d.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"StatusContent"},[t._t("header"),t._v(" "),t.status.summary_html?n("div",{staticClass:"summary-wrapper",class:{"tall-subject":t.longSubject&&!t.showingLongSubject}},[n("div",{staticClass:"media-body summary",domProps:{innerHTML:t._s(t.status.summary_html)},on:{click:function(e){return e.preventDefault(),t.linkClicked(e)}}}),t._v(" "),t.longSubject&&t.showingLongSubject?n("button",{staticClass:"button-unstyled -link tall-subject-hider",on:{click:function(e){e.preventDefault(),t.showingLongSubject=!1}}},[t._v("\n      "+t._s(t.$t("status.hide_full_subject"))+"\n    ")]):t.longSubject?n("button",{staticClass:"button-unstyled -link tall-subject-hider",class:{"tall-subject-hider_focused":t.focused},on:{click:function(e){e.preventDefault(),t.showingLongSubject=!0}}},[t._v("\n      "+t._s(t.$t("status.show_full_subject"))+"\n    ")]):t._e()]):t._e(),t._v(" "),n("div",{staticClass:"status-content-wrapper",class:{"tall-status":t.hideTallStatus}},[t.hideTallStatus?n("button",{staticClass:"button-unstyled -link tall-status-hider",class:{"tall-status-hider_focused":t.focused},on:{click:function(e){return e.preventDefault(),t.toggleShowMore(e)}}},[t._v("\n      "+t._s(t.$t("general.show_more"))+"\n    ")]):t._e(),t._v(" "),t.hideSubjectStatus?t._e():n("div",{staticClass:"status-content media-body",class:{"single-line":t.singleLine},domProps:{innerHTML:t._s(t.postBodyHtml)},on:{click:function(e){return e.preventDefault(),t.linkClicked(e)}}}),t._v(" "),t.hideSubjectStatus?n("button",{staticClass:"button-unstyled -link cw-status-hider",on:{click:function(e){return e.preventDefault(),t.toggleShowMore(e)}}},[t._v("\n      "+t._s(t.$t("status.show_content"))+"\n      "),t.attachmentTypes.includes("image")?n("FAIcon",{attrs:{icon:"image"}}):t._e(),t._v(" "),t.attachmentTypes.includes("video")?n("FAIcon",{attrs:{icon:"video"}}):t._e(),t._v(" "),t.attachmentTypes.includes("audio")?n("FAIcon",{attrs:{icon:"music"}}):t._e(),t._v(" "),t.attachmentTypes.includes("unknown")?n("FAIcon",{attrs:{icon:"file"}}):t._e(),t._v(" "),t.status.poll&&t.status.poll.options?n("FAIcon",{attrs:{icon:"poll-h"}}):t._e(),t._v(" "),t.status.card?n("FAIcon",{attrs:{icon:"link"}}):t._e()],1):t._e(),t._v(" "),t.showingMore&&!t.fullContent?n("button",{staticClass:"button-unstyled -link status-unhider",on:{click:function(e){return e.preventDefault(),t.toggleShowMore(e)}}},[t._v("\n      "+t._s(t.tallStatus?t.$t("general.show_less"):t.$t("status.hide_content"))+"\n    ")]):t._e()]),t._v(" "),t.status.poll&&t.status.poll.options&&!t.hideSubjectStatus?n("div",[n("poll",{attrs:{"base-poll":t.status.poll}})],1):t._e(),t._v(" "),0===t.status.attachments.length||t.hideSubjectStatus&&!t.showingLongSubject?t._e():n("div",{staticClass:"attachments media-body"},[t._l(t.nonGalleryAttachments,(function(e){return n("attachment",{key:e.id,staticClass:"non-gallery",attrs:{size:t.attachmentSize,nsfw:t.nsfwClickthrough,attachment:e,"allow-play":!0,"set-media":t.setMedia()},on:{play:function(n){return t.$emit("mediaplay",e.id)},pause:function(n){return t.$emit("mediapause",e.id)}}})})),t._v(" "),t.galleryAttachments.length>0?n("gallery",{attrs:{nsfw:t.nsfwClickthrough,attachments:t.galleryAttachments,"set-media":t.setMedia()}}):t._e()],2),t._v(" "),!t.status.card||t.hideSubjectStatus||t.noHeading?t._e():n("div",{staticClass:"link-preview media-body"},[n("link-preview",{attrs:{card:t.status.card,size:t.attachmentSize,nsfw:t.nsfwClickthrough}})],1),t._v(" "),t._t("footer")],2)}),[],!1,S,null,null);e.a=O.exports},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return u}));var i=6e4,o=60*i,r=24*o,s=7*r,a=30*r,c=365.25*r,l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;"string"==typeof t&&(t=Date.parse(t));var n=Date.now()>t?Math.floor:Math.ceil,l=Math.abs(Date.now()-t),u={num:n(l/c),key:"time.years"};return l<1e3*e?(u.num=0,u.key="time.now"):l<i?(u.num=n(l/1e3),u.key="time.seconds"):l<o?(u.num=n(l/i),u.key="time.minutes"):l<r?(u.num=n(l/o),u.key="time.hours"):l<s?(u.num=n(l/r),u.key="time.days"):l<a?(u.num=n(l/s),u.key="time.weeks"):l<c&&(u.num=n(l/a),u.key="time.months"),1===u.num&&(u.key=u.key.slice(0,-1)),u},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=l(t,e);return n.key+="_short",n}},,,,function(t,e,n){"use strict";var i=n(30),o=n(20),r=n(19),s={props:["user"],data:function(){return{userExpanded:!1}},components:{UserCard:i.a,UserAvatar:o.default},methods:{toggleUserExpanded:function(){this.userExpanded=!this.userExpanded},userProfileLink:function(t){return Object(r.a)(t.id,t.screen_name,this.$store.state.instance.restrictedNicknames)}}},a=n(0);var c=function(t){n(483)},l=Object(a.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"basic-user-card"},[n("router-link",{attrs:{to:t.userProfileLink(t.user)}},[n("UserAvatar",{staticClass:"avatar",attrs:{user:t.user},nativeOn:{click:function(e){return e.preventDefault(),t.toggleUserExpanded(e)}}})],1),t._v(" "),t.userExpanded?n("div",{staticClass:"basic-user-card-expanded-content"},[n("UserCard",{attrs:{"user-id":t.user.id,rounded:!0,bordered:!0}})],1):n("div",{staticClass:"basic-user-card-collapsed-content"},[n("div",{staticClass:"basic-user-card-user-name",attrs:{title:t.user.name}},[t.user.name_html?n("span",{staticClass:"basic-user-card-user-name-value",domProps:{innerHTML:t._s(t.user.name_html)}}):n("span",{staticClass:"basic-user-card-user-name-value"},[t._v(t._s(t.user.name))])]),t._v(" "),n("div",[n("router-link",{staticClass:"basic-user-card-screen-name",attrs:{to:t.userProfileLink(t.user)}},[t._v("\n        @"+t._s(t.user.screen_name_ui)+"\n      ")])],1),t._v(" "),t._t("default")],2)],1)}),[],!1,c,null,null);e.a=l.exports},function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return y})),n.d(e,"b",(function(){return C})),n.d(e,"c",(function(){return S})),n.d(e,"d",(function(){return O}));var i=n(2),o=n.n(i),r=n(9),s=n.n(r),a=n(26),c=n.n(a),l=n(13),u=n.n(l),d=n(16),p=n(12),f=n(31);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=3,v=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.b,n=[t],i=e[t];i;)n.unshift(i),i=e[i];return n},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return v(t).map((function(r){return[r===t?i[e]:i[r],r===t?o[n]||1:o[r]]}))},w=function(t,e){var n=e[t];if("string"==typeof n&&n.startsWith("--"))return[n.substring(2)];if(null===n)return[];var i=n.depends,o=n.layer,r=n.variant,s=o?v(o).map((function(t){return t===o?r||o:t})):[];return Array.isArray(i)?[].concat(u()(i),u()(s)):u()(s)},_=function(t){return"object"===c()(t)?t:{depends:t.startsWith("--")?[t.substring(2)]:[],default:t.startsWith("#")?t:void 0}},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.c,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w,i=_(e[t]);if(null!==i.opacity){if(i.opacity)return i.opacity;var o=function i(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[t],s=n(o,e)[0];if(void 0!==s){var a=e[s];if(void 0!==a)return a.opacity||null===a?a.opacity:a.depends&&r.includes(s)?i(s,[].concat(u()(r),[s])):null}};return i.depends?o(t):void 0}},x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.c,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w,i=_(e[t]);if(f.b[t])return t;if(null!==i.layer){if(i.layer)return i.layer;var o=function i(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[t],s=n(o,e)[0];if(void 0!==s){var a=e[s];if(void 0!==a)return a.layer||null===a?a.layer:a.depends?i(a,[].concat(u()(r),[s])):null}};return i.depends?o(t):void 0}},k=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.c,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,n=Object.keys(t),i=new Set(n),o=new Set,r=new Set,s=u()(n),a=[],c=function n(s){if(i.has(s))i.delete(s),o.add(s),e(s,t).forEach(n),o.delete(s),r.add(s),a.push(s);else if(o.has(s))console.debug("Cyclic depenency in topoSort, ignoring"),a.push(s);else if(!r.has(s))throw new Error("Unintended condition in topoSort!")};s.length>0;)c(s.pop());return a.map((function(t,e){return{data:t,index:e}})).sort((function(n,i){var o=n.data,r=n.index,s=i.data,a=i.index,c=e(o,t).length,l=e(s,t).length;return c===l||0!==l&&0!==c?r-a:0===c&&0!==l?-1:0===l&&0!==c?1:void 0})).map((function(t){return t.data}))}(Object.entries(f.c).sort((function(t,e){var n=s()(t,2),i=(n[0],n[1]),o=s()(e,2),r=(o[0],o[1]);return(i&&i.priority||0)-(r&&r.priority||0)})).reduce((function(t,e){var n=s()(e,2),i=n[0],r=n[1];return m({},t,o()({},i,r))}),{})),C=Object.entries(f.c).reduce((function(t,e){var n=s()(e,2),i=n[0],r=(n[1],y(i,f.c,w));return r?m({},t,o()({},r,{defaultValue:f.a[r]||1,affectedSlots:[].concat(u()(t[r]&&t[r].affectedSlots||[]),[i])})):t}),{}),S=function(t,e,n){if("string"!=typeof t||!t.startsWith("--"))return t;var i=null,o=t.split(/,/g).map((function(t){return t.trim()})),r=s()(o,2),a=r[0],c=r[1];return i=e(a.substring(2)),c&&(i=Object(d.brightness)(Number.parseFloat(c)*n,i).rgb),i},O=function(t,e){return k.reduce((function(n,i){var r=n.colors,s=n.opacity,a=t[i],c=_(f.c[i]),l=w(i,f.c),h=!!c.textColor,g=c.variant||c.layer,v=null;v=h?Object(p.b)(m({},r[l[0]]||Object(d.convert)(t[i]||"#FF00FF").rgb),b(x(i)||"bg",g||"bg",y(g),r,s)):g&&g!==i?r[g]||Object(d.convert)(t[g]).rgb:r.bg||Object(d.convert)(t.bg);var k=Object(p.h)(v)<.5?1:-1,O=null;if(a){var j=a;if("transparent"===j){var P=b(x(i),i,y(i)||i,r,s).slice(0,-1);j=m({},Object(p.b)(Object(d.convert)("#FF00FF").rgb,P),{a:0})}else"string"==typeof a&&a.startsWith("--")?j=S(a,(function(e){return r[e]||t[e]}),k):"string"==typeof a&&a.startsWith("#")&&(j=Object(d.convert)(j).rgb);O=m({},j)}else if(c.default)O=Object(d.convert)(c.default).rgb;else{var T=c.color||function(t,e){return m({},e)};if(c.textColor)if("bw"===c.textColor)O=Object(d.contrastRatio)(v).rgb;else{var $=m({},r[l[0]]);c.color&&($=T.apply(void 0,[k].concat(u()(l.map((function(t){return m({},r[t])})))))),O=Object(p.e)(v,m({},$),"preserve"===c.textColor)}else O=T.apply(void 0,[k].concat(u()(l.map((function(t){return m({},r[t])})))))}if(!O)throw new Error("Couldn't generate color for "+i);var I=c.opacity||y(i),M=c.opacity;if(null===M)O.a=1;else if("transparent"===a)O.a=0;else{var F=M&&void 0!==e[I],E=l[0],U=E&&r[E];M||!U||c.textColor||null===M?U||I?U&&0===U.a?O.a=0:O.a=Number(F?e[I]:(C[I]||{}).defaultValue):delete O.a:O.a=U.a}return(Number.isNaN(O.a)||void 0===O.a)&&(O.a=1),I?{colors:m({},r,o()({},i,O)),opacity:m({},s,o()({},I,O.a))}:{colors:m({},r,o()({},i,O)),opacity:s}}),{colors:{},opacity:{}})}},,,function(t,e,n){"use strict";var i=n(5),o=n.n(i),r=n(2),s=n.n(r),a=n(13),c=n.n(a),l=n(45),u=n.n(l),d=n(115),p=n.n(d),f=n(17),h=n.n(f),m=n(201),g=n.n(m),v=n(66),b=n(81),w=n(3),_=n(1);w.c.add(_.kb,_.m);var y={data:function(){return{uploadCount:0,uploadReady:!0}},computed:{uploading:function(){return this.uploadCount>0}},methods:{uploadFile:function(t){var e=this,n=this.$store;if(t.size>n.state.instance.uploadlimit){var i=b.a.fileSizeFormat(t.size),o=b.a.fileSizeFormat(n.state.instance.uploadlimit);e.$emit("upload-failed","file_too_big",{filesize:i.num,filesizeunit:i.unit,allowedsize:o.num,allowedsizeunit:o.unit})}else{var r=new FormData;r.append("file",t),e.$emit("uploading"),e.uploadCount++,v.a.uploadMedia({store:n,formData:r}).then((function(t){e.$emit("uploaded",t),e.decreaseUploadCount()}),(function(t){e.$emit("upload-failed","default"),e.decreaseUploadCount()}))}},decreaseUploadCount:function(){this.uploadCount--,0===this.uploadCount&&this.$emit("all-uploaded")},clearFile:function(){var t=this;this.uploadReady=!1,this.$nextTick((function(){t.uploadReady=!0}))},multiUpload:function(t){var e=!0,n=!1,i=void 0;try{for(var o,r=t[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value;this.uploadFile(s)}}catch(t){n=!0,i=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw i}}},change:function(t){var e=t.target;this.multiUpload(e.files)}},props:["dropFiles","disabled"],watch:{dropFiles:function(t){this.uploading||this.multiUpload(t)}}},x=n(0);var k=function(t){n(402)},C=Object(x.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"media-upload",class:{disabled:t.disabled},attrs:{title:t.$t("tool_tip.media_upload")}},[t.uploading?n("FAIcon",{staticClass:"progress-icon",attrs:{icon:"circle-notch",spin:""}}):t._e(),t._v(" "),t.uploading?t._e():n("FAIcon",{staticClass:"new-icon",attrs:{icon:"upload"}}),t._v(" "),t.uploadReady?n("input",{staticStyle:{position:"fixed",top:"-100em"},attrs:{disabled:t.disabled,type:"file",multiple:"true"},on:{change:t.change}}):t._e()],1)}),[],!1,k,null,null).exports,S=n(209),O=n(208),j=n(84),P=n.n(j),T=n(38),$=n(60);w.c.add(_.jb,_.P);var I={components:{Select:$.a},name:"PollForm",props:["visible"],data:function(){return{pollType:"single",options:["",""],expiryAmount:10,expiryUnit:"minutes"}},computed:{pollLimits:function(){return this.$store.state.instance.pollLimits},maxOptions:function(){return this.pollLimits.max_options},maxLength:function(){return this.pollLimits.max_option_chars},expiryUnits:function(){var t=this,e=this.convertExpiryFromUnit;return["minutes","hours","days"].filter((function(n){return t.pollLimits.max_expiration>=e(n,1)}))},minExpirationInCurrentUnit:function(){return Math.ceil(this.convertExpiryToUnit(this.expiryUnit,this.pollLimits.min_expiration))},maxExpirationInCurrentUnit:function(){return Math.floor(this.convertExpiryToUnit(this.expiryUnit,this.pollLimits.max_expiration))}},methods:{clear:function(){this.pollType="single",this.options=["",""],this.expiryAmount=10,this.expiryUnit="minutes"},nextOption:function(t){var e=this.$el.querySelector("#poll-".concat(t+1));e?e.focus():this.addOption()&&this.$nextTick((function(){this.nextOption(t)}))},addOption:function(){return this.options.length<this.maxOptions&&(this.options.push(""),!0)},deleteOption:function(t,e){this.options.length>2&&(this.options.splice(t,1),this.updatePollToParent())},convertExpiryToUnit:function(t,e){switch(t){case"minutes":return 1e3*e/T.c;case"hours":return 1e3*e/T.b;case"days":return 1e3*e/T.a}},convertExpiryFromUnit:function(t,e){switch(t){case"minutes":return.001*e*T.c;case"hours":return.001*e*T.b;case"days":return.001*e*T.a}},expiryAmountChange:function(){this.expiryAmount=Math.max(this.minExpirationInCurrentUnit,this.expiryAmount),this.expiryAmount=Math.min(this.maxExpirationInCurrentUnit,this.expiryAmount),this.updatePollToParent()},updatePollToParent:function(){var t=this.convertExpiryFromUnit(this.expiryUnit,this.expiryAmount),e=P()(this.options.filter((function(t){return""!==t})));e.length<2?this.$emit("update-poll",{error:this.$t("polls.not_enough_options")}):this.$emit("update-poll",{options:e,multiple:"multiple"===this.pollType,expiresIn:t})}}};var M=function(t){n(412)},F=Object(x.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"poll-form"},[t._l(t.options,(function(e,i){return n("div",{key:i,staticClass:"poll-option"},[n("div",{staticClass:"input-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.options[i],expression:"options[index]"}],staticClass:"poll-option-input",attrs:{id:"poll-"+i,size:"1",type:"text",placeholder:t.$t("polls.option"),maxlength:t.maxLength},domProps:{value:t.options[i]},on:{change:t.updatePollToParent,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),e.preventDefault(),t.nextOption(i))},input:function(e){e.target.composing||t.$set(t.options,i,e.target.value)}}})]),t._v(" "),t.options.length>2?n("button",{staticClass:"delete-option button-unstyled -hover-highlight",on:{click:function(e){return t.deleteOption(i)}}},[n("FAIcon",{attrs:{icon:"times"}})],1):t._e()])})),t._v(" "),t.options.length<t.maxOptions?n("button",{staticClass:"add-option faint button-unstyled -hover-highlight",on:{click:t.addOption}},[n("FAIcon",{attrs:{icon:"plus",size:"sm"}}),t._v("\n\n    "+t._s(t.$t("polls.add_option"))+"\n  ")],1):t._e(),t._v(" "),n("div",{staticClass:"poll-type-expiry"},[n("div",{staticClass:"poll-type",attrs:{title:t.$t("polls.type")}},[n("Select",{staticClass:"poll-type-select",attrs:{unstyled:"true"},on:{change:t.updatePollToParent},model:{value:t.pollType,callback:function(e){t.pollType=e},expression:"pollType"}},[n("option",{attrs:{value:"single"}},[t._v("\n          "+t._s(t.$t("polls.single_choice"))+"\n        ")]),t._v(" "),n("option",{attrs:{value:"multiple"}},[t._v("\n          "+t._s(t.$t("polls.multiple_choices"))+"\n        ")])])],1),t._v(" "),n("div",{staticClass:"poll-expiry",attrs:{title:t.$t("polls.expiry")}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.expiryAmount,expression:"expiryAmount"}],staticClass:"expiry-amount hide-number-spinner",attrs:{type:"number",min:t.minExpirationInCurrentUnit,max:t.maxExpirationInCurrentUnit},domProps:{value:t.expiryAmount},on:{change:t.expiryAmountChange,input:function(e){e.target.composing||(t.expiryAmount=e.target.value)}}}),t._v(" "),n("Select",{staticClass:"expiry-unit",attrs:{unstyled:"true"},on:{change:t.expiryAmountChange},model:{value:t.expiryUnit,callback:function(e){t.expiryUnit=e},expression:"expiryUnit"}},t._l(t.expiryUnits,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v("\n          "+t._s(t.$t("time."+e+"_short",[""]))+"\n        ")])})),0)],1)])],2):t._e()}),[],!1,M,null,null).exports,E=n(47),U=n(37),A=n(25),N=n(116),D=n(144),L=n(4),R=n(59);function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}w.c.add(_.ab,_.R,_.kb,_.b,_.jb,_.m);var z=function(t){return Number(t.substring(0,t.length-2))},H={props:["replyTo","repliedUser","attentions","copyMessageScope","subject","disableSubject","disableScopeSelector","disableNotice","disableLockWarning","disablePolls","disableSensitivityCheckbox","disableSubmit","disablePreview","placeholder","maxHeight","postHandler","preserveFocus","autoFocus","fileLimit","submitOnEnter","emojiPickerPlacement","optimisticPosting"],components:{MediaUpload:C,EmojiInput:O.a,PollForm:F,ScopeSelector:S.a,Checkbox:R.a,Select:$.a,Attachment:E.a,StatusContent:U.a},mounted:function(){if(this.updateIdempotencyKey(),this.resize(this.$refs.textarea),this.replyTo){var t=this.$refs.textarea.value.length;this.$refs.textarea.setSelectionRange(t,t)}(this.replyTo||this.autoFocus)&&this.$refs.textarea.focus()},data:function(){var t=this.$route.query.message||"",e=this.$store.getters.mergedConfig.scopeCopy;if(this.replyTo){var n=this.$store.state.users.currentUser;t=function(t,e){var n=t.user,i=t.attentions,o=void 0===i?[]:i,r=c()(o);r.unshift(n),r=p()(r,"id"),r=g()(r,{id:e.id});var s=h()(r,(function(t){return"@".concat(t.screen_name)}));return s.length>0?s.join(" ")+" ":""}({user:this.repliedUser,attentions:this.attentions},n)}var i=this.copyMessageScope&&e||"direct"===this.copyMessageScope?this.copyMessageScope:this.$store.state.users.currentUser.default_scope,o=this.$store.getters.mergedConfig,r=o.postContentType,s=o.sensitiveByDefault;return{dropFiles:[],uploadingFiles:!1,error:null,posting:!1,highlighted:0,newStatus:{spoilerText:this.subject||"",status:t,nsfw:!!s,files:[],poll:{},mediaDescriptions:{},visibility:i,contentType:r},caret:0,pollFormVisible:!1,showDropIcon:"hide",dropStopTimeout:null,preview:null,previewLoading:!1,emojiInputShown:!1,idempotencyKey:""}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({users:function(){return this.$store.state.users.users},userDefaultScope:function(){return this.$store.state.users.currentUser.default_scope},showAllScopes:function(){return!this.mergedConfig.minimalScopesMode},emojiUserSuggestor:function(){return Object(D.a)({emoji:[].concat(c()(this.$store.state.instance.emoji),c()(this.$store.state.instance.customEmoji)),store:this.$store})},emojiSuggestor:function(){return Object(D.a)({emoji:[].concat(c()(this.$store.state.instance.emoji),c()(this.$store.state.instance.customEmoji))})},emoji:function(){return this.$store.state.instance.emoji||[]},customEmoji:function(){return this.$store.state.instance.customEmoji||[]},statusLength:function(){return this.newStatus.status.length},spoilerTextLength:function(){return this.newStatus.spoilerText.length},statusLengthLimit:function(){return this.$store.state.instance.textlimit},hasStatusLengthLimit:function(){return this.statusLengthLimit>0},charactersLeft:function(){return this.statusLengthLimit-(this.statusLength+this.spoilerTextLength)},isOverLengthLimit:function(){return this.hasStatusLengthLimit&&this.charactersLeft<0},minimalScopesMode:function(){return this.$store.state.instance.minimalScopesMode},alwaysShowSubject:function(){return this.mergedConfig.alwaysShowSubjectInput},postFormats:function(){return this.$store.state.instance.postFormats||[]},safeDMEnabled:function(){return this.$store.state.instance.safeDM},pollsAvailable:function(){return this.$store.state.instance.pollsAvailable&&this.$store.state.instance.pollLimits.max_options>=2&&!0!==this.disablePolls},hideScopeNotice:function(){return this.disableNotice||this.$store.getters.mergedConfig.hideScopeNotice},pollContentError:function(){return this.pollFormVisible&&this.newStatus.poll&&this.newStatus.poll.error},showPreview:function(){return!this.disablePreview&&(!!this.preview||this.previewLoading)},emptyStatus:function(){return""===this.newStatus.status.trim()&&0===this.newStatus.files.length},uploadFileLimitReached:function(){return this.newStatus.files.length>=this.fileLimit}},Object(L.c)(["mergedConfig"]),{},Object(L.e)({mobileLayout:function(t){return t.interface.mobileLayout}})),watch:{newStatus:{deep:!0,handler:function(){this.statusChanged()}}},methods:{statusChanged:function(){this.autoPreview(),this.updateIdempotencyKey()},clearStatus:function(){var t=this,e=this.newStatus;this.newStatus={status:"",spoilerText:"",files:[],visibility:e.visibility,contentType:e.contentType,poll:{},mediaDescriptions:{}},this.pollFormVisible=!1,this.$refs.mediaUpload&&this.$refs.mediaUpload.clearFile(),this.clearPollForm(),this.preserveFocus&&this.$nextTick((function(){t.$refs.textarea.focus()}));var n=this.$el.querySelector("textarea");n.style.height="auto",n.style.height=void 0,this.error=null,this.preview&&this.previewStatus()},postStatus:function(t,e){var n,i,r=this,s=arguments;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.length>2&&void 0!==s[2]?s[2]:{},!this.posting||this.optimisticPosting){a.next=3;break}return a.abrupt("return");case 3:if(!this.disableSubmit){a.next=5;break}return a.abrupt("return");case 5:if(!this.emojiInputShown){a.next=7;break}return a.abrupt("return");case 7:if(this.submitOnEnter&&(t.stopPropagation(),t.preventDefault()),!this.optimisticPosting||!this.emptyStatus&&!this.isOverLengthLimit){a.next=10;break}return a.abrupt("return");case 10:if(!this.emptyStatus){a.next=13;break}return this.error=this.$t("post_status.empty_status_error"),a.abrupt("return");case 13:if(n=this.pollFormVisible?this.newStatus.poll:{},!this.pollContentError){a.next=17;break}return this.error=this.pollContentError,a.abrupt("return");case 17:return this.posting=!0,a.prev=18,a.next=21,o.a.awrap(this.setAllMediaDescriptions());case 21:a.next=28;break;case 23:return a.prev=23,a.t0=a.catch(18),this.error=this.$t("post_status.media_description_error"),this.posting=!1,a.abrupt("return");case 28:i={status:e.status,spoilerText:e.spoilerText||null,visibility:e.visibility,sensitive:e.nsfw,media:e.files,store:this.$store,inReplyToStatusId:this.replyTo,contentType:e.contentType,poll:n,idempotencyKey:this.idempotencyKey},(this.postHandler?this.postHandler:v.a.postStatus)(i).then((function(t){t.error?r.error=t.error:(r.clearStatus(),r.$emit("posted",t)),r.posting=!1}));case 31:case"end":return a.stop()}}),null,this,[[18,23]])},previewStatus:function(){var t=this;if(this.emptyStatus&&""===this.newStatus.spoilerText.trim())return this.preview={error:this.$t("post_status.preview_empty")},void(this.previewLoading=!1);var e=this.newStatus;this.previewLoading=!0,v.a.postStatus({status:e.status,spoilerText:e.spoilerText||null,visibility:e.visibility,sensitive:e.nsfw,media:[],store:this.$store,inReplyToStatusId:this.replyTo,contentType:e.contentType,poll:{},preview:!0}).then((function(e){t.previewLoading&&(e.error?t.preview={error:e.error}:t.preview=e)})).catch((function(e){t.preview={error:e}})).finally((function(){t.previewLoading=!1}))},debouncePreviewStatus:u()((function(){this.previewStatus()}),500),autoPreview:function(){this.preview&&(this.previewLoading=!0,this.debouncePreviewStatus())},closePreview:function(){this.preview=null,this.previewLoading=!1},togglePreview:function(){this.showPreview?this.closePreview():this.previewStatus()},addMediaFile:function(t){this.newStatus.files.push(t),this.$emit("resize",{delayed:!0})},removeMediaFile:function(t){var e=this.newStatus.files.indexOf(t);this.newStatus.files.splice(e,1),this.$emit("resize")},uploadFailed:function(t,e){e=e||{},this.error=this.$t("upload.error.base")+" "+this.$t("upload.error."+t,e)},startedUploadingFiles:function(){this.uploadingFiles=!0},finishedUploadingFiles:function(){this.$emit("resize"),this.uploadingFiles=!1},type:function(t){return A.a.fileType(t.mimetype)},paste:function(t){this.autoPreview(),this.resize(t),t.clipboardData.files.length>0&&(t.preventDefault(),this.dropFiles=[t.clipboardData.files[0]])},fileDrop:function(t){t.dataTransfer&&t.dataTransfer.types.includes("Files")&&(t.preventDefault(),this.dropFiles=t.dataTransfer.files,clearTimeout(this.dropStopTimeout),this.showDropIcon="hide")},fileDragStop:function(t){var e=this;clearTimeout(this.dropStopTimeout),this.showDropIcon="fade",this.dropStopTimeout=setTimeout((function(){return e.showDropIcon="hide"}),500)},fileDrag:function(t){t.dataTransfer.dropEffect=this.uploadFileLimitReached?"none":"copy",t.dataTransfer&&t.dataTransfer.types.includes("Files")&&(clearTimeout(this.dropStopTimeout),this.showDropIcon="show")},onEmojiInputInput:function(t){var e=this;this.$nextTick((function(){e.resize(e.$refs.textarea)}))},resize:function(t){var e=t.target||t;if(e instanceof window.Element){if(""===e.value)return e.style.height=null,this.$emit("resize"),void this.$refs["emoji-input"].resize();var n=this.$refs.form,i=this.$refs.bottom,o=window.getComputedStyle(i)["padding-bottom"],r=z(o),s=this.$el.closest(".sidebar-scroller")||this.$el.closest(".post-form-modal-view")||window,a=window.getComputedStyle(e)["padding-top"],c=window.getComputedStyle(e)["padding-bottom"],l=z(a)+z(c),u=z(e.style.height),d=s===window?s.scrollY:s.scrollTop,p=s===window?s.innerHeight:s.offsetHeight,f=d+p;e.style.height="auto";var h=Math.floor(e.scrollHeight-l),m=this.maxHeight?Math.min(h,this.maxHeight):h;Math.abs(m-u)<=1&&(m=u),e.style.height="".concat(m,"px"),this.$emit("resize",m);var g=i.offsetHeight+Object(N.a)(i,s).top+r,v=f<g,b=p<n.offsetHeight,w=g-f,_=v&&!(b&&this.$refs.textarea.selectionStart!==this.$refs.textarea.value.length)?w:0,y=Math.round(d+_);s===window?s.scroll(0,y):s.scrollTop=y,this.$refs["emoji-input"].resize()}},showEmojiPicker:function(){this.$refs.textarea.focus(),this.$refs["emoji-input"].triggerShowPicker()},clearError:function(){this.error=null},changeVis:function(t){this.newStatus.visibility=t},togglePollForm:function(){this.pollFormVisible=!this.pollFormVisible},setPoll:function(t){this.newStatus.poll=t},clearPollForm:function(){this.$refs.pollForm&&this.$refs.pollForm.clear()},dismissScopeNotice:function(){this.$store.dispatch("setOption",{name:"hideScopeNotice",value:!0})},setMediaDescription:function(t){var e=this.newStatus.mediaDescriptions[t];if(e&&""!==e.trim())return v.a.setMediaDescription({store:this.$store,id:t,description:e})},setAllMediaDescriptions:function(){var t=this,e=this.newStatus.files.map((function(t){return t.id}));return Promise.all(e.map((function(e){return t.setMediaDescription(e)})))},handleEmojiInputShow:function(t){this.emojiInputShown=t},updateIdempotencyKey:function(){this.idempotencyKey=Date.now().toString()},openProfileTab:function(){this.$store.dispatch("openSettingsModalTab","profile")}}};var q=function(t){n(400)},V=Object(x.a)(H,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"form",staticClass:"post-status-form"},[n("form",{attrs:{autocomplete:"off"},on:{submit:function(t){t.preventDefault()},dragover:function(e){return e.preventDefault(),t.fileDrag(e)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"hide"!==t.showDropIcon,expression:"showDropIcon !== 'hide'"}],staticClass:"drop-indicator",style:{animation:"show"===t.showDropIcon?"fade-in 0.25s":"fade-out 0.5s"},on:{dragleave:t.fileDragStop,drop:function(e){return e.stopPropagation(),t.fileDrop(e)}}},[n("FAIcon",{attrs:{icon:t.uploadFileLimitReached?"ban":"upload"}})],1),t._v(" "),n("div",{staticClass:"form-group"},[t.$store.state.users.currentUser.locked||"private"!=t.newStatus.visibility||t.disableLockWarning?t._e():n("i18n",{staticClass:"visibility-notice",attrs:{path:"post_status.account_not_locked_warning",tag:"p"}},[n("button",{staticClass:"button-unstyled -link",on:{click:t.openProfileTab}},[t._v("\n          "+t._s(t.$t("post_status.account_not_locked_warning_link"))+"\n        ")])]),t._v(" "),t.hideScopeNotice||"public"!==t.newStatus.visibility?t.hideScopeNotice||"unlisted"!==t.newStatus.visibility?!t.hideScopeNotice&&"private"===t.newStatus.visibility&&t.$store.state.users.currentUser.locked?n("p",{staticClass:"visibility-notice notice-dismissible"},[n("span",[t._v(t._s(t.$t("post_status.scope_notice.private")))]),t._v(" "),n("a",{staticClass:"fa-scale-110 fa-old-padding dismiss",on:{click:function(e){return e.preventDefault(),t.dismissScopeNotice()}}},[n("FAIcon",{attrs:{icon:"times"}})],1)]):"direct"===t.newStatus.visibility?n("p",{staticClass:"visibility-notice"},[t.safeDMEnabled?n("span",[t._v(t._s(t.$t("post_status.direct_warning_to_first_only")))]):n("span",[t._v(t._s(t.$t("post_status.direct_warning_to_all")))])]):t._e():n("p",{staticClass:"visibility-notice notice-dismissible"},[n("span",[t._v(t._s(t.$t("post_status.scope_notice.unlisted")))]),t._v(" "),n("a",{staticClass:"fa-scale-110 fa-old-padding dismiss",on:{click:function(e){return e.preventDefault(),t.dismissScopeNotice()}}},[n("FAIcon",{attrs:{icon:"times"}})],1)]):n("p",{staticClass:"visibility-notice notice-dismissible"},[n("span",[t._v(t._s(t.$t("post_status.scope_notice.public")))]),t._v(" "),n("a",{staticClass:"fa-scale-110 fa-old-padding dismiss",on:{click:function(e){return e.preventDefault(),t.dismissScopeNotice()}}},[n("FAIcon",{attrs:{icon:"times"}})],1)]),t._v(" "),t.disablePreview?t._e():n("div",{staticClass:"preview-heading faint"},[n("a",{staticClass:"preview-toggle faint",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.togglePreview(e)}}},[t._v("\n          "+t._s(t.$t("post_status.preview"))+"\n          "),n("FAIcon",{attrs:{icon:t.showPreview?"chevron-left":"chevron-right"}})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.previewLoading,expression:"previewLoading"}],staticClass:"preview-spinner"},[n("FAIcon",{staticClass:"fa-old-padding",attrs:{spin:"",icon:"circle-notch"}})],1)]),t._v(" "),t.showPreview?n("div",{staticClass:"preview-container"},[t.preview?t.preview.error?n("div",{staticClass:"preview-status preview-error"},[t._v("\n          "+t._s(t.preview.error)+"\n        ")]):n("StatusContent",{staticClass:"preview-status",attrs:{status:t.preview}}):n("div",{staticClass:"preview-status"},[t._v("\n          "+t._s(t.$t("general.loading"))+"\n        ")])],1):t._e(),t._v(" "),t.disableSubject||!t.newStatus.spoilerText&&!t.alwaysShowSubject?t._e():n("EmojiInput",{staticClass:"form-control",attrs:{"enable-emoji-picker":"",suggest:t.emojiSuggestor},model:{value:t.newStatus.spoilerText,callback:function(e){t.$set(t.newStatus,"spoilerText",e)},expression:"newStatus.spoilerText"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newStatus.spoilerText,expression:"newStatus.spoilerText"}],staticClass:"form-post-subject",attrs:{type:"text",placeholder:t.$t("post_status.content_warning"),disabled:t.posting&&!t.optimisticPosting,size:"1"},domProps:{value:t.newStatus.spoilerText},on:{input:function(e){e.target.composing||t.$set(t.newStatus,"spoilerText",e.target.value)}}})]),t._v(" "),n("EmojiInput",{ref:"emoji-input",staticClass:"form-control main-input",attrs:{suggest:t.emojiUserSuggestor,placement:t.emojiPickerPlacement,"enable-emoji-picker":"","hide-emoji-button":"","newline-on-ctrl-enter":t.submitOnEnter,"enable-sticker-picker":""},on:{input:t.onEmojiInputInput,"sticker-uploaded":t.addMediaFile,"sticker-upload-failed":t.uploadFailed,shown:t.handleEmojiInputShow},model:{value:t.newStatus.status,callback:function(e){t.$set(t.newStatus,"status",e)},expression:"newStatus.status"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newStatus.status,expression:"newStatus.status"}],ref:"textarea",staticClass:"form-post-body",class:{"scrollable-form":!!t.maxHeight},attrs:{placeholder:t.placeholder||t.$t("post_status.default"),rows:"1",cols:"1",disabled:t.posting&&!t.optimisticPosting},domProps:{value:t.newStatus.status},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:void(t.submitOnEnter&&t.postStatus(e,t.newStatus))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.metaKey?t.postStatus(e,t.newStatus):null},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?void(!t.submitOnEnter&&t.postStatus(e,t.newStatus)):null}],input:[function(e){e.target.composing||t.$set(t.newStatus,"status",e.target.value)},t.resize],compositionupdate:t.resize,paste:t.paste}}),t._v(" "),t.hasStatusLengthLimit?n("p",{staticClass:"character-counter faint",class:{error:t.isOverLengthLimit}},[t._v("\n          "+t._s(t.charactersLeft)+"\n        ")]):t._e()]),t._v(" "),t.disableScopeSelector?t._e():n("div",{staticClass:"visibility-tray"},[n("scope-selector",{attrs:{"show-all":t.showAllScopes,"user-default":t.userDefaultScope,"original-scope":t.copyMessageScope,"initial-scope":t.newStatus.visibility,"on-scope-change":t.changeVis}}),t._v(" "),t.postFormats.length>1?n("div",{staticClass:"text-format"},[n("Select",{staticClass:"form-control",attrs:{id:"post-content-type"},model:{value:t.newStatus.contentType,callback:function(e){t.$set(t.newStatus,"contentType",e)},expression:"newStatus.contentType"}},t._l(t.postFormats,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v("\n              "+t._s(t.$t('post_status.content_type["'+e+'"]'))+"\n            ")])})),0)],1):t._e(),t._v(" "),1===t.postFormats.length&&"text/plain"!==t.postFormats[0]?n("div",{staticClass:"text-format"},[n("span",{staticClass:"only-format"},[t._v("\n            "+t._s(t.$t('post_status.content_type["'+t.postFormats[0]+'"]'))+"\n          ")])]):t._e()],1)],1),t._v(" "),t.pollsAvailable?n("poll-form",{ref:"pollForm",attrs:{visible:t.pollFormVisible},on:{"update-poll":t.setPoll}}):t._e(),t._v(" "),n("div",{ref:"bottom",staticClass:"form-bottom"},[n("div",{staticClass:"form-bottom-left"},[n("media-upload",{ref:"mediaUpload",staticClass:"media-upload-icon",attrs:{"drop-files":t.dropFiles,disabled:t.uploadFileLimitReached},on:{uploading:t.startedUploadingFiles,uploaded:t.addMediaFile,"upload-failed":t.uploadFailed,"all-uploaded":t.finishedUploadingFiles}}),t._v(" "),n("button",{staticClass:"emoji-icon button-unstyled",attrs:{title:t.$t("emoji.add_emoji")},on:{click:t.showEmojiPicker}},[n("FAIcon",{attrs:{icon:"smile-beam"}})],1),t._v(" "),t.pollsAvailable?n("button",{staticClass:"poll-icon button-unstyled",class:{selected:t.pollFormVisible},attrs:{title:t.$t("polls.add_poll")},on:{click:t.togglePollForm}},[n("FAIcon",{attrs:{icon:"poll-h"}})],1):t._e()],1),t._v(" "),t.posting?n("button",{staticClass:"btn button-default",attrs:{disabled:""}},[t._v("\n        "+t._s(t.$t("post_status.posting"))+"\n      ")]):t.isOverLengthLimit?n("button",{staticClass:"btn button-default",attrs:{disabled:""}},[t._v("\n        "+t._s(t.$t("post_status.post"))+"\n      ")]):n("button",{staticClass:"btn button-default",attrs:{disabled:t.uploadingFiles||t.disableSubmit},on:{touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.postStatus(e,t.newStatus)},click:function(e){return e.stopPropagation(),e.preventDefault(),t.postStatus(e,t.newStatus)}}},[t._v("\n        "+t._s(t.$t("post_status.post"))+"\n      ")])]),t._v(" "),t.error?n("div",{staticClass:"alert error"},[t._v("\n      Error: "+t._s(t.error)+"\n      "),n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"times"},on:{click:t.clearError}})],1):t._e(),t._v(" "),n("div",{staticClass:"attachments"},t._l(t.newStatus.files,(function(e){return n("div",{key:e.url,staticClass:"media-upload-wrapper"},[n("button",{staticClass:"button-unstyled hider",on:{click:function(n){return t.removeMediaFile(e)}}},[n("FAIcon",{attrs:{icon:"times"}})],1),t._v(" "),n("attachment",{attrs:{attachment:e,"set-media":function(){return t.$store.dispatch("setMedia",t.newStatus.files)},size:"small","allow-play":"false"}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newStatus.mediaDescriptions[e.id],expression:"newStatus.mediaDescriptions[file.id]"}],attrs:{type:"text",placeholder:t.$t("post_status.media_description")},domProps:{value:t.newStatus.mediaDescriptions[e.id]},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(n){n.target.composing||t.$set(t.newStatus.mediaDescriptions,e.id,n.target.value)}}})],1)})),0),t._v(" "),t.newStatus.files.length>0&&!t.disableSensitivityCheckbox?n("div",{staticClass:"upload_settings"},[n("Checkbox",{model:{value:t.newStatus.nsfw,callback:function(e){t.$set(t.newStatus,"nsfw",e)},expression:"newStatus.nsfw"}},[t._v("\n        "+t._s(t.$t("post_status.attachments_sensitive"))+"\n      ")])],1):t._e()],1)])}),[],!1,q,null,null);e.a=V.exports},function(t,e,n){"use strict";var i,o=n(2),r=n.n(o),s=n(67),a=(i=null,{getRuffle:function(){return new Promise((function(t,e){if(i)t(i);else{window.RufflePlayer={},window.RufflePlayer.config={polyfills:!1,publicPath:"/static/ruffle"};var n=document.createElement("script");n.src="/static/ruffle/ruffle.js",n.type="text/javascript",n.onerror=function(t){e(t)},n.onabort=function(t){e(t)},n.oncancel=function(t){e(t)},n.onload=function(){i=window.RufflePlayer,t(i)},document.body.appendChild(n)}}))}}),c=n(3),l=n(1);c.c.add(l.db,l.u);var u={props:["src"],data:function(){return{player:!1,loaded:!1,ruffleInstance:null}},methods:{openPlayer:function(){var t=this;this.player||(this.player="hidden",a.getRuffle().then((function(e){var n=e.newest().createPlayer();n.config={letterbox:"on"},t.$refs.container.appendChild(n),n.style.width="100%",n.style.height="100%",n.load(t.src).then((function(){t.player=!0})).catch((function(e){console.error("Error loading ruffle",e),t.player="error"})),t.ruffleInstance=n})))},closePlayer:function(){console.log(this.ruffleInstance),this.ruffleInstance.remove(),this.player=!1}}},d=n(0);var p=function(t){n(420)},f=Object(d.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Flash"},[!0===t.player||"hidden"===t.player?n("div",{ref:"container",staticClass:"player",class:{hidden:"hidden"===t.player}}):t._e(),t._v(" "),!0!==t.player?n("button",{staticClass:"button-unstyled placeholder",on:{click:t.openPlayer}},["hidden"===t.player?n("span",{staticClass:"label"},[t._v("\n      "+t._s(t.$t("general.loading"))+"\n    ")]):t._e(),t._v(" "),"error"===t.player?n("span",{staticClass:"label"},[t._v("\n      "+t._s(t.$t("general.flash_fail"))+"\n    ")]):n("span",{staticClass:"label"},[n("p",[t._v("\n        "+t._s(t.$t("general.flash_content"))+"\n      ")]),t._v(" "),n("p",[n("FAIcon",{attrs:{icon:"exclamation-triangle"}}),t._v("\n        "+t._s(t.$t("general.flash_security"))+"\n      ")],1)])]):t._e(),t._v(" "),t.player?n("button",{staticClass:"button-unstyled hider",on:{click:t.closePlayer}},[n("FAIcon",{attrs:{icon:"stop"}})],1):t._e()])}),[],!1,p,null,null).exports,h=n(120),m=n(227),g=n.n(m),v=n(25),b=n(4);function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}c.c.add(l.y,l.L,l.F,l.ob,l.O,l.jb);var _={props:["attachment","nsfw","size","allowPlay","setMedia","naturalSizeLoad"],data:function(){return{nsfwImage:this.$store.state.instance.nsfwCensorImage||g.a,hideNsfwLocal:this.$store.getters.mergedConfig.hideNsfw,preloadImage:this.$store.getters.mergedConfig.preloadImage,loading:!1,img:"image"===v.a.fileType(this.attachment.mimetype)&&document.createElement("img"),modalOpen:!1,showHidden:!1}},components:{Flash:f,StillImage:s.a,VideoAttachment:h.a},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({usePlaceholder:function(){return"hide"===this.size||"unknown"===this.type},placeholderName:function(){return""!==this.attachment.description&&this.attachment.description?this.attachment.description:this.type.toUpperCase()},placeholderIconClass:function(){return"image"===this.type?"image":"video"===this.type?"video":"audio"===this.type?"music":"file"},referrerpolicy:function(){return this.$store.state.instance.mediaProxyAvailable?"":"no-referrer"},type:function(){return v.a.fileType(this.attachment.mimetype)},hidden:function(){return this.nsfw&&this.hideNsfwLocal&&!this.showHidden},isEmpty:function(){return"html"===this.type&&!this.attachment.oembed||"unknown"===this.type},isSmall:function(){return"small"===this.size},fullwidth:function(){return"hide"!==this.size&&("html"===this.type||"audio"===this.type||"unknown"===this.type)},useModal:function(){return("hide"===this.size?["image","video","audio"]:this.mergedConfig.playVideosInModal?["image","video"]:["image"]).includes(this.type)}},Object(b.c)(["mergedConfig"])),methods:{linkClicked:function(t){var e=t.target;"A"===e.tagName&&window.open(e.href,"_blank")},openModal:function(t){this.useModal&&(t.stopPropagation(),t.preventDefault(),this.setMedia(),this.$store.dispatch("setCurrent",this.attachment))},toggleHidden:function(t){var e=this;!this.mergedConfig.useOneClickNsfw||this.showHidden||"video"===this.type&&!this.mergedConfig.playVideosInModal?this.img&&!this.preloadImage?this.img.onload?this.img.onload():(this.loading=!0,this.img.src=this.attachment.url,this.img.onload=function(){e.loading=!1,e.showHidden=!e.showHidden}):this.showHidden=!this.showHidden:this.openModal(t)},onImageLoad:function(t){var e=t.naturalWidth,n=t.naturalHeight;this.naturalSizeLoad&&this.naturalSizeLoad({width:e,height:n})}}};var y=function(t){n(416)},x=Object(d.a)(_,(function(){var t,e=this,n=e.$createElement,i=e._self._c||n;return e.usePlaceholder?i("div",{class:{fullwidth:e.fullwidth},on:{click:e.openModal}},["html"!==e.type?i("a",{staticClass:"placeholder",attrs:{target:"_blank",href:e.attachment.url,alt:e.attachment.description,title:e.attachment.description}},[i("FAIcon",{attrs:{icon:e.placeholderIconClass}}),e._v(" "),i("b",[e._v(e._s(e.nsfw?"NSFW / ":""))]),e._v(e._s(e.placeholderName)+"\n  ")],1):e._e()]):i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEmpty,expression:"!isEmpty"}],staticClass:"attachment",class:(t={},t[e.type]=!0,t.loading=e.loading,t.fullwidth=e.fullwidth,t["nsfw-placeholder"]=e.hidden,t)},[e.hidden?i("a",{staticClass:"image-attachment",attrs:{href:e.attachment.url,alt:e.attachment.description,title:e.attachment.description},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.toggleHidden(t)}}},[i("img",{key:e.nsfwImage,staticClass:"nsfw",class:{small:e.isSmall},attrs:{src:e.nsfwImage}}),e._v(" "),"video"===e.type?i("FAIcon",{staticClass:"play-icon",attrs:{icon:"play-circle"}}):e._e()],1):e._e(),e._v(" "),e.nsfw&&e.hideNsfwLocal&&!e.hidden?i("button",{staticClass:"button-unstyled hider",on:{click:function(t){return t.preventDefault(),e.toggleHidden(t)}}},[i("FAIcon",{attrs:{icon:"times"}})],1):e._e(),e._v(" "),"image"!==e.type||e.hidden&&!e.preloadImage?e._e():i("a",{staticClass:"image-attachment",class:{hidden:e.hidden&&e.preloadImage},attrs:{href:e.attachment.url,target:"_blank"},on:{click:e.openModal}},[i("StillImage",{staticClass:"image",attrs:{referrerpolicy:e.referrerpolicy,mimetype:e.attachment.mimetype,src:e.attachment.large_thumb_url||e.attachment.url,"image-load-handler":e.onImageLoad,alt:e.attachment.description}})],1),e._v(" "),"video"!==e.type||e.hidden?e._e():i("a",{staticClass:"video-container",class:{small:e.isSmall},attrs:{href:e.allowPlay?void 0:e.attachment.url},on:{click:e.openModal}},[i("VideoAttachment",{staticClass:"video",attrs:{attachment:e.attachment,controls:e.allowPlay},on:{play:function(t){return e.$emit("play")},pause:function(t){return e.$emit("pause")}}}),e._v(" "),e.allowPlay?e._e():i("FAIcon",{staticClass:"play-icon",attrs:{icon:"play-circle"}})],1),e._v(" "),"audio"===e.type?i("audio",{attrs:{src:e.attachment.url,alt:e.attachment.description,title:e.attachment.description,controls:""},on:{play:function(t){return e.$emit("play")},pause:function(t){return e.$emit("pause")}}}):e._e(),e._v(" "),"html"===e.type&&e.attachment.oembed?i("div",{staticClass:"oembed",on:{click:function(t){return t.preventDefault(),e.linkClicked(t)}}},[e.attachment.thumb_url?i("div",{staticClass:"image"},[i("img",{attrs:{src:e.attachment.thumb_url}})]):e._e(),e._v(" "),i("div",{staticClass:"text"},[i("h1",[i("a",{attrs:{href:e.attachment.url}},[e._v(e._s(e.attachment.oembed.title))])]),e._v(" "),i("div",{domProps:{innerHTML:e._s(e.attachment.oembed.oembedHTML)}})])]):e._e(),e._v(" "),"flash"===e.type?i("Flash",{attrs:{src:e.attachment.large_thumb_url||e.attachment.url}}):e._e()],1)}),[],!1,y,null,null);e.a=x.exports},function(t,e,n){"use strict";var i=n(38),o=n(104),r={name:"Timeago",props:["time","autoUpdate","longFormat","nowThreshold"],data:function(){return{relativeTime:{key:"time.now",num:0},interval:null}},computed:{localeDateString:function(){var t=o.a.internalToBrowserLocale(this.$i18n.locale);return"string"==typeof this.time?new Date(Date.parse(this.time)).toLocaleString(t):this.time.toLocaleString(t)}},created:function(){this.refreshRelativeTimeObject()},destroyed:function(){clearTimeout(this.interval)},methods:{refreshRelativeTimeObject:function(){var t="number"==typeof this.nowThreshold?this.nowThreshold:1;this.relativeTime=this.longFormat?i.d(this.time,t):i.e(this.time,t),this.autoUpdate&&(this.interval=setTimeout(this.refreshRelativeTimeObject,1e3*this.autoUpdate))}}},s=n(0),a=Object(s.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("time",{attrs:{datetime:this.time,title:this.localeDateString}},[this._v("\n  "+this._s(this.$t(this.relativeTime.key,[this.relativeTime.num]))+"\n")])}),[],!1,null,null,null);e.a=a.exports},,function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var i=n(12),o=function(t){if(void 0!==t){var e=t.color,n=t.type;if("string"==typeof e){var o=Object(i.f)(e);if(null!=o){var r="rgb(".concat(Math.floor(o.r),", ").concat(Math.floor(o.g),", ").concat(Math.floor(o.b),")"),s="rgba(".concat(Math.floor(o.r),", ").concat(Math.floor(o.g),", ").concat(Math.floor(o.b),", .1)"),a="rgba(".concat(Math.floor(o.r),", ").concat(Math.floor(o.g),", ").concat(Math.floor(o.b),", .2)");return"striped"===n?{backgroundImage:["repeating-linear-gradient(135deg,","".concat(s," ,"),"".concat(s," 20px,"),"".concat(a," 20px,"),"".concat(a," 40px")].join(" "),backgroundPosition:"0 0"}:"solid"===n?{backgroundColor:a}:"side"===n?{backgroundImage:["linear-gradient(to right,","".concat(r," ,"),"".concat(r," 2px,"),"transparent 6px"].join(" "),backgroundPosition:"0 0"}:void 0}}}},r=function(t){return"USER____"+t.screen_name.replace(/\./g,"_").replace(/@/g,"_AT_")}},,,,,,,,function(t,e,n){"use strict";var i={props:{items:{type:Array,default:function(){return[]}},getKey:{type:Function,default:function(t){return t.id}}}},o=n(0);var r=function(t){n(485)},s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[t._l(t.items,(function(e){return n("div",{key:t.getKey(e),staticClass:"list-item"},[t._t("item",null,{item:e})],2)})),t._v(" "),0===t.items.length&&t.$slots.empty?n("div",{staticClass:"list-empty-content faint"},[t._t("empty")],2):t._e()],2)}),[],!1,r,null,null);e.a=s.exports},function(t,e,n){"use strict";var i=n(0);var o=function(t){n(410)},r=Object(i.a)({model:{prop:"checked",event:"change"},props:["checked","indeterminate","disabled"]},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"checkbox",class:{disabled:t.disabled,indeterminate:t.indeterminate}},[n("input",{attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:t.checked,indeterminate:t.indeterminate},on:{change:function(e){return t.$emit("change",e.target.checked)}}}),t._v(" "),n("i",{staticClass:"checkbox-indicator"}),t._v(" "),t.$slots.default?n("span",{staticClass:"label"},[t._t("default")],2):t._e()])}),[],!1,o,null,null);e.a=r.exports},function(t,e,n){"use strict";var i=n(3),o=n(1);i.c.add(o.i);var r=n(0);var s=function(t){n(414)},a=Object(r.a)({model:{prop:"value",event:"change"},props:["value","disabled","unstyled","kind"]},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"Select input",class:{disabled:t.disabled,unstyled:t.unstyled}},[n("select",{attrs:{disabled:t.disabled},domProps:{value:t.value},on:{change:function(e){return t.$emit("change",e.target.value)}}},[t._t("default")],2),t._v(" "),n("FAIcon",{staticClass:"select-down-icon",attrs:{icon:"chevron-down"}})],1)}),[],!1,s,null,null);e.a=a.exports},,,,,,function(t,e,n){"use strict";var i=n(17),o=n.n(i),r=n(11),s={postStatus:function(t){var e=t.store,n=t.status,i=t.spoilerText,s=t.visibility,a=t.sensitive,c=t.poll,l=t.media,u=void 0===l?[]:l,d=t.inReplyToStatusId,p=void 0===d?void 0:d,f=t.contentType,h=void 0===f?"text/plain":f,m=t.preview,g=void 0!==m&&m,v=t.idempotencyKey,b=void 0===v?"":v,w=o()(u,"id");return r.c.postStatus({credentials:e.state.users.currentUser.credentials,status:n,spoilerText:i,visibility:s,sensitive:a,mediaIds:w,inReplyToStatusId:p,contentType:h,poll:c,preview:g,idempotencyKey:b}).then((function(t){return t.error||g||e.dispatch("addNewStatuses",{statuses:[t],timeline:"friends",showImmediately:!0,noIdUpdate:!0}),t})).catch((function(t){return{error:t.message}}))},uploadMedia:function(t){var e=t.store,n=t.formData,i=e.state.users.currentUser.credentials;return r.c.uploadMedia({credentials:i,formData:n})},setMediaDescription:function(t){var e=t.store,n=t.id,i=t.description,o=e.state.users.currentUser.credentials;return r.c.setMediaDescription({credentials:o,id:n,description:i})}};e.a=s},function(t,e,n){"use strict";var i={props:["src","referrerpolicy","mimetype","imageLoadError","imageLoadHandler","alt"],data:function(){return{stopGifs:this.$store.getters.mergedConfig.stopGifs}},computed:{animated:function(){return this.stopGifs&&("image/gif"===this.mimetype||this.src.endsWith(".gif"))}},methods:{onLoad:function(){var t=this.$refs.src;if(t){this.imageLoadHandler&&this.imageLoadHandler(t);var e=this.$refs.canvas;if(e){var n=t.naturalWidth,i=t.naturalHeight;e.width=n,e.height=i,e.getContext("2d").drawImage(t,0,0,n,i)}}},onError:function(){this.imageLoadError&&this.imageLoadError()}}},o=n(0);var r=function(t){n(418)},s=Object(o.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"still-image",class:{animated:t.animated}},[t.animated?n("canvas",{ref:"canvas"}):t._e(),t._v(" "),n("img",{key:t.src,ref:"src",attrs:{alt:t.alt,title:t.alt,src:t.src,referrerpolicy:t.referrerpolicy},on:{load:t.onLoad,error:t.onError}})])}),[],!1,r,null,null);e.a=s.exports},,,,,,,,,,,,,function(t,e,n){"use strict";var i=n(5),o=n.n(i),r=n(13),s={ar:function(){return n.e(5).then(n.t.bind(null,585,3))},ca:function(){return n.e(6).then(n.t.bind(null,586,3))},cs:function(){return n.e(7).then(n.t.bind(null,587,3))},de:function(){return n.e(8).then(n.t.bind(null,588,3))},eo:function(){return n.e(9).then(n.t.bind(null,589,3))},es:function(){return n.e(10).then(n.t.bind(null,590,3))},et:function(){return n.e(11).then(n.t.bind(null,591,3))},eu:function(){return n.e(12).then(n.t.bind(null,592,3))},fi:function(){return n.e(13).then(n.t.bind(null,593,3))},fr:function(){return n.e(14).then(n.t.bind(null,594,3))},ga:function(){return n.e(15).then(n.t.bind(null,595,3))},he:function(){return n.e(16).then(n.t.bind(null,596,3))},hu:function(){return n.e(17).then(n.t.bind(null,597,3))},it:function(){return n.e(18).then(n.t.bind(null,598,3))},ja:function(){return n.e(20).then(n.t.bind(null,599,3))},ja_easy:function(){return n.e(19).then(n.t.bind(null,600,3))},ko:function(){return n.e(21).then(n.t.bind(null,601,3))},nb:function(){return n.e(22).then(n.t.bind(null,602,3))},nl:function(){return n.e(23).then(n.t.bind(null,603,3))},oc:function(){return n.e(24).then(n.t.bind(null,604,3))},pl:function(){return n.e(25).then(n.t.bind(null,605,3))},pt:function(){return n.e(26).then(n.t.bind(null,606,3))},ro:function(){return n.e(27).then(n.t.bind(null,607,3))},ru:function(){return n.e(28).then(n.t.bind(null,608,3))},te:function(){return n.e(29).then(n.t.bind(null,609,3))},uk:function(){return n.e(30).then(n.t.bind(null,610,3))},zh:function(){return n.e(31).then(n.t.bind(null,611,3))},zh_Hant:function(){return n.e(32).then(n.t.bind(null,612,3))}},a={languages:["en"].concat(n.n(r)()(Object.keys(s))),default:{en:n(337)},setLanguage:function(t,e){var n;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!s[e]){i.next=5;break}return i.next=3,o.a.awrap(s[e]());case 3:n=i.sent,t.setLocaleMessage(e,n);case 5:t.locale=e;case 6:case"end":return i.stop()}}))}};e.a=a},function(t,e,n){"use strict";var i={fileSizeFormat:function(t){var e,n=["B","KiB","MiB","GiB","TiB"];return t<1?t+" "+n[0]:(e=Math.min(Math.floor(Math.log(t)/Math.log(1024)),n.length-1),{num:t=1*(t/Math.pow(1024,e)).toFixed(2),unit:n[e]})}};e.a=i},,,,,,,function(t,e,n){"use strict";var i={props:{disabled:{type:Boolean},click:{type:Function,default:function(){return Promise.resolve()}}},data:function(){return{progress:!1}},methods:{onClick:function(){var t=this;this.progress=!0,this.click().then((function(){t.progress=!1}))}}},o=n(0),r=Object(o.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("button",{attrs:{disabled:this.progress||this.disabled},on:{click:this.onClick}},[this.progress&&this.$slots.progress?[this._t("progress")]:[this._t("default")]],2)}),[],!1,null,null,null);e.a=r.exports},,,,,,,,,,,,,,,,function(t,e,n){"use strict";var i={ja_easy:"ja",zh_Hant:"zh-HANT"},o={internalToBrowserLocale:function(t){return i[t]||t}};e.a=o},function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return f}));var i=n(2),o=n.n(i),r=n(9),s=n.n(r),a=n(8),c=n(35),l=n(80);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p={colors:{},theme:void 0,customTheme:void 0,customThemeSource:void 0,hideISP:!1,hideInstanceWallpaper:!1,hideShoutbox:!1,hideMutedPosts:void 0,collapseMessageWithSubject:void 0,padEmoji:!0,hideAttachments:!1,hideAttachmentsInConv:!1,maxThumbnails:16,hideNsfw:!0,preloadImage:!0,loopVideo:!0,loopVideoSilentOnly:!0,streaming:!1,emojiReactionsOnTimeline:!0,autohideFloatingPostButton:!1,pauseOnUnfocused:!0,stopGifs:!1,replyVisibility:"all",notificationVisibility:{follows:!0,mentions:!0,likes:!0,repeats:!0,moves:!0,emojiReactions:!0,followRequest:!0,chatMention:!0},webPushNotifications:!1,muteWords:[],highlight:{},interfaceLanguage:(window.navigator.language||"en").split("-")[0],hideScopeNotice:!1,useStreamingApi:!1,sidebarRight:void 0,scopeCopy:void 0,subjectLineBehavior:void 0,alwaysShowSubjectInput:void 0,postContentType:void 0,minimalScopesMode:void 0,hideFilteredStatuses:void 0,playVideosInModal:!1,useOneClickNsfw:!1,useContainFit:!1,greentext:void 0,hidePostStats:void 0,hideUserStats:void 0,virtualScrolling:void 0,sensitiveByDefault:void 0},f=Object.entries(p).filter((function(t){var e=s()(t,2);e[0];return void 0===e[1]})).map((function(t){var e=s()(t,2),n=e[0];e[1];return n})),h={state:d({},p),getters:{defaultConfig:function(t,e,n,i){var o=n.instance;return d({},p,{},Object.fromEntries(f.map((function(t){return[t,o[t]]}))))},mergedConfig:function(t,e,n,i){return d({},i.defaultConfig,{},Object.fromEntries(Object.entries(t).filter((function(t){var e=s()(t,2);e[0];return void 0!==e[1]}))))}},mutations:{setOption:function(t,e){var n=e.name,i=e.value;Object(a.set)(t,n,i)},setHighlight:function(t,e){var n=e.user,i=e.color,o=e.type,r=this.state.config.highlight[n];i||o?Object(a.set)(t.highlight,n,{color:i||r.color,type:o||r.type}):Object(a.delete)(t.highlight,n)}},actions:{loadSettings:function(t,e){var n=t.dispatch,i=new Set(Object.keys(p)),o=new Set(Object.keys(e)),r=new Set,s=!0,a=!1,c=void 0;try{for(var l,u=o[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var d=l.value;i.has(d)&&r.add(d)}}catch(t){a=!0,c=t}finally{try{s||null==u.return||u.return()}finally{if(a)throw c}}r.forEach((function(t){return n("setOption",{name:t,value:e[t]})}))},setHighlight:function(t,e){var n=t.commit;t.dispatch;n("setHighlight",{user:e.user,color:e.color,type:e.type})},setOption:function(t,e){var n=t.commit,i=(t.dispatch,e.name),o=e.value;switch(n("setOption",{name:i,value:o}),i){case"theme":Object(c.l)(o);break;case"customTheme":case"customThemeSource":Object(c.b)(o);break;case"interfaceLanguage":l.a.setLanguage(this.getters.i18n,o)}}}};e.a=h},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(40),o=n.n(i),r=function(t,e){var n=t.text.toLowerCase(),i=t.summary.toLowerCase();return o()(e,(function(t){return n.includes(t.toLowerCase())||i.includes(t.toLowerCase())}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(t,e){if("Notification"in window&&"granted"===window.Notification.permission&&!t.statuses.notifications.desktopNotificationSilence){var n=new window.Notification(e.title,e);setTimeout(n.close.bind(n),5e3)}}},,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.top,s=void 0===r?0:r,a=i.left,c=void 0===a?0:a,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u={top:s+e.offsetTop,left:c+e.offsetLeft};if(!l&&e!==window){var d=o(e),p=d.topPadding,f=d.leftPadding;u.top+=l?0:p,u.left+=l?0:f}if(e.offsetParent&&(n===window||n.contains(e.offsetParent)||n===e.offsetParent))return t(e.offsetParent,n,u,!1);if(n!==window){var h=o(n),m=h.topPadding,g=h.leftPadding;u.top+=m,u.left+=g}return u},o=function(t){var e=window.getComputedStyle(t)["padding-top"],n=Number(e.substring(0,e.length-2)),i=window.getComputedStyle(t)["padding-left"];return{topPadding:n,leftPadding:Number(i.substring(0,i.length-2))}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var i=function(t){var e=t.filename,n=void 0===e?"data":e,i=t.getExportedObject;return{exportData:function(){var t=JSON.stringify(i(),null,2),e=document.createElement("a");e.setAttribute("download","".concat(n,".json")),e.setAttribute("href","data:application/json;base64,"+window.btoa(t)),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}},o=function(t){var e=t.onImport,n=t.onImportFailure,i=t.validator,o=void 0===i?function(){return!0}:i;return{importData:function(){var t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept",".json"),t.addEventListener("change",(function(t){if(t.target.files[0]){var i=new FileReader;i.onload=function(t){var i=t.target;try{var r=JSON.parse(i.result),s=o(r);!0===s?e(r):n({validationResult:s})}catch(t){n({error:t})}},i.readAsText(t.target.files[0])}})),document.body.appendChild(t),t.click(),document.body.removeChild(t)}}}},,function(t,e,n){"use strict";var i=n(9),o=n.n(i),r=function(t,e){return new Promise((function(n,i){e.state.api.backendInteractor.followUser({id:t}).then((function(t){if(e.commit("updateUserRelationship",[t]),!(t.following||t.locked&&t.requested))return function t(e,n,i){return new Promise((function(t,o){setTimeout((function(){i.state.api.backendInteractor.fetchUserRelationship({id:n}).then((function(t){return i.commit("updateUserRelationship",[t]),t})).then((function(n){return t([n.following,n.requested,n.locked,e])})).catch((function(t){return o(t)}))}),500)})).then((function(e){var r=o()(e,4),s=r[0],a=r[1],c=r[2],l=r[3];s||c&&a||!(l<=3)||t(++l,n,i)}))}(1,t,e).then((function(){n()}));n()}))}))},s={props:["relationship","labelFollowing","buttonClass"],data:function(){return{inProgress:!1}},computed:{isPressed:function(){return this.inProgress||this.relationship.following},title:function(){return this.inProgress||this.relationship.following?this.$t("user_card.follow_unfollow"):this.relationship.requested?this.$t("user_card.follow_again"):this.$t("user_card.follow")},label:function(){return this.inProgress?this.$t("user_card.follow_progress"):this.relationship.following?this.labelFollowing||this.$t("user_card.following"):this.relationship.requested?this.$t("user_card.follow_sent"):this.$t("user_card.follow")}},methods:{onClick:function(){this.relationship.following?this.unfollow():this.follow()},follow:function(){var t=this;this.inProgress=!0,r(this.relationship.id,this.$store).then((function(){t.inProgress=!1}))},unfollow:function(){var t=this,e=this.$store;this.inProgress=!0,function(t,e){return new Promise((function(n,i){e.state.api.backendInteractor.unfollowUser({id:t}).then((function(t){e.commit("updateUserRelationship",[t]),n({updated:t})}))}))}(this.relationship.id,e).then((function(){t.inProgress=!1,e.commit("removeStatus",{timeline:"friends",userId:t.relationship.id})}))}}},a=n(0),c=Object(a.a)(s,(function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"btn button-default follow-button",class:{toggled:this.isPressed},attrs:{disabled:this.inProgress,title:this.title},on:{click:this.onClick}},[this._v("\n  "+this._s(this.label)+"\n")])}),[],!1,null,null,null);e.a=c.exports},function(t,e,n){"use strict";var i={props:["attachment","controls"],data:function(){return{blocksSuspend:!1,hasAudio:!0}},computed:{loopVideo:function(){return this.$store.getters.mergedConfig.loopVideoSilentOnly?!this.hasAudio:this.$store.getters.mergedConfig.loopVideo}},methods:{onPlaying:function(t){this.setHasAudio(t),this.loopVideo?this.$emit("play",{looping:!0}):this.$emit("play")},onPaused:function(t){this.$emit("pause")},setHasAudio:function(t){var e=t.srcElement||t.target;this.hasAudio&&(void 0!==e.webkitAudioDecodedByteCount&&e.webkitAudioDecodedByteCount>0||void 0!==e.mozHasAudio&&e.mozHasAudio||void 0!==e.audioTracks&&e.audioTracks.length>0||(this.hasAudio=!1))}}},o=n(0),r=Object(o.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("video",{staticClass:"video",attrs:{preload:"metadata",src:this.attachment.url,loop:this.loopVideo,controls:this.controls,alt:this.attachment.description,title:this.attachment.description,playsinline:""},on:{playing:this.onPlaying,pause:this.onPaused}})}),[],!1,null,null,null);e.a=r.exports},function(t,e,n){"use strict";var i=n(114),o=n.n(i),r=n(228),s=n.n(r),a=n(27),c=n.n(a),l=n(229),u=n.n(l),d={props:["attachments","nsfw","setMedia"],data:function(){return{sizes:{}}},components:{Attachment:n(47).a},computed:{rows:function(){if(!this.attachments)return[];var t=u()(this.attachments,3);if(1===c()(t).length&&t.length>1){var e=c()(t)[0],n=s()(t);return c()(n).push(e),n}return t},useContainFit:function(){return this.$store.getters.mergedConfig.useContainFit}},methods:{onNaturalSizeLoad:function(t,e){this.$set(this.sizes,t,e)},rowStyle:function(t){return{"padding-bottom":"".concat(100/(t+.6),"%")}},itemStyle:function(t,e){var n=this,i=o()(e,(function(t){return n.getAspectRatio(t.id)}));return{flex:"".concat(this.getAspectRatio(t)/i," 1 0%")}},getAspectRatio:function(t){var e=this.sizes[t];return e?e.width/e.height:1}}},p=n(0);var f=function(t){n(426)},h=Object(p.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"galleryContainer",staticStyle:{width:"100%"}},t._l(t.rows,(function(e,i){return n("div",{key:i,staticClass:"gallery-row",class:{"contain-fit":t.useContainFit,"cover-fit":!t.useContainFit},style:t.rowStyle(e.length)},[n("div",{staticClass:"gallery-row-inner"},t._l(e,(function(i){return n("attachment",{key:i.id,style:t.itemStyle(i.id,e),attrs:{"set-media":t.setMedia,nsfw:t.nsfw,attachment:i,"allow-play":!1,"natural-size-load":t.onNaturalSizeLoad.bind(null,i.id)}})})),1)])})),0)}),[],!1,f,null,null);e.a=h.exports},function(t,e,n){"use strict";var i=n(2),o=n.n(i),r=n(4);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var a={name:"LinkPreview",props:["card","size","nsfw"],data:function(){return{imageLoaded:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({useImage:function(){return this.card.image&&!this.censored&&"hide"!==this.size},censored:function(){return this.nsfw&&this.hideNsfwConfig},useDescription:function(){return this.card.description&&/\S/.test(this.card.description)},hideNsfwConfig:function(){return this.mergedConfig.hideNsfw}},Object(r.c)(["mergedConfig"])),created:function(){var t=this;if(this.useImage){var e=new Image;e.onload=function(){t.imageLoaded=!0},e.src=this.card.image}}},c=n(0);var l=function(t){n(428)},u=Object(c.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a",{staticClass:"link-preview-card",attrs:{href:t.card.url,target:"_blank",rel:"noopener"}},[t.useImage&&t.imageLoaded?n("div",{staticClass:"card-image"},[n("img",{attrs:{src:t.card.image}})]):t._e(),t._v(" "),n("div",{staticClass:"card-content"},[n("span",{staticClass:"card-host faint"},[t.censored?n("span",{staticClass:"nsfw-alert alert warning"},[t._v(t._s(t.$t("status.nsfw")))]):t._e(),t._v("\n        "+t._s(t.card.provider_name)+"\n      ")]),t._v(" "),n("h4",{staticClass:"card-title"},[t._v(t._s(t.card.title))]),t._v(" "),t.useDescription?n("p",{staticClass:"card-description"},[t._v(t._s(t.card.description))]):t._e()])])])}),[],!1,l,null,null);e.a=u.exports},function(t,e,n){"use strict";var i={props:["user"],computed:{subscribeUrl:function(){var t=new URL(this.user.statusnet_profile_url);return"".concat(t.protocol,"//").concat(t.host,"/main/ostatus")}}},o=n(0);var r=function(t){n(434)},s=Object(o.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"remote-follow"},[e("form",{attrs:{method:"POST",action:this.subscribeUrl}},[e("input",{attrs:{type:"hidden",name:"nickname"},domProps:{value:this.user.screen_name}}),this._v(" "),e("input",{attrs:{type:"hidden",name:"profile",value:""}}),this._v(" "),e("button",{staticClass:"button-default remote-button",attrs:{click:"submit"}},[this._v("\n      "+this._s(this.$t("user_card.remote_follow"))+"\n    ")])])])}),[],!1,r,null,null);e.a=s.exports},function(t,e,n){"use strict";var i=n(20),o=n(19),r={props:["users"],computed:{slicedUsers:function(){return this.users?this.users.slice(0,15):[]}},components:{UserAvatar:i.default},methods:{userProfileLink:function(t){return Object(o.a)(t.id,t.screen_name,this.$store.state.instance.restrictedNicknames)}}},s=n(0);var a=function(t){n(442)},c=Object(s.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"avatars"},t._l(t.slicedUsers,(function(e){return n("router-link",{key:e.id,staticClass:"avatars-item",attrs:{to:t.userProfileLink(e)}},[n("UserAvatar",{staticClass:"avatar-small",attrs:{user:e}})],1)})),1)}),[],!1,a,null,null);e.a=c.exports},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var i=n(5),o=n.n(i);e.a=function(t){var e=r(t.emoji),n=t.store&&s(t.store);return function(i){var o=i[0];return":"===o&&t.emoji?e(i):"@"===o&&n?n(i):[]}};var r=function(t){return function(e){var n=e.toLowerCase().substr(1);return t.filter((function(t){return t.displayText.toLowerCase().match(n)})).sort((function(t,e){var i=0,o=0;return i+=t.displayText.toLowerCase()===n?200:0,o+=e.displayText.toLowerCase()===n?200:0,i+=t.imageUrl?100:0,o+=e.imageUrl?100:0,i+=t.displayText.toLowerCase().startsWith(n)?10:0,o+=e.displayText.toLowerCase().startsWith(n)?10:0,i-=t.displayText.length,(o-=e.displayText.length)-i+(t.displayText>e.displayText?.5:-.5)}))}},s=function(t){var e=t.dispatch,n=t.state,i=[],r="",s=null,a=null,c=function(t){return a&&a(),new Promise((function(n,i){s=setTimeout((function(){(function(t){return e("searchUsers",{query:t})})(t).then(n).catch(i)}),300),a=function(){clearTimeout(s),n([])}}))};return function(t){var e,s;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=t.toLowerCase().substr(1),r!==e){a.next=3;break}return a.abrupt("return",i);case 3:if(i=[],r=e,e.includes("@")){a.next=8;break}return a.next=8,o.a.awrap(c(e));case 8:return s=n.users.users.filter((function(t){return t.screen_name.toLowerCase().startsWith(e)||t.name.toLowerCase().startsWith(e)})).slice(0,20).sort((function(t,n){var i=0,o=0;return i+=t.screen_name.toLowerCase().startsWith(e)?2:0,o+=n.screen_name.toLowerCase().startsWith(e)?2:0,i+=t.name.toLowerCase().startsWith(e)?1:0,10*((o+=n.name.toLowerCase().startsWith(e)?1:0)-i)+(t.name>n.name?1:-1)+(t.screen_name>n.screen_name?1:-1)})).map((function(t){var e=t.screen_name;return{displayText:t.screen_name_ui,detailText:t.name,imageUrl:t.profile_image_url_original,replacement:"@"+e+" "}})),i=s||[],a.abrupt("return",i);case 11:case"end":return a.stop()}}))}}},,,,,,function(t,e,n){"use strict";var i=n(2),o=n.n(i),r=n(8),s=n.n(r),a=n(4),c=n(57);n(495);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}e.a=s.a.component("tab-switcher",{name:"TabSwitcher",props:{renderOnlyFocused:{required:!1,type:Boolean,default:!1},onSwitch:{required:!1,type:Function,default:void 0},activeTab:{required:!1,type:String,default:void 0},scrollableTabs:{required:!1,type:Boolean,default:!1},sideTabBar:{required:!1,type:Boolean,default:!1}},data:function(){return{active:this.$slots.default.findIndex((function(t){return t.tag}))}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({activeIndex:function(){var t=this;return this.activeTab?this.$slots.default.findIndex((function(e){return t.activeTab===e.key})):this.active},settingsModalVisible:function(){return"visible"===this.settingsModalState}},Object(a.e)({settingsModalState:function(t){return t.interface.settingsModalState}})),beforeUpdate:function(){this.$slots.default[this.active].tag||(this.active=this.$slots.default.findIndex((function(t){return t.tag})))},methods:{clickTab:function(t){var e=this;return function(n){n.preventDefault(),e.setTab(t)}},setTab:function(t){"function"==typeof this.onSwitch&&this.onSwitch.call(null,this.$slots.default[t].key),this.active=t,this.scrollableTabs&&(this.$refs.contents.scrollTop=0)}},render:function(t){var e=this,n=this.$slots.default.map((function(n,i){if(n.tag){var o=["tab","button-default"],r=["tab-wrapper"];return e.activeIndex===i&&(o.push("active"),r.push("active")),n.data.attrs.image?t("div",{class:r.join(" ")},[t("button",{attrs:{disabled:n.data.attrs.disabled,type:"button"},on:{click:e.clickTab(i)},class:o.join(" ")},[t("img",{attrs:{src:n.data.attrs.image,title:n.data.attrs["image-tooltip"]}}),n.data.attrs.label?"":n.data.attrs.label])]):t("div",{class:r.join(" ")},[t("button",{attrs:{disabled:n.data.attrs.disabled,type:"button"},on:{click:e.clickTab(i)},class:o.join(" ")},[n.data.attrs.icon?t(c.a,{class:"tab-icon",attrs:{size:"2x","fixed-width":!0,icon:n.data.attrs.icon}}):"",t("span",{class:"text"},[n.data.attrs.label])])])}})),i=this.$slots.default.map((function(n,i){if(n.tag){var o=e.activeIndex===i,r=[o?"active":"hidden"];n.data.attrs.fullHeight&&r.push("full-height");var s=!e.renderOnlyFocused||o?n:"";return t("div",{class:r},[e.sideTabBar?t("h1",{class:"mobile-label"},[n.data.attrs.label]):"",s])}}));return t("div",{class:"tab-switcher "+(this.sideTabBar?"side-tabs":"top-tabs")},[t("div",{class:"tabs"},[n]),t("div",{ref:"contents",class:"contents"+(this.scrollableTabs?" scrollable-tabs":""),directives:[{name:"body-scroll-lock",value:this.settingsModalVisible}]},[i])])}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(79),o=n.n(i),r=function(t){return function(t){return o()(t)?t.options:t}(t).props}},,,function(t,e,n){"use strict";var i=n(5),o=n.n(i),r=n(2),s=n.n(r),a=n(82),c=n.n(a),l=n(226),u=n.n(l),d=n(23),p=n.n(d),f=n(44),h=n.n(f),m=function(t){return h()(t,(function(t,e){var n={word:e,start:0,end:e.length};if(t.length>0){var i=t.pop();n.start+=i.end,n.end+=i.end,t.push(i)}return t.push(n),t}),[])},g=function(t){for(var e=[],n="",i=0;i<t.length;i++){var o=t[i];n?!!o.trim()==!!n.trim()?n+=o:(e.push(n),n=o):n=o}return n&&e.push(n),e},v={wordAtPosition:function(t,e){var n=g(t),i=m(n);return p()(i,(function(t){var n=t.start,i=t.end;return n<=e&&i>e}))},addPositionToWords:m,splitByWhitespaceBoundary:g,replaceWord:function(t,e,n){return t.slice(0,e.start)+n+t.slice(e.end)}},b=n(59),w=n(3),_=n(1);w.c.add(_.f,_.cb,_.ab);var y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""===e)return t;var n=e.toLowerCase(),i=[],o=!0,r=!1,s=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var l=a.value,u=l.displayText.toLowerCase().indexOf(n);u>-1&&(Array.isArray(i[u])||(i[u]=[]),i[u].push(l))}}catch(t){r=!0,s=t}finally{try{o||null==c.return||c.return()}finally{if(r)throw s}}return i.flat()},x={props:{enableStickerPicker:{required:!1,type:Boolean,default:!1}},data:function(){return{keyword:"",activeGroup:"custom",showingStickers:!1,groupsScrolledClass:"scrolled-top",keepOpen:!1,customEmojiBufferSlice:60,customEmojiTimeout:null,customEmojiLoadAllConfirmed:!1}},components:{StickerPicker:function(){return n.e(4).then(n.bind(null,669))},Checkbox:b.a},methods:{onStickerUploaded:function(t){this.$emit("sticker-uploaded",t)},onStickerUploadFailed:function(t){this.$emit("sticker-upload-failed",t)},onEmoji:function(t){var e=t.imageUrl?":".concat(t.displayText,":"):t.replacement;this.$emit("emoji",{insertion:e,keepOpen:this.keepOpen})},onScroll:function(t){var e=t&&t.target||this.$refs["emoji-groups"];this.updateScrolledClass(e),this.scrolledGroup(e),this.triggerLoadMore(e)},highlight:function(t){var e=this,n=this.$refs["group-"+t][0].offsetTop;this.setShowStickers(!1),this.activeGroup=t,this.$nextTick((function(){e.$refs["emoji-groups"].scrollTop=n+1}))},updateScrolledClass:function(t){t.scrollTop<=5?this.groupsScrolledClass="scrolled-top":t.scrollTop>=t.scrollTopMax-5?this.groupsScrolledClass="scrolled-bottom":this.groupsScrolledClass="scrolled-middle"},triggerLoadMore:function(t){var e=this.$refs["group-end-custom"][0];if(e){var n=e.offsetTop+e.offsetHeight,i=t.scrollTop+t.clientHeight,o=t.scrollTop,r=t.scrollHeight;n<o||i===r||!(n-i<64)&&!(o<5)||this.loadEmoji()}},scrolledGroup:function(t){var e=this,n=t.scrollTop+5;this.$nextTick((function(){e.emojisView.forEach((function(t){e.$refs["group-"+t.id][0].offsetTop<=n&&(e.activeGroup=t.id)}))}))},loadEmoji:function(){this.customEmojiBuffer.length===this.filteredEmoji.length||(this.customEmojiBufferSlice+=60)},startEmojiLoad:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||(this.keyword=""),this.$nextTick((function(){t.$refs["emoji-groups"].scrollTop=0}));var n=this.customEmojiBuffer.length,i=n===this.filteredEmoji.length;i&&!e||(this.customEmojiBufferSlice=60)},toggleStickers:function(){this.showingStickers=!this.showingStickers},setShowStickers:function(t){this.showingStickers=t}},watch:{keyword:function(){this.customEmojiLoadAllConfirmed=!1,this.onScroll(),this.startEmojiLoad(!0)}},computed:{activeGroupView:function(){return this.showingStickers?"":this.activeGroup},stickersAvailable:function(){return this.$store.state.instance.stickers?this.$store.state.instance.stickers.length>0:0},filteredEmoji:function(){return y(this.$store.state.instance.customEmoji||[],this.keyword)},customEmojiBuffer:function(){return this.filteredEmoji.slice(0,this.customEmojiBufferSlice)},emojis:function(){var t=this.$store.state.instance.emoji||[],e=this.customEmojiBuffer;return[{id:"custom",text:this.$t("emoji.custom"),icon:"smile-beam",emojis:e},{id:"standard",text:this.$t("emoji.unicode"),icon:"box-open",emojis:y(t,this.keyword)}]},emojisView:function(){return this.emojis.filter((function(t){return t.emojis.length>0}))},stickerPickerEnabled:function(){return 0!==(this.$store.state.instance.stickers||[]).length}}},k=n(0);var C=function(t){n(408)},S=Object(k.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"emoji-picker panel panel-default panel-body"},[n("div",{staticClass:"heading"},[n("span",{staticClass:"emoji-tabs"},t._l(t.emojis,(function(e){return n("span",{key:e.id,staticClass:"emoji-tabs-item",class:{active:t.activeGroupView===e.id,disabled:0===e.emojis.length},attrs:{title:e.text},on:{click:function(n){return n.preventDefault(),t.highlight(e.id)}}},[n("FAIcon",{attrs:{icon:e.icon,"fixed-width":""}})],1)})),0),t._v(" "),t.stickerPickerEnabled?n("span",{staticClass:"additional-tabs"},[n("span",{staticClass:"stickers-tab-icon additional-tabs-item",class:{active:t.showingStickers},attrs:{title:t.$t("emoji.stickers")},on:{click:function(e){return e.preventDefault(),t.toggleStickers(e)}}},[n("FAIcon",{attrs:{icon:"sticky-note","fixed-width":""}})],1)]):t._e()]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"emoji-content",class:{hidden:t.showingStickers}},[n("div",{staticClass:"emoji-search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("emoji.search_emoji")},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),t._v(" "),n("div",{ref:"emoji-groups",staticClass:"emoji-groups",class:t.groupsScrolledClass,on:{scroll:t.onScroll}},t._l(t.emojisView,(function(e){return n("div",{key:e.id,staticClass:"emoji-group"},[n("h6",{ref:"group-"+e.id,refInFor:!0,staticClass:"emoji-group-title"},[t._v("\n            "+t._s(e.text)+"\n          ")]),t._v(" "),t._l(e.emojis,(function(i){return n("span",{key:e.id+i.displayText,staticClass:"emoji-item",attrs:{title:i.displayText},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onEmoji(i)}}},[i.imageUrl?n("img",{attrs:{src:i.imageUrl}}):n("span",[t._v(t._s(i.replacement))])])})),t._v(" "),n("span",{ref:"group-end-"+e.id,refInFor:!0})],2)})),0),t._v(" "),n("div",{staticClass:"keep-open"},[n("Checkbox",{model:{value:t.keepOpen,callback:function(e){t.keepOpen=e},expression:"keepOpen"}},[t._v("\n          "+t._s(t.$t("emoji.keep_open"))+"\n        ")])],1)]),t._v(" "),t.showingStickers?n("div",{staticClass:"stickers-content"},[n("sticker-picker",{on:{uploaded:t.onStickerUploaded,"upload-failed":t.onStickerUploadFailed}})],1):t._e()])])}),[],!1,C,null,null).exports,O=n(116),j=n(33);function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}w.c.add(j.c);var $={props:{suggest:{required:!0,type:Function},value:{required:!0,type:String},enableEmojiPicker:{required:!1,type:Boolean,default:!1},hideEmojiButton:{required:!1,type:Boolean,default:!1},enableStickerPicker:{required:!1,type:Boolean,default:!1},placement:{required:!1,type:String,default:"auto"},newlineOnCtrlEnter:{required:!1,type:Boolean,default:!1}},data:function(){return{input:void 0,highlighted:0,caret:0,focused:!1,blurTimeout:null,showPicker:!1,temporarilyHideSuggestions:!1,keepOpen:!1,disableClickOutside:!1,suggestions:[]}},components:{EmojiPicker:S},computed:{padEmoji:function(){return this.$store.getters.mergedConfig.padEmoji},showSuggestions:function(){return this.focused&&this.suggestions&&this.suggestions.length>0&&!this.showPicker&&!this.temporarilyHideSuggestions},textAtCaret:function(){return(this.wordAtCaret||{}).word||""},wordAtCaret:function(){if(this.value&&this.caret)return v.wordAtPosition(this.value,this.caret-1)||{}}},mounted:function(){var t=this.$refs.root,e=t.querySelector(".emoji-input > input")||t.querySelector(".emoji-input > textarea");e&&(this.input=e,this.resize(),e.addEventListener("blur",this.onBlur),e.addEventListener("focus",this.onFocus),e.addEventListener("paste",this.onPaste),e.addEventListener("keyup",this.onKeyUp),e.addEventListener("keydown",this.onKeyDown),e.addEventListener("click",this.onClickInput),e.addEventListener("transitionend",this.onTransition),e.addEventListener("input",this.onInput))},unmounted:function(){var t=this.input;t&&(t.removeEventListener("blur",this.onBlur),t.removeEventListener("focus",this.onFocus),t.removeEventListener("paste",this.onPaste),t.removeEventListener("keyup",this.onKeyUp),t.removeEventListener("keydown",this.onKeyDown),t.removeEventListener("click",this.onClickInput),t.removeEventListener("transitionend",this.onTransition),t.removeEventListener("input",this.onInput))},watch:{showSuggestions:function(t){this.$emit("shown",t)},textAtCaret:function(t){var e,n;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e=t.charAt(0),this.suggestions=[],t!==e){i.next=4;break}return i.abrupt("return");case 4:return i.next=6,o.a.awrap(this.suggest(t));case 6:if(n=i.sent,this.textAtCaret===t){i.next=9;break}return i.abrupt("return");case 9:if(!(n.length<=0)){i.next=11;break}return i.abrupt("return");case 11:this.suggestions=u()(n,5).map((function(t){var e=t.imageUrl;return T({},c()(t,["imageUrl"]),{img:e||""})}));case 12:case"end":return i.stop()}}),null,this)},suggestions:function(t){this.$nextTick(this.resize)}},methods:{focusPickerInput:function(){var t=this.$refs.picker.$el;if(t){var e=t.querySelector("input");e&&e.focus()}},triggerShowPicker:function(){var t=this;this.showPicker=!0,this.$refs.picker.startEmojiLoad(),this.$nextTick((function(){t.scrollIntoView(),t.focusPickerInput()})),this.disableClickOutside=!0,setTimeout((function(){t.disableClickOutside=!1}),0)},togglePicker:function(){this.input.focus(),this.showPicker=!this.showPicker,this.showPicker&&(this.scrollIntoView(),this.$refs.picker.startEmojiLoad(),this.$nextTick(this.focusPickerInput))},replace:function(t){var e=v.replaceWord(this.value,this.wordAtCaret,t);this.$emit("input",e),this.caret=0},insert:function(t){var e=t.insertion,n=t.keepOpen,i=t.surroundingSpace,o=void 0===i||i,r=this.value.substring(0,this.caret)||"",s=this.value.substring(this.caret)||"",a=/\s/,c=o&&!a.exec(r.slice(-1))&&r.length&&this.padEmoji>0?" ":"",l=o&&!a.exec(s[0])&&this.padEmoji?" ":"",u=[r,c,e,l,s].join("");this.keepOpen=n,this.$emit("input",u);var d=this.caret+(e+l+c).length;n||this.input.focus(),this.$nextTick((function(){this.input.setSelectionRange(d,d),this.caret=d}))},replaceText:function(t,e){var n=this.suggestions.length||0;if(1!==this.textAtCaret.length&&(n>0||e)){var i=(e||this.suggestions[this.highlighted]).replacement,o=v.replaceWord(this.value,this.wordAtCaret,i);this.$emit("input",o),this.highlighted=0;var r=this.wordAtCaret.start+i.length;this.$nextTick((function(){this.input.focus(),this.input.setSelectionRange(r,r),this.caret=r})),t.preventDefault()}},cycleBackward:function(t){(this.suggestions.length||0)>1?(this.highlighted-=1,this.highlighted<0&&(this.highlighted=this.suggestions.length-1),t.preventDefault()):this.highlighted=0},cycleForward:function(t){var e=this.suggestions.length||0;e>1?(this.highlighted+=1,this.highlighted>=e&&(this.highlighted=0),t.preventDefault()):this.highlighted=0},scrollIntoView:function(){var t=this,e=this.$refs.picker.$el,n=this.$el.closest(".sidebar-scroller")||this.$el.closest(".post-form-modal-view")||window,i=n===window?n.scrollY:n.scrollTop,o=i+(n===window?n.innerHeight:n.offsetHeight),r=e.offsetHeight+Object(O.a)(e,n).top,s=i+Math.max(0,r-o);n===window?n.scroll(0,s):n.scrollTop=s,this.$nextTick((function(){var e=t.input.offsetHeight,n=t.$refs.picker;n.$el.getBoundingClientRect().bottom>window.innerHeight&&(n.$el.style.top="auto",n.$el.style.bottom=e+"px")}))},onTransition:function(t){this.resize()},onBlur:function(t){var e=this;this.blurTimeout=setTimeout((function(){e.focused=!1,e.setCaret(t),e.resize()}),200)},onClick:function(t,e){this.replaceText(t,e)},onFocus:function(t){this.blurTimeout&&(clearTimeout(this.blurTimeout),this.blurTimeout=null),this.keepOpen||(this.showPicker=!1),this.focused=!0,this.setCaret(t),this.resize(),this.temporarilyHideSuggestions=!1},onKeyUp:function(t){var e=t.key;this.setCaret(t),this.resize(),this.temporarilyHideSuggestions="Escape"===e},onPaste:function(t){this.setCaret(t),this.resize()},onKeyDown:function(t){var e=this,n=t.ctrlKey,i=t.shiftKey,o=t.key;this.newlineOnCtrlEnter&&n&&"Enter"===o&&(this.insert({insertion:"\n",surroundingSpace:!1}),t.stopPropagation(),t.preventDefault(),this.$nextTick((function(){e.input.blur(),e.input.focus()}))),this.temporarilyHideSuggestions||("Tab"===o&&(i?this.cycleBackward(t):this.cycleForward(t)),"ArrowUp"===o?this.cycleBackward(t):"ArrowDown"===o&&this.cycleForward(t),"Enter"===o&&(n||this.replaceText(t))),"Escape"===o&&(this.temporarilyHideSuggestions||this.input.focus()),this.showPicker=!1,this.resize()},onInput:function(t){this.showPicker=!1,this.setCaret(t),this.resize(),this.$emit("input",t.target.value)},onClickInput:function(t){this.showPicker=!1},onClickOutside:function(t){this.disableClickOutside||(this.showPicker=!1)},onStickerUploaded:function(t){this.showPicker=!1,this.$emit("sticker-uploaded",t)},onStickerUploadFailed:function(t){this.showPicker=!1,this.$emit("sticker-upload-Failed",t)},setCaret:function(t){var e=t.target.selectionStart;this.caret=e},resize:function(){var t=this.$refs.panel;if(t){var e=this.$refs.picker.$el,n=this.$refs["panel-body"],i=this.input,o=i.offsetHeight,r=i.offsetTop+o;this.setPlacement(n,t,r),this.setPlacement(e,e,r)}},setPlacement:function(t,e,n){t&&e&&(e.style.top=n+"px",e.style.bottom="auto",("top"===this.placement||"auto"===this.placement&&this.overflowsBottom(t))&&(e.style.top="auto",e.style.bottom=this.input.offsetHeight+"px"))},overflowsBottom:function(t){return t.getBoundingClientRect().bottom>window.innerHeight}}};var I=function(t){n(406)},M=Object(k.a)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.onClickOutside,expression:"onClickOutside"}],ref:"root",staticClass:"emoji-input",class:{"with-picker":!t.hideEmojiButton}},[t._t("default"),t._v(" "),t.enableEmojiPicker?[t.hideEmojiButton?t._e():n("button",{staticClass:"button-unstyled emoji-picker-icon",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.togglePicker(e)}}},[n("FAIcon",{attrs:{icon:["far","smile-beam"]}})],1),t._v(" "),t.enableEmojiPicker?n("EmojiPicker",{ref:"picker",staticClass:"emoji-picker-panel",class:{hide:!t.showPicker},attrs:{"enable-sticker-picker":t.enableStickerPicker},on:{emoji:t.insert,"sticker-uploaded":t.onStickerUploaded,"sticker-upload-failed":t.onStickerUploadFailed}}):t._e()]:t._e(),t._v(" "),n("div",{ref:"panel",staticClass:"autocomplete-panel",class:{hide:!t.showSuggestions}},[n("div",{ref:"panel-body",staticClass:"autocomplete-panel-body"},t._l(t.suggestions,(function(e,i){return n("div",{key:i,staticClass:"autocomplete-item",class:{highlighted:i===t.highlighted},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.onClick(n,e)}}},[n("span",{staticClass:"image"},[e.img?n("img",{attrs:{src:e.img}}):n("span",[t._v(t._s(e.replacement))])]),t._v(" "),n("div",{staticClass:"label"},[n("span",{staticClass:"displayText"},[t._v(t._s(e.displayText))]),t._v(" "),n("span",{staticClass:"detailText"},[t._v(t._s(e.detailText))])])])})),0)])],2)}),[],!1,I,null,null);e.a=M.exports},function(t,e,n){"use strict";var i=n(3),o=n(1);i.c.add(o.t,o.D,o.J,o.K);var r={props:["showAll","userDefault","originalScope","initialScope","onScopeChange"],data:function(){return{currentScope:this.initialScope}},computed:{showNothing:function(){return!(this.showPublic||this.showUnlisted||this.showPrivate||this.showDirect)},showPublic:function(){return"direct"!==this.originalScope&&this.shouldShow("public")},showUnlisted:function(){return"direct"!==this.originalScope&&this.shouldShow("unlisted")},showPrivate:function(){return"direct"!==this.originalScope&&this.shouldShow("private")},showDirect:function(){return this.shouldShow("direct")},css:function(){return{public:{selected:"public"===this.currentScope},unlisted:{selected:"unlisted"===this.currentScope},private:{selected:"private"===this.currentScope},direct:{selected:"direct"===this.currentScope}}}},methods:{shouldShow:function(t){return this.showAll||this.currentScope===t||this.originalScope===t||this.userDefault===t||"direct"===t},changeVis:function(t){this.currentScope=t,this.onScopeChange&&this.onScopeChange(t)}}},s=n(0);var a=function(t){n(404)},c=Object(s.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showNothing?t._e():n("div",{staticClass:"ScopeSelector"},[t.showDirect?n("button",{staticClass:"button-unstyled scope",class:t.css.direct,attrs:{title:t.$t("post_status.scope.direct"),type:"button"},on:{click:function(e){return t.changeVis("direct")}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"envelope"}})],1):t._e(),t._v(" "),t.showPrivate?n("button",{staticClass:"button-unstyled scope",class:t.css.private,attrs:{title:t.$t("post_status.scope.private"),type:"button"},on:{click:function(e){return t.changeVis("private")}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"lock"}})],1):t._e(),t._v(" "),t.showUnlisted?n("button",{staticClass:"button-unstyled scope",class:t.css.unlisted,attrs:{title:t.$t("post_status.scope.unlisted"),type:"button"},on:{click:function(e){return t.changeVis("unlisted")}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"lock-open"}})],1):t._e(),t._v(" "),t.showPublic?n("button",{staticClass:"button-unstyled scope",class:t.css.public,attrs:{title:t.$t("post_status.scope.public"),type:"button"},on:{click:function(e){return t.changeVis("public")}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"globe"}})],1):t._e()])}),[],!1,a,null,null);e.a=c.exports},,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n.p+"static/img/nsfw.74818f9.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t){t.exports=JSON.parse('{"about":{"mrf":{"federation":"Federation","keyword":{"keyword_policies":"Keyword policies","ftl_removal":"Removal from \\"The Whole Known Network\\" Timeline","reject":"Reject","replace":"Replace","is_replaced_by":"‚Üí"},"mrf_policies":"Enabled MRF policies","mrf_policies_desc":"MRF policies manipulate the federation behaviour of the instance.  The following policies are enabled:","simple":{"simple_policies":"Instance-specific policies","accept":"Accept","accept_desc":"This instance only accepts messages from the following instances:","reject":"Reject","reject_desc":"This instance will not accept messages from the following instances:","quarantine":"Quarantine","quarantine_desc":"This instance will send only public posts to the following instances:","ftl_removal":"Removal from \\"Known Network\\" Timeline","ftl_removal_desc":"This instance removes these instances from \\"Known Network\\" timeline:","media_removal":"Media Removal","media_removal_desc":"This instance removes media from posts on the following instances:","media_nsfw":"Media force-set as sensitive","media_nsfw_desc":"This instance forces media to be set sensitive in posts on the following instances:"}},"staff":"Staff"},"shoutbox":{"title":"Shoutbox"},"domain_mute_card":{"mute":"Mute","mute_progress":"Muting‚Ä¶","unmute":"Unmute","unmute_progress":"Unmuting‚Ä¶"},"exporter":{"export":"Export","processing":"Processing, you\'ll soon be asked to download your file"},"features_panel":{"chat":"Chat","pleroma_chat_messages":"Pleroma Chat","gopher":"Gopher","media_proxy":"Media proxy","scope_options":"Scope options","text_limit":"Text limit","title":"Features","who_to_follow":"Who to follow","upload_limit":"Upload limit"},"finder":{"error_fetching_user":"Error fetching user","find_user":"Find user"},"general":{"apply":"Apply","submit":"Submit","more":"More","loading":"Loading‚Ä¶","generic_error":"An error occured","error_retry":"Please try again","retry":"Try again","optional":"optional","show_more":"Show more","show_less":"Show less","dismiss":"Dismiss","cancel":"Cancel","disable":"Disable","enable":"Enable","confirm":"Confirm","verify":"Verify","close":"Close","peek":"Peek","role":{"admin":"Admin","moderator":"Moderator"},"flash_content":"Click to show Flash content using Ruffle (Experimental, may not work).","flash_security":"Note that this can be potentially dangerous since Flash content is still arbitrary code.","flash_fail":"Failed to load flash content, see console for details."},"image_cropper":{"crop_picture":"Crop picture","save":"Save","save_without_cropping":"Save without cropping","cancel":"Cancel"},"importer":{"submit":"Submit","success":"Imported successfully.","error":"An error occured while importing this file."},"login":{"login":"Log in","description":"Log in with OAuth","logout":"Log out","password":"Password","placeholder":"e.g. lain","register":"Register","username":"Username","hint":"Log in to join the discussion","authentication_code":"Authentication code","enter_recovery_code":"Enter a recovery code","enter_two_factor_code":"Enter a two-factor code","recovery_code":"Recovery code","heading":{"totp":"Two-factor authentication","recovery":"Two-factor recovery"}},"media_modal":{"previous":"Previous","next":"Next"},"nav":{"about":"About","administration":"Administration","back":"Back","friend_requests":"Follow requests","mentions":"Mentions","interactions":"Interactions","dms":"Direct messages","public_tl":"Public timeline","timeline":"Timeline","home_timeline":"Home timeline","twkn":"Known Network","bookmarks":"Bookmarks","user_search":"User Search","search":"Search","who_to_follow":"Who to follow","preferences":"Preferences","timelines":"Timelines","chats":"Chats"},"notifications":{"broken_favorite":"Unknown status, searching for it‚Ä¶","error":"Error fetching notifications: {0}","favorited_you":"favorited your status","followed_you":"followed you","follow_request":"wants to follow you","load_older":"Load older notifications","notifications":"Notifications","read":"Read!","repeated_you":"repeated your status","no_more_notifications":"No more notifications","migrated_to":"migrated to","reacted_with":"reacted with {0}"},"polls":{"add_poll":"Add poll","add_option":"Add option","option":"Option","votes":"votes","people_voted_count":"{count} person voted | {count} people voted","votes_count":"{count} vote | {count} votes","vote":"Vote","type":"Poll type","single_choice":"Single choice","multiple_choices":"Multiple choices","expiry":"Poll age","expires_in":"Poll ends in {0}","expired":"Poll ended {0} ago","not_enough_options":"Too few unique options in poll"},"emoji":{"stickers":"Stickers","emoji":"Emoji","keep_open":"Keep picker open","search_emoji":"Search for an emoji","add_emoji":"Insert emoji","custom":"Custom emoji","unicode":"Unicode emoji","load_all_hint":"Loaded first {saneAmount} emoji, loading all emoji may cause performance issues.","load_all":"Loading all {emojiAmount} emoji"},"errors":{"storage_unavailable":"Pleroma could not access browser storage. Your login or your local settings won\'t be saved and you might encounter unexpected issues. Try enabling cookies."},"interactions":{"favs_repeats":"Repeats and favorites","follows":"New follows","moves":"User migrates","load_older":"Load older interactions"},"post_status":{"new_status":"Post new status","account_not_locked_warning":"Your account is not {0}. Anyone can follow you to view your follower-only posts.","account_not_locked_warning_link":"locked","attachments_sensitive":"Mark attachments as sensitive","media_description":"Media description","content_type":{"text/plain":"Plain text","text/html":"HTML","text/markdown":"Markdown","text/bbcode":"BBCode"},"content_warning":"Subject (optional)","default":"Just landed in L.A.","direct_warning_to_all":"This post will be visible to all the mentioned users.","direct_warning_to_first_only":"This post will only be visible to the mentioned users at the beginning of the message.","posting":"Posting","post":"Post","preview":"Preview","preview_empty":"Empty","empty_status_error":"Can\'t post an empty status with no files","media_description_error":"Failed to update media, try again","scope_notice":{"public":"This post will be visible to everyone","private":"This post will be visible to your followers only","unlisted":"This post will not be visible in Public Timeline and The Whole Known Network"},"scope":{"direct":"Direct - post to mentioned users only","private":"Followers-only - post to followers only","public":"Public - post to public timelines","unlisted":"Unlisted - do not post to public timelines"}},"registration":{"bio":"Bio","email":"Email","fullname":"Display name","password_confirm":"Password confirmation","registration":"Registration","token":"Invite token","captcha":"CAPTCHA","new_captcha":"Click the image to get a new captcha","username_placeholder":"e.g. lain","fullname_placeholder":"e.g. Lain Iwakura","bio_placeholder":"e.g.\\nHi, I\'m Lain.\\nI‚Äôm an anime girl living in suburban Japan. You may know me from the Wired.","reason":"Reason to register","reason_placeholder":"This instance approves registrations manually.\\nLet the administration know why you want to register.","register":"Register","validations":{"username_required":"cannot be left blank","fullname_required":"cannot be left blank","email_required":"cannot be left blank","password_required":"cannot be left blank","password_confirmation_required":"cannot be left blank","password_confirmation_match":"should be the same as password"}},"remote_user_resolver":{"remote_user_resolver":"Remote user resolver","searching_for":"Searching for","error":"Not found."},"selectable_list":{"select_all":"Select all"},"settings":{"app_name":"App name","save":"Save changes","security":"Security","setting_changed":"Setting is different from default","enter_current_password_to_confirm":"Enter your current password to confirm your identity","mfa":{"otp":"OTP","setup_otp":"Setup OTP","wait_pre_setup_otp":"presetting OTP","confirm_and_enable":"Confirm & enable OTP","title":"Two-factor Authentication","generate_new_recovery_codes":"Generate new recovery codes","warning_of_generate_new_codes":"When you generate new recovery codes, your old codes won‚Äôt work anymore.","recovery_codes":"Recovery codes.","waiting_a_recovery_codes":"Receiving backup codes‚Ä¶","recovery_codes_warning":"Write the codes down or save them somewhere secure - otherwise you won\'t see them again. If you lose access to your 2FA app and recovery codes you\'ll be locked out of your account.","authentication_methods":"Authentication methods","scan":{"title":"Scan","desc":"Using your two-factor app, scan this QR code or enter text key:","secret_code":"Key"},"verify":{"desc":"To enable two-factor authentication, enter the code from your two-factor app:"}},"allow_following_move":"Allow auto-follow when following account moves","attachmentRadius":"Attachments","attachments":"Attachments","avatar":"Avatar","avatarAltRadius":"Avatars (notifications)","avatarRadius":"Avatars","background":"Background","bio":"Bio","block_export":"Block export","block_export_button":"Export your blocks to a csv file","block_import":"Block import","block_import_error":"Error importing blocks","blocks_imported":"Blocks imported! Processing them will take a while.","mute_export":"Mute export","mute_export_button":"Export your mutes to a csv file","mute_import":"Mute import","mute_import_error":"Error importing mutes","mutes_imported":"Mutes imported! Processing them will take a while.","import_mutes_from_a_csv_file":"Import mutes from a csv file","blocks_tab":"Blocks","bot":"This is a bot account","btnRadius":"Buttons","cBlue":"Blue (Reply, follow)","cGreen":"Green (Retweet)","cOrange":"Orange (Favorite)","cRed":"Red (Cancel)","change_email":"Change email","change_email_error":"There was an issue changing your email.","changed_email":"Email changed successfully!","change_password":"Change password","change_password_error":"There was an issue changing your password.","changed_password":"Password changed successfully!","chatMessageRadius":"Chat message","collapse_subject":"Collapse posts with subjects","composing":"Composing","confirm_new_password":"Confirm new password","current_password":"Current password","mutes_and_blocks":"Mutes and Blocks","data_import_export_tab":"Data import / export","default_vis":"Default visibility scope","delete_account":"Delete account","delete_account_description":"Permanently delete your data and deactivate your account.","delete_account_error":"There was an issue deleting your account. If this persists please contact your instance administrator.","delete_account_instructions":"Type your password in the input below to confirm account deletion.","discoverable":"Allow discovery of this account in search results and other services","domain_mutes":"Domains","avatar_size_instruction":"The recommended minimum size for avatar images is 150x150 pixels.","pad_emoji":"Pad emoji with spaces when adding from picker","emoji_reactions_on_timeline":"Show emoji reactions on timeline","export_theme":"Save preset","filtering":"Filtering","filtering_explanation":"All statuses containing these words will be muted, one per line","word_filter":"Word filter","follow_export":"Follow export","follow_export_button":"Export your follows to a csv file","follow_import":"Follow import","follow_import_error":"Error importing followers","follows_imported":"Follows imported! Processing them will take a while.","accent":"Accent","foreground":"Foreground","general":"General","hide_attachments_in_convo":"Hide attachments in conversations","hide_attachments_in_tl":"Hide attachments in timeline","hide_media_previews":"Hide media previews","hide_muted_posts":"Hide posts of muted users","hide_all_muted_posts":"Hide muted posts","max_thumbnails":"Maximum amount of thumbnails per post","hide_isp":"Hide instance-specific panel","hide_shoutbox":"Hide instance shoutbox","right_sidebar":"Show sidebar on the right side","hide_wallpaper":"Hide instance wallpaper","preload_images":"Preload images","use_one_click_nsfw":"Open NSFW attachments with just one click","hide_post_stats":"Hide post statistics (e.g. the number of favorites)","hide_user_stats":"Hide user statistics (e.g. the number of followers)","hide_filtered_statuses":"Hide filtered statuses","import_blocks_from_a_csv_file":"Import blocks from a csv file","import_followers_from_a_csv_file":"Import follows from a csv file","import_theme":"Load preset","inputRadius":"Input fields","checkboxRadius":"Checkboxes","instance_default":"(default: {value})","instance_default_simple":"(default)","interface":"Interface","interfaceLanguage":"Interface language","invalid_theme_imported":"The selected file is not a supported Pleroma theme. No changes to your theme were made.","limited_availability":"Unavailable in your browser","links":"Links","lock_account_description":"Restrict your account to approved followers only","loop_video":"Loop videos","loop_video_silent_only":"Loop only videos without sound (i.e. Mastodon\'s \\"gifs\\")","mutes_tab":"Mutes","play_videos_in_modal":"Play videos in a popup frame","file_export_import":{"backup_restore":"Settings backup","backup_settings":"Backup settings to file","backup_settings_theme":"Backup settings and theme to file","restore_settings":"Restore settings from file","errors":{"invalid_file":"The selected file is not a supported Pleroma settings backup. No changes were made.","file_too_new":"Incompatile major version: {fileMajor}, this PleromaFE (settings ver {feMajor}) is too old to handle it","file_too_old":"Incompatile major version: {fileMajor}, file version is too old and not supported (min. set. ver. {feMajor})","file_slightly_new":"File minor version is different, some settings might not load"}},"profile_fields":{"label":"Profile metadata","add_field":"Add field","name":"Label","value":"Content"},"use_contain_fit":"Don\'t crop the attachment in thumbnails","name":"Name","name_bio":"Name & bio","new_email":"New email","new_password":"New password","notification_visibility":"Types of notifications to show","notification_visibility_follows":"Follows","notification_visibility_likes":"Favorites","notification_visibility_mentions":"Mentions","notification_visibility_repeats":"Repeats","notification_visibility_moves":"User Migrates","notification_visibility_emoji_reactions":"Reactions","no_rich_text_description":"Strip rich text formatting from all posts","no_blocks":"No blocks","no_mutes":"No mutes","hide_follows_description":"Don\'t show who I\'m following","hide_followers_description":"Don\'t show who\'s following me","hide_follows_count_description":"Don\'t show follow count","hide_followers_count_description":"Don\'t show follower count","show_admin_badge":"Show \\"Admin\\" badge in my profile","show_moderator_badge":"Show \\"Moderator\\" badge in my profile","nsfw_clickthrough":"Enable clickthrough attachment and link preview image hiding for NSFW statuses","oauth_tokens":"OAuth tokens","token":"Token","refresh_token":"Refresh token","valid_until":"Valid until","revoke_token":"Revoke","panelRadius":"Panels","pause_on_unfocused":"Pause streaming when tab is not focused","presets":"Presets","profile_background":"Profile background","profile_banner":"Profile banner","profile_tab":"Profile","radii_help":"Set up interface edge rounding (in pixels)","replies_in_timeline":"Replies in timeline","reply_visibility_all":"Show all replies","reply_visibility_following":"Only show replies directed at me or users I\'m following","reply_visibility_self":"Only show replies directed at me","reply_visibility_following_short":"Show replies to my follows","reply_visibility_self_short":"Show replies to self only","autohide_floating_post_button":"Automatically hide New Post button (mobile)","saving_err":"Error saving settings","saving_ok":"Settings saved","search_user_to_block":"Search whom you want to block","search_user_to_mute":"Search whom you want to mute","security_tab":"Security","scope_copy":"Copy scope when replying (DMs are always copied)","minimal_scopes_mode":"Minimize post scope selection options","set_new_avatar":"Set new avatar","set_new_profile_background":"Set new profile background","set_new_profile_banner":"Set new profile banner","reset_avatar":"Reset avatar","reset_profile_background":"Reset profile background","reset_profile_banner":"Reset profile banner","reset_avatar_confirm":"Do you really want to reset the avatar?","reset_banner_confirm":"Do you really want to reset the banner?","reset_background_confirm":"Do you really want to reset the background?","settings":"Settings","subject_input_always_show":"Always show subject field","subject_line_behavior":"Copy subject when replying","subject_line_email":"Like email: \\"re: subject\\"","subject_line_mastodon":"Like mastodon: copy as is","subject_line_noop":"Do not copy","post_status_content_type":"Post status content type","sensitive_by_default":"Mark posts as sensitive by default","stop_gifs":"Play-on-hover GIFs","streaming":"Enable automatic streaming of new posts when scrolled to the top","user_mutes":"Users","useStreamingApi":"Receive posts and notifications real-time","useStreamingApiWarning":"(Not recommended, experimental, known to skip posts)","text":"Text","theme":"Theme","theme_help":"Use hex color codes (#rrggbb) to customize your color theme.","theme_help_v2_1":"You can also override certain component\'s colors and opacity by toggling the checkbox, use \\"Clear all\\" button to clear all overrides.","theme_help_v2_2":"Icons underneath some entries are background/text contrast indicators, hover over for detailed info. Please keep in mind that when using transparency contrast indicators show the worst possible case.","tooltipRadius":"Tooltips/alerts","type_domains_to_mute":"Search domains to mute","upload_a_photo":"Upload a photo","user_settings":"User Settings","values":{"false":"no","true":"yes"},"virtual_scrolling":"Optimize timeline rendering","fun":"Fun","greentext":"Meme arrows","notifications":"Notifications","notification_setting_filters":"Filters","notification_setting_block_from_strangers":"Block notifications from users who you do not follow","notification_setting_privacy":"Privacy","notification_setting_hide_notification_contents":"Hide the sender and contents of push notifications","notification_mutes":"To stop receiving notifications from a specific user, use a mute.","notification_blocks":"Blocking a user stops all notifications as well as unsubscribes them.","enable_web_push_notifications":"Enable web push notifications","more_settings":"More settings","style":{"switcher":{"keep_color":"Keep colors","keep_shadows":"Keep shadows","keep_opacity":"Keep opacity","keep_roundness":"Keep roundness","keep_fonts":"Keep fonts","save_load_hint":"\\"Keep\\" options preserve currently set options when selecting or loading themes, it also stores said options when exporting a theme. When all checkboxes unset, exporting theme will save everything.","reset":"Reset","clear_all":"Clear all","clear_opacity":"Clear opacity","load_theme":"Load theme","keep_as_is":"Keep as is","use_snapshot":"Old version","use_source":"New version","help":{"upgraded_from_v2":"PleromaFE has been upgraded, theme could look a little bit different than you remember.","v2_imported":"File you imported was made for older FE. We try to maximize compatibility but there still could be inconsistencies.","future_version_imported":"File you imported was made in newer version of FE.","older_version_imported":"File you imported was made in older version of FE.","snapshot_present":"Theme snapshot is loaded, so all values are overriden. You can load theme\'s actual data instead.","snapshot_missing":"No theme snapshot was in the file so it could look different than originally envisioned.","fe_upgraded":"PleromaFE\'s theme engine upgraded after version update.","fe_downgraded":"PleromaFE\'s version rolled back.","migration_snapshot_ok":"Just to be safe, theme snapshot loaded. You can try loading theme data.","migration_napshot_gone":"For whatever reason snapshot was missing, some stuff could look different than you remember.","snapshot_source_mismatch":"Versions conflict: most likely FE was rolled back and updated again, if you changed theme using older version of FE you most likely want to use old version, otherwise use new version."}},"common":{"color":"Color","opacity":"Opacity","contrast":{"hint":"Contrast ratio is {ratio}, it {level} {context}","level":{"aa":"meets Level AA guideline (minimal)","aaa":"meets Level AAA guideline (recommended)","bad":"doesn\'t meet any accessibility guidelines"},"context":{"18pt":"for large (18pt+) text","text":"for text"}}},"common_colors":{"_tab_label":"Common","main":"Common colors","foreground_hint":"See \\"Advanced\\" tab for more detailed control","rgbo":"Icons, accents, badges"},"advanced_colors":{"_tab_label":"Advanced","alert":"Alert background","alert_error":"Error","alert_warning":"Warning","alert_neutral":"Neutral","post":"Posts/User bios","badge":"Badge background","popover":"Tooltips, menus, popovers","badge_notification":"Notification","panel_header":"Panel header","top_bar":"Top bar","borders":"Borders","buttons":"Buttons","inputs":"Input fields","faint_text":"Faded text","underlay":"Underlay","wallpaper":"Wallpaper","poll":"Poll graph","icons":"Icons","highlight":"Highlighted elements","pressed":"Pressed","selectedPost":"Selected post","selectedMenu":"Selected menu item","disabled":"Disabled","toggled":"Toggled","tabs":"Tabs","chat":{"incoming":"Incoming","outgoing":"Outgoing","border":"Border"}},"radii":{"_tab_label":"Roundness"},"shadows":{"_tab_label":"Shadow and lighting","component":"Component","override":"Override","shadow_id":"Shadow #{value}","blur":"Blur","spread":"Spread","inset":"Inset","hintV3":"For shadows you can also use the {0} notation to use other color slot.","filter_hint":{"always_drop_shadow":"Warning, this shadow always uses {0} when browser supports it.","drop_shadow_syntax":"{0} does not support {1} parameter and {2} keyword.","avatar_inset":"Please note that combining both inset and non-inset shadows on avatars might give unexpected results with transparent avatars.","spread_zero":"Shadows with spread > 0 will appear as if it was set to zero","inset_classic":"Inset shadows will be using {0}"},"components":{"panel":"Panel","panelHeader":"Panel header","topBar":"Top bar","avatar":"User avatar (in profile view)","avatarStatus":"User avatar (in post display)","popup":"Popups and tooltips","button":"Button","buttonHover":"Button (hover)","buttonPressed":"Button (pressed)","buttonPressedHover":"Button (pressed+hover)","input":"Input field"}},"fonts":{"_tab_label":"Fonts","help":"Select font to use for elements of UI. For \\"custom\\" you have to enter exact font name as it appears in system.","components":{"interface":"Interface","input":"Input fields","post":"Post text","postCode":"Monospaced text in a post (rich text)"},"family":"Font name","size":"Size (in px)","weight":"Weight (boldness)","custom":"Custom"},"preview":{"header":"Preview","content":"Content","error":"Example error","button":"Button","text":"A bunch of more {0} and {1}","mono":"content","input":"Just landed in L.A.","faint_link":"helpful manual","fine_print":"Read our {0} to learn nothing useful!","header_faint":"This is fine","checkbox":"I have skimmed over terms and conditions","link":"a nice lil\' link"}},"version":{"title":"Version","backend_version":"Backend version","frontend_version":"Frontend version"}},"time":{"day":"{0} day","days":"{0} days","day_short":"{0}d","days_short":"{0}d","hour":"{0} hour","hours":"{0} hours","hour_short":"{0}h","hours_short":"{0}h","in_future":"in {0}","in_past":"{0} ago","minute":"{0} minute","minutes":"{0} minutes","minute_short":"{0}min","minutes_short":"{0}min","month":"{0} month","months":"{0} months","month_short":"{0}mo","months_short":"{0}mo","now":"just now","now_short":"now","second":"{0} second","seconds":"{0} seconds","second_short":"{0}s","seconds_short":"{0}s","week":"{0} week","weeks":"{0} weeks","week_short":"{0}w","weeks_short":"{0}w","year":"{0} year","years":"{0} years","year_short":"{0}y","years_short":"{0}y"},"timeline":{"collapse":"Collapse","conversation":"Conversation","error":"Error fetching timeline: {0}","load_older":"Load older statuses","no_retweet_hint":"Post is marked as followers-only or direct and cannot be repeated","repeated":"repeated","show_new":"Show new","reload":"Reload","up_to_date":"Up-to-date","no_more_statuses":"No more statuses","no_statuses":"No statuses","socket_reconnected":"Realtime connection established","socket_broke":"Realtime connection lost: CloseEvent code {0}"},"status":{"favorites":"Favorites","repeats":"Repeats","delete":"Delete status","pin":"Pin on profile","unpin":"Unpin from profile","pinned":"Pinned","bookmark":"Bookmark","unbookmark":"Unbookmark","delete_confirm":"Do you really want to delete this status?","reply_to":"Reply to","replies_list":"Replies:","mute_conversation":"Mute conversation","unmute_conversation":"Unmute conversation","status_unavailable":"Status unavailable","copy_link":"Copy link to status","external_source":"External source","thread_muted":"Thread muted","thread_muted_and_words":", has words:","show_full_subject":"Show full subject","hide_full_subject":"Hide full subject","show_content":"Show content","hide_content":"Hide content","status_deleted":"This post was deleted","nsfw":"NSFW","expand":"Expand"},"user_card":{"approve":"Approve","block":"Block","blocked":"Blocked!","deny":"Deny","edit_profile":"Edit profile","favorites":"Favorites","follow":"Follow","follow_sent":"Request sent!","follow_progress":"Requesting‚Ä¶","follow_again":"Send request again?","follow_unfollow":"Unfollow","followees":"Following","followers":"Followers","following":"Following!","follows_you":"Follows you!","hidden":"Hidden","its_you":"It\'s you!","media":"Media","mention":"Mention","message":"Message","mute":"Mute","muted":"Muted","per_day":"per day","remote_follow":"Remote follow","report":"Report","statuses":"Statuses","subscribe":"Subscribe","unsubscribe":"Unsubscribe","unblock":"Unblock","unblock_progress":"Unblocking‚Ä¶","block_progress":"Blocking‚Ä¶","unmute":"Unmute","unmute_progress":"Unmuting‚Ä¶","mute_progress":"Muting‚Ä¶","hide_repeats":"Hide repeats","show_repeats":"Show repeats","bot":"Bot","admin_menu":{"moderation":"Moderation","grant_admin":"Grant Admin","revoke_admin":"Revoke Admin","grant_moderator":"Grant Moderator","revoke_moderator":"Revoke Moderator","activate_account":"Activate account","deactivate_account":"Deactivate account","delete_account":"Delete account","force_nsfw":"Mark all posts as NSFW","strip_media":"Remove media from posts","force_unlisted":"Force posts to be unlisted","sandbox":"Force posts to be followers-only","disable_remote_subscription":"Disallow following user from remote instances","disable_any_subscription":"Disallow following user at all","quarantine":"Disallow user posts from federating","delete_user":"Delete user","delete_user_confirmation":"Are you absolutely sure? This action cannot be undone."},"highlight":{"disabled":"No highlight","solid":"Solid bg","striped":"Striped bg","side":"Side stripe"}},"user_profile":{"timeline_title":"User timeline","profile_does_not_exist":"Sorry, this profile does not exist.","profile_loading_error":"Sorry, there was an error loading this profile."},"user_reporting":{"title":"Reporting {0}","add_comment_description":"The report will be sent to your instance moderators. You can provide an explanation of why you are reporting this account below:","additional_comments":"Additional comments","forward_description":"The account is from another server. Send a copy of the report there as well?","forward_to":"Forward to {0}","submit":"Submit","generic_error":"An error occurred while processing your request."},"who_to_follow":{"more":"More","who_to_follow":"Who to follow"},"tool_tip":{"media_upload":"Upload media","repeat":"Repeat","reply":"Reply","favorite":"Favorite","add_reaction":"Add Reaction","user_settings":"User Settings","accept_follow_request":"Accept follow request","reject_follow_request":"Reject follow request","bookmark":"Bookmark"},"upload":{"error":{"base":"Upload failed.","message":"Upload failed: {0}","file_too_big":"File too big [{filesize}{filesizeunit} / {allowedsize}{allowedsizeunit}]","default":"Try again later"},"file_size_units":{"B":"B","KiB":"KiB","MiB":"MiB","GiB":"GiB","TiB":"TiB"}},"search":{"people":"People","hashtags":"Hashtags","person_talking":"{count} person talking","people_talking":"{count} people talking","no_results":"No results"},"password_reset":{"forgot_password":"Forgot password?","password_reset":"Password reset","instruction":"Enter your email address or username. We will send you a link to reset your password.","placeholder":"Your email or username","check_email":"Check your email for a link to reset your password.","return_home":"Return to the home page","too_many_requests":"You have reached the limit of attempts, try again later.","password_reset_disabled":"Password reset is disabled. Please contact your instance administrator.","password_reset_required":"You must reset your password to log in.","password_reset_required_but_mailer_is_disabled":"You must reset your password, but password reset is disabled. Please contact your instance administrator."},"chats":{"you":"You:","message_user":"Message {nickname}","delete":"Delete","chats":"Chats","new":"New Chat","empty_message_error":"Cannot post empty message","more":"More","delete_confirm":"Do you really want to delete this message?","error_loading_chat":"Something went wrong when loading the chat.","error_sending_message":"Something went wrong when sending the message.","empty_chat_list_placeholder":"You don\'t have any chats yet. Start a new chat!"},"file_type":{"audio":"Audio","video":"Video","image":"Image","file":"File"},"display_date":{"today":"Today"}}')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var i=n(381);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("6b92cece",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".Timeline .loadmore-text{opacity:1}.Timeline.-blocked{cursor:progress}.Timeline .timeline-heading{max-width:100%;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-align:center;align-items:center;position:relative}.Timeline .timeline-heading .loadmore-button{-ms-flex-negative:0;flex-shrink:0}.Timeline .timeline-heading .loadmore-text{-ms-flex-negative:0;flex-shrink:0;line-height:1em}.Timeline .timeline-footer{border:none}",""])},,,,function(t,e,n){var i=n(386);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("80571546",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,'.Status{min-width:0}.Status:hover{--_still-image-img-visibility:visible;--_still-image-canvas-visibility:hidden;--_still-image-label-visibility:hidden}.Status.-focused{background-color:#151e2a;background-color:var(--selectedPost,#151e2a);color:#b9b9ba;color:var(--selectedPostText,#b9b9ba);--lightText:var(--selectedPostLightText,$fallback--light);--faint:var(--selectedPostFaintText,$fallback--faint);--faintLink:var(--selectedPostFaintLink,$fallback--faint);--postLink:var(--selectedPostPostLink,$fallback--faint);--postFaintLink:var(--selectedPostFaintPostLink,$fallback--faint);--icon:var(--selectedPostIcon,$fallback--icon)}.Status.-conversation{border-left-width:4px;border-left-style:solid;border-left-color:red;border-left-color:var(--cRed,red)}.Status .gravestone{padding:.75em;color:hsla(240,1%,73%,.5);color:var(--faint,hsla(240,1%,73%,.5));display:-ms-flexbox;display:flex}.Status .gravestone .deleted-text{margin:.5em 0;-ms-flex-align:center;align-items:center}.Status .status-container{display:-ms-flexbox;display:flex;padding:.75em}.Status .status-container.-repeat{padding-top:0}.Status .pin{padding:.75em .75em 0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:end;justify-content:flex-end}._misclick-prevention .Status{pointer-events:none}._misclick-prevention .Status .attachments{pointer-events:auto;cursor:auto}.Status .left-side{margin-right:.75em}.Status .right-side{-ms-flex:1;flex:1;min-width:0}.Status .usercard{margin-bottom:.75em}.Status .status-username{white-space:nowrap;font-size:14px;overflow:hidden;max-width:85%;font-weight:700;-ms-flex-negative:1;flex-shrink:1;margin-right:.4em;text-overflow:ellipsis}.Status .status-username .emoji{width:14px;height:14px;vertical-align:middle;-o-object-fit:contain;object-fit:contain}.Status .status-favicon{height:18px;width:18px;margin-right:.4em}.Status .status-heading{margin-bottom:.5em}.Status .heading-name-row{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;line-height:18px}.Status .heading-name-row a{display:inline-block;word-break:break-all}.Status .account-name{min-width:1.6em;margin-right:.4em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-ms-flex:1 1 0px;flex:1 1 0}.Status .heading-left{display:-ms-flexbox;display:flex;min-width:0}.Status .heading-right{display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}.Status .heading-right .button-unstyled{padding:5px;margin:-5px}.Status .heading-right .button-unstyled:hover svg{color:#b9b9ba;color:var(--lightText,#b9b9ba)}.Status .heading-right .svg-inline--fa{margin-left:.25em}.Status .timeago{margin-right:.2em}.Status .heading-reply-row{position:relative;-ms-flex-line-pack:baseline;align-content:baseline;font-size:12px;line-height:18px;max-width:100%;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:stretch;align-items:stretch}.Status .reply-to-and-accountname{display:-ms-flexbox;display:flex;height:18px;margin-right:.5em;max-width:100%}.Status .reply-to-and-accountname .reply-to-link{white-space:nowrap;word-break:break-word;text-overflow:ellipsis;overflow-x:hidden}.Status .reply-to-no-popover,.Status .reply-to-popover{min-width:0;margin-right:.4em;-ms-flex-negative:0;flex-shrink:0}.Status .reply-to-popover .reply-to:hover:before{content:"";display:block;position:absolute;bottom:0;width:100%;border-bottom:1px solid var(--faint);pointer-events:none}.Status .reply-to-popover .faint-link:hover{text-decoration:none}.Status .reply-to-popover.-strikethrough .reply-to:after{content:"";display:block;position:absolute;top:50%;width:100%;border-bottom:1px solid var(--faint);pointer-events:none}.Status .reply-to{position:relative}.Status .reply-to-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.Status .replies-separator{margin-left:.4em}.Status .replies{line-height:18px;font-size:12px;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.Status .replies>*{margin-right:.4em}.Status .reply-link{height:17px}.Status .repeat-info{padding:.4em .75em}.Status .repeat-info .repeat-icon{color:#0fa00f;color:var(--cGreen,#0fa00f)}.Status .repeater-avatar{border-radius:var(--avatarAltRadius,10px);margin-left:28px;width:20px;height:20px}.Status .repeater-name{text-overflow:ellipsis;margin-right:0}.Status .repeater-name .emoji{width:14px;height:14px;vertical-align:middle;-o-object-fit:contain;object-fit:contain}.Status .status-fadein{animation-duration:.4s;animation-name:fadein}@keyframes fadein{0%{opacity:0}to{opacity:1}}.Status .status-actions{position:relative;width:100%;display:-ms-flexbox;display:flex;margin-top:.75em}.Status .status-actions>*{max-width:4em;-ms-flex:1;flex:1}.Status .muted{padding:.25em .6em;height:1.2em;line-height:1.2em;text-overflow:ellipsis;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.Status .muted .mute-thread,.Status .muted .mute-words,.Status .muted .status-username{word-wrap:normal;word-break:normal;white-space:nowrap}.Status .muted .mute-words,.Status .muted .status-username{text-overflow:ellipsis;overflow:hidden}.Status .muted .status-username{font-weight:400;-ms-flex:0 1 auto;flex:0 1 auto;margin-right:.2em;font-size:smaller}.Status .muted .mute-thread{-ms-flex:0 0 auto;flex:0 0 auto}.Status .muted .mute-words{-ms-flex:1 0 5em;flex:1 0 5em;margin-left:.2em}.Status .muted .mute-words:before{content:" "}.Status .muted .unmute{-ms-flex:0 0 auto;flex:0 0 auto;margin-left:auto;display:block}.Status .reply-form{padding-top:0;padding-bottom:0}.Status .reply-body{-ms-flex:1;flex:1}.Status .favs-repeated-users{margin-top:.75em}.Status .stats{width:100%;display:-ms-flexbox;display:flex;line-height:1em}.Status .avatar-row{-ms-flex:1;flex:1;overflow:hidden;position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.Status .avatar-row:before{content:"";position:absolute;height:100%;width:1px;left:0;background-color:var(--faint,hsla(240,1%,73%,.5))}.Status .stat-count{margin-right:.75em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.Status .stat-count .stat-title{color:var(--faint,hsla(240,1%,73%,.5));font-size:12px;text-transform:uppercase;position:relative}.Status .stat-count .stat-number{font-weight:bolder;font-size:16px;line-height:1em}.Status .stat-count:hover .stat-title{text-decoration:underline}@media (max-width:800px){.Status .repeater-avatar{margin-left:20px}.Status .avatar:not(.repeater-avatar){width:40px;height:40px}.Status .avatar:not(.repeater-avatar).avatar-compact{width:32px;height:32px}}',""])},,function(t,e,n){var i=n(389);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("2b13c1d7",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".ReplyButton{display:-ms-flexbox;display:flex}.ReplyButton>:first-child{padding:10px;margin:-10px -8px -10px -10px}.ReplyButton .action-counter{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ReplyButton .interactive.-active .svg-inline--fa,.ReplyButton .interactive:hover .svg-inline--fa{color:#0095ff;color:var(--cBlue,#0095ff)}",""])},function(t,e,n){var i=n(391);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("7d4fb47f",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".FavoriteButton{display:-ms-flexbox;display:flex}.FavoriteButton>:first-child{padding:10px;margin:-10px -8px -10px -10px}.FavoriteButton .action-counter{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.FavoriteButton .interactive .svg-inline--fa{animation-duration:.6s}.FavoriteButton .interactive.-favorited .svg-inline--fa,.FavoriteButton .interactive:hover .svg-inline--fa{color:orange;color:var(--cOrange,orange)}",""])},function(t,e,n){var i=n(393);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("b98558e8",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".ReactButton .reaction-picker-filter{padding:.5em;display:-ms-flexbox;display:flex}.ReactButton .reaction-picker-filter input{-ms-flex:1;flex:1}.ReactButton .reaction-picker-divider{height:1px;width:100%;margin:.5em;background-color:var(--border,#222)}.ReactButton .reaction-picker{width:10em;height:9em;font-size:1.5em;overflow-y:scroll;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:.5em;text-align:center;-ms-flex-line-pack:start;align-content:flex-start;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-mask:linear-gradient(0deg,#fff 0,transparent) bottom no-repeat,linear-gradient(180deg,#fff 0,transparent) top no-repeat,linear-gradient(0deg,#fff,#fff);mask:linear-gradient(0deg,#fff 0,transparent) bottom no-repeat,linear-gradient(180deg,#fff 0,transparent) top no-repeat,linear-gradient(0deg,#fff,#fff);transition:-webkit-mask-size .15s;transition:mask-size .15s;transition:mask-size .15s,-webkit-mask-size .15s;-webkit-mask-size:100% 20px,100% 20px,auto;mask-size:100% 20px,100% 20px,auto;-webkit-mask-composite:xor;mask-composite:exclude}.ReactButton .reaction-picker .emoji-button{cursor:pointer;-ms-flex-preferred-size:20%;flex-basis:20%;line-height:1.5em;-ms-flex-line-pack:center;align-content:center}.ReactButton .reaction-picker .emoji-button:hover{transform:scale(1.25)}.ReactButton .popover-trigger-button{width:auto}.ReactButton .popover-trigger{padding:10px;margin:-10px}.ReactButton .popover-trigger:hover .svg-inline--fa{color:#b9b9ba;color:var(--text,#b9b9ba)}",""])},function(t,e,n){var i=n(395);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("92bf6e22",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,'.popover-trigger-button{display:block}.popover{z-index:8;position:absolute;min-width:0}.popover-default{transition:opacity .3s;box-shadow:1px 1px 4px rgba(0,0,0,.6);box-shadow:var(--panelShadow);border-radius:4px;border-radius:var(--btnRadius,4px);background-color:#121a24;background-color:var(--popover,#121a24);color:#b9b9ba;color:var(--popoverText,#b9b9ba);--faint:var(--popoverFaintText,$fallback--faint);--faintLink:var(--popoverFaintLink,$fallback--faint);--lightText:var(--popoverLightText,$fallback--lightText);--postLink:var(--popoverPostLink,$fallback--link);--postFaintLink:var(--popoverPostFaintLink,$fallback--link);--icon:var(--popoverIcon,$fallback--icon)}.dropdown-menu{display:block;padding:.5rem 0;font-size:1rem;text-align:left;list-style:none;max-width:100vw;z-index:10;white-space:nowrap}.dropdown-menu .dropdown-divider{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid #222;border-top:1px solid var(--border,#222)}.dropdown-menu .dropdown-item{line-height:21px;overflow:auto;display:block;padding:.5em .75em;clear:both;font-weight:400;text-align:inherit;white-space:nowrap;border:none;border-radius:0;background-color:transparent;box-shadow:none;width:100%;height:100%;box-sizing:border-box;--btnText:var(--popoverText,$fallback--text)}.dropdown-menu .dropdown-item-icon svg{width:22px;margin-right:.75rem;color:var(--menuPopoverIcon,#666)}.dropdown-menu .dropdown-item:active,.dropdown-menu .dropdown-item:hover{background-color:#151e2a;background-color:var(--selectedMenuPopover,#151e2a);color:#d8a070;color:var(--selectedMenuPopoverText,#d8a070);--faint:var(--selectedMenuPopoverFaintText,$fallback--faint);--faintLink:var(--selectedMenuPopoverFaintLink,$fallback--faint);--lightText:var(--selectedMenuPopoverLightText,$fallback--lightText);--icon:var(--selectedMenuPopoverIcon,$fallback--icon)}.dropdown-menu .dropdown-item:active svg,.dropdown-menu .dropdown-item:hover svg{color:var(--selectedMenuPopoverIcon,#666)}.dropdown-menu .dropdown-item .menu-checkbox{display:inline-block;vertical-align:middle;min-width:22px;max-width:22px;min-height:22px;max-height:22px;line-height:22px;text-align:center;border-radius:0;background-color:#182230;background-color:var(--input,#182230);box-shadow:inset 0 0 2px #000;box-shadow:var(--inputShadow);margin-right:.75em}.dropdown-menu .dropdown-item .menu-checkbox.menu-checkbox-checked:after{font-size:1.25em;content:"\\2713"}.dropdown-menu .dropdown-item .menu-checkbox.menu-checkbox-radio:after{font-size:2em;content:"\\2022"}',""])},function(t,e,n){var i=n(397);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("2c52cbcb",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".RetweetButton{display:-ms-flexbox;display:flex}.RetweetButton>:first-child{padding:10px;margin:-10px -8px -10px -10px}.RetweetButton .action-counter{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.RetweetButton .interactive .svg-inline--fa{animation-duration:.6s}.RetweetButton .interactive.-repeated .svg-inline--fa,.RetweetButton .interactive:hover .svg-inline--fa{color:#0fa00f;color:var(--cGreen,#0fa00f)}",""])},function(t,e,n){var i=n(399);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("0d2c533c",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".ExtraButtons .popover-trigger-button{width:auto}.ExtraButtons .popover-trigger{position:static;padding:10px;margin:-10px}.ExtraButtons .popover-trigger:hover .svg-inline--fa{color:#b9b9ba;color:var(--text,#b9b9ba)}",""])},function(t,e,n){var i=n(401);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("ce7966a8",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".tribute-container ul{padding:0}.tribute-container ul li{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.tribute-container img{padding:3px;width:16px;height:16px;border-radius:10px;border-radius:var(--avatarAltRadius,10px)}.post-status-form{position:relative}.post-status-form .form-bottom{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding:.5em;height:32px}.post-status-form .form-bottom button{width:10em}.post-status-form .form-bottom p{margin:.35em;padding:.35em;display:-ms-flexbox;display:flex}.post-status-form .form-bottom-left{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;padding-right:7px;margin-right:7px;max-width:10em}.post-status-form .preview-heading{display:-ms-flexbox;display:flex;padding-left:.5em}.post-status-form .preview-toggle{-ms-flex:1;flex:1;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.post-status-form .preview-toggle:hover{text-decoration:underline}.post-status-form .preview-toggle i,.post-status-form .preview-toggle svg{margin-left:.2em;font-size:.8em;transform:rotate(90deg)}.post-status-form .preview-container{margin-bottom:1em}.post-status-form .preview-error{font-style:italic;color:hsla(240,1%,73%,.5);color:var(--faint,hsla(240,1%,73%,.5))}.post-status-form .preview-status{border:1px solid #222;border:1px solid var(--border,#222);border-radius:5px;border-radius:var(--tooltipRadius,5px);padding:.5em;margin:0;line-height:1.4em}.post-status-form .text-format .only-format{color:hsla(240,1%,73%,.5);color:var(--faint,hsla(240,1%,73%,.5))}.post-status-form .visibility-tray{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding-top:5px}.post-status-form .emoji-icon,.post-status-form .media-upload-icon,.post-status-form .poll-icon{font-size:26px;line-height:1.1;-ms-flex:1;flex:1;padding:0 .1em}.post-status-form .emoji-icon.selected i,.post-status-form .emoji-icon.selected label,.post-status-form .emoji-icon.selected svg,.post-status-form .emoji-icon:hover i,.post-status-form .emoji-icon:hover label,.post-status-form .emoji-icon:hover svg,.post-status-form .media-upload-icon.selected i,.post-status-form .media-upload-icon.selected label,.post-status-form .media-upload-icon.selected svg,.post-status-form .media-upload-icon:hover i,.post-status-form .media-upload-icon:hover label,.post-status-form .media-upload-icon:hover svg,.post-status-form .poll-icon.selected i,.post-status-form .poll-icon.selected label,.post-status-form .poll-icon.selected svg,.post-status-form .poll-icon:hover i,.post-status-form .poll-icon:hover label,.post-status-form .poll-icon:hover svg{color:#b9b9ba;color:var(--lightText,#b9b9ba)}.post-status-form .emoji-icon.disabled i,.post-status-form .emoji-icon.disabled svg,.post-status-form .media-upload-icon.disabled i,.post-status-form .media-upload-icon.disabled svg,.post-status-form .poll-icon.disabled i,.post-status-form .poll-icon.disabled svg{cursor:not-allowed;color:#666;color:var(--btnDisabledText,#666)}.post-status-form .emoji-icon.disabled i:hover,.post-status-form .emoji-icon.disabled svg:hover,.post-status-form .media-upload-icon.disabled i:hover,.post-status-form .media-upload-icon.disabled svg:hover,.post-status-form .poll-icon.disabled i:hover,.post-status-form .poll-icon.disabled svg:hover{color:#666;color:var(--btnDisabledText,#666)}.post-status-form .media-upload-icon{-ms-flex-order:1;order:1;text-align:left}.post-status-form .emoji-icon{-ms-flex-order:2;order:2;text-align:center}.post-status-form .poll-icon{-ms-flex-order:3;order:3;text-align:right;cursor:pointer}.post-status-form .error{text-align:center}.post-status-form .media-upload-wrapper{margin-right:.2em;margin-bottom:.5em;width:18em}.post-status-form .media-upload-wrapper img,.post-status-form .media-upload-wrapper video{-o-object-fit:contain;object-fit:contain;max-height:10em}.post-status-form .media-upload-wrapper .video{max-height:10em}.post-status-form .media-upload-wrapper input{-ms-flex:1;flex:1;width:100%}.post-status-form .status-input-wrapper{display:-ms-flexbox;display:flex;position:relative;width:100%;-ms-flex-direction:column;flex-direction:column}.post-status-form .attachments .media-upload-wrapper{position:relative}.post-status-form .attachments .media-upload-wrapper .attachment{margin:0;padding:0}.post-status-form form{margin:.6em;position:relative}.post-status-form .form-group,.post-status-form form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.post-status-form .form-group{padding:.25em .5em .5em;line-height:24px}.post-status-form .form-post-body,.post-status-form form textarea.form-cw{line-height:16px;resize:none;overflow:hidden;transition:min-height .2s .1s;min-height:1px}.post-status-form .form-post-body{height:16px;padding-bottom:1.75em;box-sizing:content-box}.post-status-form .form-post-body.scrollable-form{overflow-y:auto}.post-status-form .main-input{position:relative}.post-status-form .character-counter{position:absolute;bottom:0;right:0;padding:0;margin:0 .5em}.post-status-form .character-counter.error{color:red;color:var(--cRed,red)}.post-status-form .btn{cursor:pointer}.post-status-form .btn[disabled]{cursor:not-allowed}@keyframes fade-in{0%{opacity:0}to{opacity:.6}}@keyframes fade-out{0%{opacity:.6}to{opacity:0}}.post-status-form .drop-indicator{position:absolute;z-index:1;width:100%;height:100%;font-size:5em;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;opacity:.6;color:#b9b9ba;color:var(--text,#b9b9ba);background-color:#121a24;background-color:var(--bg,#121a24);border-radius:5px;border-radius:var(--tooltipRadius,5px);border:2px dashed #b9b9ba;border:2px dashed var(--text,#b9b9ba)}.media-upload-container>video,img.media-upload{line-height:0;max-height:200px;max-width:100%}",""])},function(t,e,n){var i=n(403);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("8585287c",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".media-upload{cursor:pointer}",""])},function(t,e,n){var i=n(405);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("770eecd8",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".ScopeSelector .scope{display:inline-block;cursor:pointer;min-width:1.3em;min-height:1.3em;text-align:center}.ScopeSelector .scope.selected svg{color:#b9b9ba;color:var(--lightText,#b9b9ba)}",""])},function(t,e,n){var i=n(407);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("d6bd964a",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".emoji-input{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:relative}.emoji-input.with-picker input{padding-right:30px}.emoji-input .emoji-picker-icon{position:absolute;top:0;right:0;margin:.2em .25em;font-size:16px;cursor:pointer;line-height:24px}.emoji-input .emoji-picker-icon:hover i{color:#b9b9ba;color:var(--text,#b9b9ba)}.emoji-input .emoji-picker-panel{position:absolute;z-index:20;margin-top:2px}.emoji-input .emoji-picker-panel.hide{display:none}.emoji-input .autocomplete-panel{position:absolute;z-index:20;margin-top:2px}.emoji-input .autocomplete-panel.hide{display:none}.emoji-input .autocomplete-panel-body{margin:0 .5em;border-radius:5px;border-radius:var(--tooltipRadius,5px);box-shadow:1px 2px 4px rgba(0,0,0,.5);box-shadow:var(--popupShadow);min-width:75%;background-color:#121a24;background-color:var(--popover,#121a24);color:#d8a070;color:var(--popoverText,#d8a070);--faint:var(--popoverFaintText,$fallback--faint);--faintLink:var(--popoverFaintLink,$fallback--faint);--lightText:var(--popoverLightText,$fallback--lightText);--postLink:var(--popoverPostLink,$fallback--link);--postFaintLink:var(--popoverPostFaintLink,$fallback--link);--icon:var(--popoverIcon,$fallback--icon)}.emoji-input .autocomplete-item{display:-ms-flexbox;display:flex;cursor:pointer;padding:.2em .4em;border-bottom:1px solid rgba(0,0,0,.4);height:32px}.emoji-input .autocomplete-item .image{width:32px;height:32px;line-height:32px;text-align:center;font-size:32px;margin-right:4px}.emoji-input .autocomplete-item .image img{width:32px;height:32px;-o-object-fit:contain;object-fit:contain}.emoji-input .autocomplete-item .label{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;margin:0 .1em 0 .2em}.emoji-input .autocomplete-item .label .displayText{line-height:1.5}.emoji-input .autocomplete-item .label .detailText{font-size:9px;line-height:9px}.emoji-input .autocomplete-item.highlighted{background-color:#182230;background-color:var(--selectedMenuPopover,#182230);color:var(--selectedMenuPopoverText,#b9b9ba);--faint:var(--selectedMenuPopoverFaintText,$fallback--faint);--faintLink:var(--selectedMenuPopoverFaintLink,$fallback--faint);--lightText:var(--selectedMenuPopoverLightText,$fallback--lightText);--icon:var(--selectedMenuPopoverIcon,$fallback--icon)}.emoji-input input,.emoji-input textarea{-ms-flex:1 0 auto;flex:1 0 auto}",""])},function(t,e,n){var i=n(409);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("7bb72e68",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".emoji-picker{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:absolute;right:0;left:0;margin:0!important;z-index:1;background-color:#121a24;background-color:var(--popover,#121a24);color:#d8a070;color:var(--popoverText,#d8a070);--lightText:var(--popoverLightText,$fallback--faint);--faint:var(--popoverFaintText,$fallback--faint);--faintLink:var(--popoverFaintLink,$fallback--faint);--lightText:var(--popoverLightText,$fallback--lightText);--icon:var(--popoverIcon,$fallback--icon)}.emoji-picker .keep-open,.emoji-picker .too-many-emoji{padding:7px;line-height:normal}.emoji-picker .too-many-emoji{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.emoji-picker .keep-open-label{padding:0 7px;display:-ms-flexbox;display:flex}.emoji-picker .heading{display:-ms-flexbox;display:flex;height:32px;padding:10px 7px 5px}.emoji-picker .content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1 1 auto;flex:1 1 auto;min-height:0}.emoji-picker .emoji-tabs{-ms-flex-positive:1;flex-grow:1}.emoji-picker .emoji-groups{min-height:200px}.emoji-picker .additional-tabs{border-left:1px solid;border-left-color:#666;border-left-color:var(--icon,#666);padding-left:7px;-ms-flex:0 0 auto;flex:0 0 auto}.emoji-picker .additional-tabs,.emoji-picker .emoji-tabs{display:block;min-width:0;-ms-flex-preferred-size:auto;flex-basis:auto;-ms-flex-negative:1;flex-shrink:1}.emoji-picker .additional-tabs-item,.emoji-picker .emoji-tabs-item{padding:0 7px;cursor:pointer;font-size:24px}.emoji-picker .additional-tabs-item.disabled,.emoji-picker .emoji-tabs-item.disabled{opacity:.5;pointer-events:none}.emoji-picker .additional-tabs-item.active,.emoji-picker .emoji-tabs-item.active{border-bottom:4px solid}.emoji-picker .additional-tabs-item.active svg,.emoji-picker .emoji-tabs-item.active svg{color:#b9b9ba;color:var(--lightText,#b9b9ba)}.emoji-picker .sticker-picker{-ms-flex:1 1 auto;flex:1 1 auto}.emoji-picker .emoji-content,.emoji-picker .stickers-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex:1 1 auto;flex:1 1 auto;min-height:0}.emoji-picker .emoji-content.hidden,.emoji-picker .stickers-content.hidden{opacity:0;pointer-events:none;position:absolute}.emoji-picker .emoji-search{padding:5px;-ms-flex:0 0 auto;flex:0 0 auto}.emoji-picker .emoji-search input{width:100%}.emoji-picker .emoji-groups{-ms-flex:1 1 1px;flex:1 1 1px;position:relative;overflow:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-mask:linear-gradient(0deg,#fff 0,transparent) bottom no-repeat,linear-gradient(180deg,#fff 0,transparent) top no-repeat,linear-gradient(0deg,#fff,#fff);mask:linear-gradient(0deg,#fff 0,transparent) bottom no-repeat,linear-gradient(180deg,#fff 0,transparent) top no-repeat,linear-gradient(0deg,#fff,#fff);transition:-webkit-mask-size .15s;transition:mask-size .15s;transition:mask-size .15s,-webkit-mask-size .15s;-webkit-mask-size:100% 20px,100% 20px,auto;mask-size:100% 20px,100% 20px,auto;-webkit-mask-composite:xor;mask-composite:exclude}.emoji-picker .emoji-groups.scrolled-top{-webkit-mask-size:100% 20px,100% 0,auto;mask-size:100% 20px,100% 0,auto}.emoji-picker .emoji-groups.scrolled-bottom{-webkit-mask-size:100% 0,100% 20px,auto;mask-size:100% 0,100% 20px,auto}.emoji-picker .emoji-group{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap;padding-left:5px;-ms-flex-pack:left;justify-content:left}.emoji-picker .emoji-group-title{font-size:12px;width:100%;margin:0}.emoji-picker .emoji-group-title.disabled{display:none}.emoji-picker .emoji-item{width:32px;height:32px;box-sizing:border-box;display:-ms-flexbox;display:flex;font-size:32px;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;margin:4px;cursor:pointer}.emoji-picker .emoji-item img{-o-object-fit:contain;object-fit:contain;max-width:100%;max-height:100%}",""])},function(t,e,n){var i=n(411);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("002629bb",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,'.checkbox{position:relative;display:inline-block;min-height:1.2em}.checkbox-indicator{position:relative;padding-left:1.2em}.checkbox-indicator:before{position:absolute;right:0;top:0;display:block;content:"\\2713";transition:color .2s;width:1.1em;height:1.1em;border-radius:2px;border-radius:var(--checkboxRadius,2px);box-shadow:inset 0 0 2px #000;box-shadow:var(--inputShadow);background-color:#182230;background-color:var(--input,#182230);vertical-align:top;text-align:center;line-height:1.1em;font-size:1.1em;color:transparent;overflow:hidden;box-sizing:border-box}.checkbox.disabled .checkbox-indicator:before,.checkbox.disabled .label{opacity:.5}.checkbox.disabled .label{color:hsla(240,1%,73%,.5);color:var(--faint,hsla(240,1%,73%,.5))}.checkbox input[type=checkbox]{display:none}.checkbox input[type=checkbox]:checked+.checkbox-indicator:before{color:#b9b9ba;color:var(--inputText,#b9b9ba)}.checkbox input[type=checkbox]:indeterminate+.checkbox-indicator:before{content:"\\2013";color:#b9b9ba;color:var(--inputText,#b9b9ba)}.checkbox>span{margin-left:.5em}',""])},function(t,e,n){var i=n(413);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("60db0262",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".poll-form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:0 .5em .5em}.poll-form .add-option{-ms-flex-item-align:start;align-self:flex-start;padding-top:.25em;padding-left:.1em}.poll-form .poll-option{display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:.25em}.poll-form .input-container{width:100%}.poll-form .input-container input{padding-right:2.5em;width:100%}.poll-form .delete-option{width:1.5em;margin-left:-1.5em;z-index:1}.poll-form .poll-type-expiry{margin-top:.5em;display:-ms-flexbox;display:flex;width:100%}.poll-form .poll-type{margin-right:.75em;-ms-flex:1 1 60%;flex:1 1 60%}.poll-form .poll-type .poll-type-select{padding-right:.75em}.poll-form .poll-expiry{display:-ms-flexbox;display:flex}.poll-form .poll-expiry .expiry-amount{width:3em;text-align:right}",""])},function(t,e,n){var i=n(415);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("fc9a36fc",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".Select{padding:0}.Select select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:none;color:#b9b9ba;color:var(--inputText,--text,#b9b9ba);margin:0;padding:0 2em 0 .2em;font-family:sans-serif;font-family:var(--inputFont,sans-serif);font-size:14px;width:100%;z-index:1;height:28px;line-height:16px}.Select .select-down-icon{position:absolute;top:0;bottom:0;right:5px;height:100%;color:#b9b9ba;color:var(--inputText,#b9b9ba);line-height:28px;z-index:0;pointer-events:none}",""])},function(t,e,n){var i=n(417);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("60b296ca",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".attachments{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.attachments .non-gallery{max-width:100%}.attachments .placeholder{display:inline-block;padding:.3em 1em .3em 0;color:#d8a070;color:var(--postLink,#d8a070);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%}.attachments .placeholder svg{color:inherit}.attachments .nsfw-placeholder{cursor:pointer}.attachments .nsfw-placeholder.loading{cursor:progress}.attachments .attachment{position:relative;margin-top:.5em;-ms-flex-item-align:start;align-self:flex-start;line-height:0;border-radius:10px;border-radius:var(--attachmentRadius,10px);border-color:#222;border:1px solid var(--border,#222);overflow:hidden}.attachments .non-gallery.attachment.flash,.attachments .non-gallery.attachment.video{-ms-flex:1 0 40%;flex:1 0 40%}.attachments .non-gallery.attachment .nsfw{height:260px}.attachments .non-gallery.attachment .small{height:120px;-ms-flex-positive:0;flex-grow:0}.attachments .non-gallery.attachment .video{height:260px;display:-ms-flexbox;display:flex}.attachments .non-gallery.attachment video{max-height:100%;-o-object-fit:contain;object-fit:contain}.attachments .fullwidth{-ms-flex-preferred-size:100%;flex-basis:100%}.attachments.video{line-height:0}.attachments .video-container{display:-ms-flexbox;display:flex;max-height:100%}.attachments .video{width:100%;height:100%}.attachments .play-icon{position:absolute;font-size:64px;top:calc(50% - 32px);left:calc(50% - 32px);color:hsla(0,0%,100%,.75);text-shadow:0 0 2px rgba(0,0,0,.4)}.attachments .play-icon:before{margin:0}.attachments.html{-ms-flex-preferred-size:90%;flex-basis:90%;width:100%;display:-ms-flexbox;display:flex}.attachments .hider{position:absolute;right:0;margin:10px;padding:0;z-index:4;border-radius:5px;border-radius:var(--tooltipRadius,5px);text-align:center;width:2em;height:2em;font-size:1.25em;background:hsla(0,0%,90%,.7)}.attachments .hider .svg-inline--fa{color:rgba(0,0,0,.6)}.attachments .hider:hover .svg-inline--fa{color:rgba(0,0,0,.9)}.attachments video{z-index:0}.attachments audio{width:100%}.attachments img.media-upload{line-height:0;max-height:200px;max-width:100%}.attachments .oembed{line-height:1.2em;-ms-flex:1 0 100%;flex:1 0 100%;width:100%;margin-right:15px;display:-ms-flexbox;display:flex}.attachments .oembed img{width:100%}.attachments .oembed .image{-ms-flex:1;flex:1}.attachments .oembed .image img{border:0;border-radius:5px;height:100%;-o-object-fit:cover;object-fit:cover}.attachments .oembed .text{-ms-flex:2;flex:2;margin:8px;word-break:break-all}.attachments .oembed .text h1{font-size:14px;margin:0}.attachments .image-attachment,.attachments .image-attachment .image{width:100%;height:100%}.attachments .image-attachment.hidden{display:none}.attachments .image-attachment .nsfw{-o-object-fit:cover;object-fit:cover;width:100%;height:100%}.attachments .image-attachment img{image-orientation:from-image}",""])},function(t,e,n){var i=n(419);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("24ab97e0",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,'.still-image{position:relative;line-height:0;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.still-image canvas{position:absolute;top:0;bottom:0;left:0;right:0;height:100%;visibility:var(--_still-image-canvas-visibility,visible)}.still-image canvas,.still-image img{width:100%;-o-object-fit:contain;object-fit:contain}.still-image img{min-height:100%}.still-image.animated:before{content:"gif";position:absolute;line-height:10px;font-size:10px;top:5px;left:5px;background:hsla(0,0%,50%,.5);color:#fff;display:block;padding:2px 4px;border-radius:5px;border-radius:var(--tooltipRadius,5px);z-index:2;visibility:var(--_still-image-label-visibility,visible)}.still-image.animated:hover canvas{display:none}.still-image.animated:hover:before{visibility:var(--_still-image-label-visibility,hidden)}.still-image.animated img{visibility:var(--_still-image-img-visibility,hidden)}.still-image.animated:hover img{visibility:visible}',""])},function(t,e,n){var i=n(421);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("34e407cc",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,'.Flash{width:100%;height:260px;position:relative}.Flash .player{height:100%;width:100%}.Flash .hider{top:0}.Flash .label{text-align:center;-ms-flex:1 1 0px;flex:1 1 0;line-height:1.2;white-space:normal;word-wrap:normal}.Flash .hidden{display:none;visibility:"hidden"}.Flash .placeholder{height:100%;-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}',""])},function(t,e,n){var i=n(423);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("af4a4f5c",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".StatusContent{-ms-flex:1;flex:1;min-width:0}.StatusContent .status-content-wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.StatusContent .tall-status{position:relative;height:220px;overflow-x:hidden;overflow-y:hidden;z-index:1}.StatusContent .tall-status .status-content{min-height:0;-webkit-mask:linear-gradient(0deg,#fff,transparent) bottom/100% 70px no-repeat,linear-gradient(0deg,#fff,#fff);mask:linear-gradient(0deg,#fff,transparent) bottom/100% 70px no-repeat,linear-gradient(0deg,#fff,#fff);-webkit-mask-composite:xor;mask-composite:exclude}.StatusContent .tall-status-hider{position:absolute;height:70px;margin-top:150px;line-height:110px;z-index:2}.StatusContent .cw-status-hider,.StatusContent .status-unhider,.StatusContent .tall-status-hider{display:inline-block;word-break:break-all;width:100%;text-align:center}.StatusContent .cw-status-hider svg,.StatusContent .status-unhider svg{color:inherit}.StatusContent img,.StatusContent video{max-width:100%;max-height:400px;vertical-align:middle;-o-object-fit:contain;object-fit:contain}.StatusContent img.emoji,.StatusContent video.emoji{width:32px;height:32px}.StatusContent .summary-wrapper{margin-bottom:.5em;border-style:solid;border-width:0 0 1px;border-color:var(--border,#222);-ms-flex-positive:0;flex-grow:0}.StatusContent .summary{font-style:italic;padding-bottom:.5em}.StatusContent .tall-subject{position:relative}.StatusContent .tall-subject .summary{max-height:2em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.StatusContent .tall-subject-hider{display:inline-block;word-break:break-all;width:100%;text-align:center;padding-bottom:.5em}.StatusContent .status-content{font-family:var(--postFont,sans-serif);line-height:1.4em;white-space:pre-wrap;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word}.StatusContent .status-content blockquote{margin:.2em 0 .2em 2em;font-style:italic}.StatusContent .status-content pre{overflow:auto}.StatusContent .status-content code,.StatusContent .status-content kbd,.StatusContent .status-content pre,.StatusContent .status-content samp,.StatusContent .status-content var{font-family:var(--postCodeFont,monospace)}.StatusContent .status-content p{margin:0 0 1em}.StatusContent .status-content p:last-child{margin:0}.StatusContent .status-content h1{font-size:1.1em;line-height:1.2em;margin:1.4em 0}.StatusContent .status-content h2{font-size:1.1em;margin:1em 0}.StatusContent .status-content h3{font-size:1em;margin:1.2em 0}.StatusContent .status-content h4{margin:1.1em 0}.StatusContent .status-content.single-line{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;height:1.4em}.greentext{color:#0fa00f;color:var(--postGreentext,#0fa00f)}",""])},function(t,e,n){var i=n(425);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("1a8b173f",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".poll .votes{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin:0 0 .5em}.poll .poll-option{margin:.75em .5em}.poll .option-result{height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;position:relative;color:#b9b9ba;color:var(--lightText,#b9b9ba)}.poll .option-result-label{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:.1em .25em;z-index:1;word-break:break-word}.poll .result-percentage{width:3.5em;-ms-flex-negative:0;flex-shrink:0}.poll .result-fill{height:100%;position:absolute;color:#b9b9ba;color:var(--pollText,#b9b9ba);background-color:#151e2a;background-color:var(--poll,#151e2a);border-radius:10px;border-radius:var(--panelRadius,10px);top:0;left:0;transition:width .5s}.poll .option-vote{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.poll input{width:3.5em}.poll .footer{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.poll.loading *{cursor:progress}.poll .poll-vote-button{padding:0 .5em;margin-right:.5em}",""])},function(t,e,n){var i=n(427);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("6c9d5cbc",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".gallery-row{position:relative;height:0;width:100%;-ms-flex-positive:1;flex-grow:1;margin-top:.5em}.gallery-row .gallery-row-inner{position:absolute;top:0;left:0;right:0;bottom:0;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-line-pack:stretch;align-content:stretch}.gallery-row .gallery-row-inner .attachment{margin:0 .5em 0 0;-ms-flex-positive:1;flex-grow:1;height:100%;box-sizing:border-box;min-width:2em}.gallery-row .gallery-row-inner .attachment:last-child{margin:0}.gallery-row .image-attachment{width:100%;height:100%}.gallery-row .video-container{height:100%}.gallery-row.contain-fit canvas,.gallery-row.contain-fit img,.gallery-row.contain-fit video{-o-object-fit:contain;object-fit:contain;height:100%}.gallery-row.cover-fit canvas,.gallery-row.cover-fit img,.gallery-row.cover-fit video{-o-object-fit:cover;object-fit:cover}",""])},function(t,e,n){var i=n(429);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("c13d6bee",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".link-preview-card{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;cursor:pointer;overflow:hidden;margin-top:.5em;color:#b9b9ba;color:var(--text,#b9b9ba);border-radius:10px;border-radius:var(--attachmentRadius,10px);border-color:#222;border:1px solid var(--border,#222)}.link-preview-card .card-image{-ms-flex-negative:0;flex-shrink:0;width:120px;max-width:25%}.link-preview-card .card-image img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;border-radius:10px;border-radius:var(--attachmentRadius,10px)}.link-preview-card .card-content{max-height:100%;margin:.5em;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.link-preview-card .card-host{font-size:12px}.link-preview-card .card-description{margin:.5em 0 0;overflow:hidden;text-overflow:ellipsis;word-break:break-word;line-height:1.2em;max-height:calc(1.2em * 3 - 1px)}.link-preview-card .nsfw-alert{margin:2em 0}",""])},function(t,e,n){var i=n(431);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("0060b6a4",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".user-card{position:relative}.user-card:hover .Avatar{--_still-image-img-visibility:visible;--_still-image-canvas-visibility:hidden}.user-card .panel-heading{padding:.5em 0;text-align:center;box-shadow:none;background:transparent;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch;position:relative}.user-card .panel-body{word-wrap:break-word;border-bottom-right-radius:inherit;border-bottom-left-radius:inherit;position:relative}.user-card .background-image{position:absolute;top:0;left:0;right:0;bottom:0;-webkit-mask:linear-gradient(0deg,#fff,transparent) bottom no-repeat,linear-gradient(0deg,#fff,#fff);mask:linear-gradient(0deg,#fff,transparent) bottom no-repeat,linear-gradient(0deg,#fff,#fff);-webkit-mask-composite:xor;mask-composite:exclude;background-size:cover;-webkit-mask-size:100% 60%;mask-size:100% 60%;border-top-left-radius:calc(var(--panelRadius) - 1px);border-top-right-radius:calc(var(--panelRadius) - 1px);background-color:var(--profileBg)}.user-card .background-image.hide-bio{-webkit-mask-size:100% 40px;mask-size:100% 40px}.user-card p{margin-bottom:0}.user-card-bio{text-align:center}.user-card-bio a{color:#d8a070;color:var(--postLink,#d8a070)}.user-card-bio img{-o-object-fit:contain;object-fit:contain;vertical-align:middle;max-width:100%;max-height:400px}.user-card-bio img.emoji{width:32px;height:32px}.user-card-rounded-t{border-top-left-radius:10px;border-top-left-radius:var(--panelRadius,10px);border-top-right-radius:10px;border-top-right-radius:var(--panelRadius,10px)}.user-card-rounded{border-radius:10px;border-radius:var(--panelRadius,10px)}.user-card-bordered{border-color:#222;border:1px solid var(--border,#222)}.user-info{color:#b9b9ba;color:var(--lightText,#b9b9ba);padding:0 26px}.user-info .container{padding:16px 0 6px;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;max-height:56px}.user-info .container .Avatar{--_avatarShadowBox:var(--avatarShadow);--_avatarShadowFilter:var(--avatarShadowFilter);--_avatarShadowInset:var(--avatarShadowInset);-ms-flex:1 0 100%;flex:1 0 100%;width:56px;height:56px;-o-object-fit:cover;object-fit:cover}.user-info-avatar-link{position:relative;cursor:pointer}.user-info-avatar-link-overlay{position:absolute;left:0;top:0;right:0;bottom:0;background-color:rgba(0,0,0,.3);display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;border-radius:4px;border-radius:var(--avatarRadius,4px);opacity:0;transition:opacity .2s ease}.user-info-avatar-link-overlay svg{color:#fff}.user-info-avatar-link:hover .user-info-avatar-link-overlay{opacity:1}.user-info .edit-profile-button,.user-info .external-link-button{cursor:pointer;width:2.5em;text-align:center;margin:-.5em 0;padding:.5em 0}.user-info .edit-profile-button:not(:hover) .icon,.user-info .external-link-button:not(:hover) .icon{color:#b9b9ba;color:var(--lightText,#b9b9ba)}.user-info .user-summary{display:block;margin-left:.6em;text-align:left;text-overflow:ellipsis;white-space:nowrap;-ms-flex:1 1 0px;flex:1 1 0;z-index:1}.user-info .user-summary img{width:26px;height:26px;vertical-align:middle;-o-object-fit:contain;object-fit:contain}.user-info .user-summary .top-line{display:-ms-flexbox;display:flex}.user-info .user-name{text-overflow:ellipsis;overflow:hidden;-ms-flex:1 1 auto;flex:1 1 auto;margin-right:1em;font-size:15px}.user-info .user-name img{-o-object-fit:contain;object-fit:contain;height:16px;width:16px;vertical-align:middle}.user-info .bottom-line{display:-ms-flexbox;display:flex;font-weight:light;font-size:15px}.user-info .bottom-line .lock-icon{margin-left:.5em}.user-info .bottom-line .user-screen-name{min-width:1px;-ms-flex:0 1 auto;flex:0 1 auto;text-overflow:ellipsis;overflow:hidden;color:#b9b9ba;color:var(--lightText,#b9b9ba)}.user-info .bottom-line .dailyAvg{min-width:1px;-ms-flex:0 0 auto;flex:0 0 auto;margin-left:1em;font-size:.7em;color:#b9b9ba;color:var(--text,#b9b9ba)}.user-info .bottom-line .user-role{-ms-flex:none;flex:none;color:#b9b9ba;color:var(--alertNeutralText,#b9b9ba);background-color:#182230;background-color:var(--alertNeutral,#182230)}.user-info .user-meta{margin-bottom:.15em;display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline;font-size:14px;line-height:22px;-ms-flex-wrap:wrap;flex-wrap:wrap}.user-info .user-meta .following{-ms-flex:1 0 auto;flex:1 0 auto;margin:0;margin-bottom:.25em;text-align:left}.user-info .user-meta .highlighter{-ms-flex:0 1 auto;flex:0 1 auto;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-.5em;-ms-flex-item-align:start;align-self:start}.user-info .user-meta .highlighter .userHighlightCl{padding:2px 10px;-ms-flex:1 0 auto;flex:1 0 auto}.user-info .user-meta .highlighter .userHighlightSel{padding-top:0;padding-bottom:0;-ms-flex:1 0 auto;flex:1 0 auto}.user-info .user-meta .highlighter .userHighlightText{width:70px;-ms-flex:1 0 auto;flex:1 0 auto}.user-info .user-meta .highlighter .userHighlightCl,.user-info .user-meta .highlighter .userHighlightSel,.user-info .user-meta .highlighter .userHighlightText{vertical-align:top;margin-right:.5em;margin-bottom:.25em}.user-info .user-interactions{position:relative;display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;margin-right:-.75em}.user-info .user-interactions>*{margin:0 .75em .6em 0;white-space:nowrap;min-width:95px}.user-info .user-interactions button{margin:0}.sidebar .edit-profile-button{display:none}.user-counts{display:-ms-flexbox;display:flex;line-height:16px;padding:.5em 1.5em 0;text-align:center;-ms-flex-pack:justify;justify-content:space-between;color:#b9b9ba;color:var(--lightText,#b9b9ba);-ms-flex-wrap:wrap;flex-wrap:wrap}.user-count{-ms-flex:1 0 auto;flex:1 0 auto;padding:.5em 0;margin:0 .5em}.user-count h5{font-size:1em;font-weight:bolder;margin:0 0 .25em}.user-count a{text-decoration:none}",""])},function(t,e,n){var i=n(433);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("6b6f3617",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".Avatar{--_avatarShadowBox:var(--avatarStatusShadow);--_avatarShadowFilter:var(--avatarStatusShadowFilter);--_avatarShadowInset:var(--avatarStatusShadowInset);--_still-image-label-visibility:hidden;width:48px;height:48px;box-shadow:var(--_avatarShadowBox);border-radius:4px;border-radius:var(--avatarRadius,4px)}.Avatar img{width:100%;height:100%}.Avatar.better-shadow{box-shadow:var(--_avatarShadowInset);filter:var(--_avatarShadowFilter)}.Avatar.animated:before{display:none}.Avatar.avatar-compact{width:32px;height:32px;border-radius:10px;border-radius:var(--avatarAltRadius,10px)}.Avatar.-placeholder{background-color:#182230;background-color:var(--fg,#182230)}",""])},function(t,e,n){var i=n(435);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("4852bbb4",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".remote-follow{max-width:220px}.remote-follow .remote-button{width:100%;min-height:28px}",""])},function(t,e,n){var i=n(437);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("2c0672fc",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".moderation-tools-popover{height:100%}.moderation-tools-popover .trigger{display:-ms-flexbox!important;display:flex!important;height:100%}.moderation-tools-button i,.moderation-tools-button svg{font-size:.8em}",""])},function(t,e,n){var i=n(439);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("56d82e88",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,'.dark-overlay:before{bottom:0;content:" ";left:0;right:0;background:rgba(27,31,35,.5);z-index:99}.dark-overlay:before,.dialog-modal.panel{display:block;cursor:default;position:fixed;top:0}.dialog-modal.panel{left:50%;max-height:80vh;max-width:90vw;margin:15vh auto;transform:translateX(-50%);z-index:999;background-color:#121a24;background-color:var(--bg,#121a24)}.dialog-modal.panel .dialog-modal-heading{padding:.5em;margin-right:auto;margin-bottom:0;white-space:nowrap;color:var(--panelText);background-color:#182230;background-color:var(--panel,#182230)}.dialog-modal.panel .dialog-modal-heading .title{margin-bottom:0;text-align:center}.dialog-modal.panel .dialog-modal-content{margin:0;padding:1rem;background-color:#121a24;background-color:var(--bg,#121a24);white-space:normal}.dialog-modal.panel .dialog-modal-footer{margin:0;padding:.5em;background-color:#121a24;background-color:var(--bg,#121a24);border-top:1px solid #222;border-top:1px solid var(--border,#222);display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end}.dialog-modal.panel .dialog-modal-footer button{width:auto;margin-left:.5rem}',""])},function(t,e,n){var i=n(441);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("8c9d5016",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".AccountActions button.dropdown-item{margin-left:0}.AccountActions .ellipsis-button{width:2.5em;margin:-.5em 0;padding:.5em 0;text-align:center}.AccountActions .ellipsis-button:not(:hover) .icon{color:#b9b9ba;color:var(--lightText,#b9b9ba)}",""])},function(t,e,n){var i=n(443);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("7096a06e",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".avatars{display:-ms-flexbox;display:flex;margin:0;padding:0;-ms-flex-wrap:wrap;flex-wrap:wrap;height:24px}.avatars .avatars-item{margin:0 0 5px 5px}.avatars .avatars-item:first-child{padding-left:5px}.avatars .avatars-item .avatar-small{border-radius:10px;border-radius:var(--avatarAltRadius,10px);height:24px;width:24px}",""])},function(t,e,n){var i=n(445);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("14cff5b4",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".status-popover.popover{font-size:1rem;min-width:15em;max-width:95%;border-color:#222;border:1px solid var(--border,#222);border-radius:5px;border-radius:var(--tooltipRadius,5px);box-shadow:2px 2px 3px rgba(0,0,0,.5);box-shadow:var(--popupShadow)}.status-popover.popover .Status.Status{border:none}.status-popover.popover .status-preview-no-content{padding:1em;text-align:center}.status-popover.popover .status-preview-no-content i{font-size:2em}",""])},function(t,e,n){var i=n(447);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("50540f22",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".user-list-popover{padding:.5em}.user-list-popover .user-list-row{padding:.25em;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.user-list-popover .user-list-row .user-list-names{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin-left:.5em;min-width:5em}.user-list-popover .user-list-row .user-list-names img{width:1em;height:1em}.user-list-popover .user-list-row .user-list-screen-name{font-size:9px}",""])},function(t,e,n){var i=n(449);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("cf35b50a",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".emoji-reactions{display:-ms-flexbox;display:flex;margin-top:.25em;-ms-flex-wrap:wrap;flex-wrap:wrap}.emoji-reaction{padding:0 .5em;margin-right:.5em;margin-top:.5em;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;box-sizing:border-box}.emoji-reaction .reaction-emoji{width:1.25em;margin-right:.25em}.emoji-reaction:focus{outline:none}.emoji-reaction.not-clickable{cursor:default}.emoji-reaction.not-clickable:hover{box-shadow:0 0 2px 0 #000,inset 0 1px 0 0 hsla(0,0%,100%,.2),inset 0 -1px 0 0 rgba(0,0,0,.2);box-shadow:var(--buttonShadow)}.emoji-reaction-expand{padding:0 .5em;margin-right:.5em;margin-top:.5em;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.emoji-reaction-expand:hover{text-decoration:underline}.picked-reaction{border:1px solid var(--accent,#d8a070);margin-left:-1px;margin-right:calc(.5em - 1px)}",""])},function(t,e,n){var i=n(451);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("93498d0a",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".Conversation .conversation-status{border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:var(--border,#222);border-radius:0}.Conversation.-expanded .conversation-status:last-child{border-bottom:none;border-radius:0 0 10px 10px;border-radius:0 0 var(--panelRadius,10px) var(--panelRadius,10px)}",""])},,,,,,,,,,,,,,function(t,e,n){var i=n(466);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("b449a0b2",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".TimelineMenu{-ms-flex-negative:1;flex-shrink:1;margin-right:auto;min-width:0;width:24rem}.TimelineMenu .timeline-menu-popover-wrap{overflow:hidden;margin-top:.6rem;padding:0 15px 15px}.TimelineMenu .timeline-menu-popover{width:24rem;max-width:100vw;margin:0;font-size:1rem;transform:translateY(-100%);transition:transform .1s}.TimelineMenu .panel:after,.TimelineMenu .timeline-menu-popover{border-top-right-radius:0;border-top-left-radius:0}.TimelineMenu.open .timeline-menu-popover{transform:translateY(0)}.TimelineMenu .timeline-menu-title{margin:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;display:-ms-flexbox;display:flex}.TimelineMenu .timeline-menu-title .timeline-menu-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.TimelineMenu .timeline-menu-title svg{margin-left:.6em;transition:transform .1s}.TimelineMenu .timeline-menu-title .click-blocker{cursor:default;-ms-flex-positive:1;flex-grow:1}.TimelineMenu.open .timeline-menu-title svg{color:#b9b9ba;color:var(--panelText,#b9b9ba);transform:rotate(180deg)}.TimelineMenu .panel{box-shadow:var(--popoverShadow)}.TimelineMenu ul{list-style:none;margin:0;padding:0}.TimelineMenu li{border-bottom:1px solid;border-color:#222;border-color:var(--border,#222);padding:0}.TimelineMenu li:last-child a{border-bottom-right-radius:10px;border-bottom-right-radius:var(--panelRadius,10px);border-bottom-left-radius:10px;border-bottom-left-radius:var(--panelRadius,10px)}.TimelineMenu li:last-child{border:none}.TimelineMenu a{display:block;padding:.6em .65em}.TimelineMenu a:hover{color:#d8a070;color:var(--selectedMenuText,#d8a070)}.TimelineMenu a.router-link-active,.TimelineMenu a:hover{background-color:#151e2a;background-color:var(--selectedMenu,#151e2a);--faint:var(--selectedMenuFaintText,$fallback--faint);--faintLink:var(--selectedMenuFaintLink,$fallback--faint);--lightText:var(--selectedMenuLightText,$fallback--lightText);--icon:var(--selectedMenuIcon,$fallback--icon)}.TimelineMenu a.router-link-active{font-weight:bolder;color:#b9b9ba;color:var(--selectedMenuText,#b9b9ba)}.TimelineMenu a.router-link-active:hover{text-decoration:underline}.TimelineMenu a svg{margin-right:.4em;margin-left:-.2em}",""])},function(t,e,n){var i=n(468);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("b6e5d822",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".TimelineQuickSettings{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.TimelineQuickSettings>button{font-size:1.2em;padding-left:.7em;padding-right:.2em;line-height:100%;height:100%}.TimelineQuickSettings .dropdown-item{margin:0}",""])},function(t,e,n){var i=n(470);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("87e1cf2e",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".Notifications:not(.minimal){padding-bottom:15em}.Notifications .loadmore-error{color:#b9b9ba;color:var(--text,#b9b9ba)}.Notifications .notifications-footer{border:none}.Notifications .notification{position:relative}.Notifications .notification .notification-overlay{position:absolute;top:0;right:0;left:0;bottom:0;pointer-events:none}.Notifications .notification.unseen .notification-overlay{background-image:linear-gradient(135deg,var(--badgeNotification,red) 4px,transparent 10px)}.notification{box-sizing:border-box;border-bottom:1px solid;border-color:#222;border-color:var(--border,#222);word-wrap:break-word;word-break:break-word}.notification:hover .animated.Avatar canvas{display:none}.notification:hover .animated.Avatar img{visibility:visible}.notification .non-mention{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-wrap:nowrap;flex-wrap:nowrap;padding:.6em;min-width:0;--link:var(--faintLink);--text:var(--faint)}.notification .non-mention .avatar-container{width:32px;height:32px}.notification .follow-request-accept{cursor:pointer}.notification .follow-request-accept:hover{color:#b9b9ba;color:var(--text,#b9b9ba)}.notification .follow-request-reject{cursor:pointer}.notification .follow-request-reject:hover{color:red;color:var(--cRed,red)}.notification .follow-text,.notification .move-text{padding:.5em 0;overflow-wrap:break-word;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.notification .follow-text .follow-name,.notification .move-text .follow-name{display:block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.notification .Status{-ms-flex:1;flex:1}.notification time{white-space:nowrap}.notification .notification-right{-ms-flex:1;flex:1;padding-left:.8em;min-width:0}.notification .notification-right .timeago{min-width:3em;text-align:right}.notification .emoji-reaction-emoji{font-size:16px}.notification .notification-details{min-width:0;word-wrap:break-word;line-height:18px;position:relative;overflow:hidden;width:100%;-ms-flex:1 1 0px;flex:1 1 0;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-pack:justify;justify-content:space-between}.notification .notification-details .name-and-action{-ms-flex:1;flex:1;overflow:hidden;text-overflow:ellipsis}.notification .notification-details .username{font-weight:bolder;max-width:100%;text-overflow:ellipsis;white-space:nowrap}.notification .notification-details .username img{width:14px;height:14px;vertical-align:middle;-o-object-fit:contain;object-fit:contain}.notification .notification-details .timeago{margin-right:.2em}.notification .notification-details .status-content{margin:0;max-height:300px}.notification .notification-details h1{word-break:break-all;margin:0 0 .3em;padding:0;font-size:1em;line-height:20px}.notification .notification-details h1 small{font-weight:lighter}.notification .notification-details p{margin:0;margin-top:0;margin-bottom:.3em}",""])},function(t,e,n){var i=n(472);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("41041624",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,'.Notification.-muted{padding:.25em .6em;height:1.2em;line-height:1.2em;text-overflow:ellipsis;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.Notification.-muted .mute-thread,.Notification.-muted .mute-words,.Notification.-muted .status-username{word-wrap:normal;word-break:normal;white-space:nowrap}.Notification.-muted .mute-words,.Notification.-muted .status-username{text-overflow:ellipsis;overflow:hidden}.Notification.-muted .status-username{font-weight:400;-ms-flex:0 1 auto;flex:0 1 auto;margin-right:.2em;font-size:smaller}.Notification.-muted .mute-thread{-ms-flex:0 0 auto;flex:0 0 auto}.Notification.-muted .mute-words{-ms-flex:1 0 5em;flex:1 0 5em;margin-left:.2em}.Notification.-muted .mute-words:before{content:" "}.Notification.-muted .unmute{-ms-flex:0 0 auto;flex:0 0 auto;margin-left:auto;display:block}.Notification .type-icon{margin:0 .1em}.Notification.-type--repeat .type-icon{color:#0fa00f;color:var(--cGreen,#0fa00f)}.Notification.-type--follow-request .type-icon,.Notification.-type--follow .type-icon{color:#0095ff;color:var(--cBlue,#0095ff)}.Notification.-type--like .type-icon{color:orange;color:var(--cOrange,orange)}.Notification.-type--move .type-icon{color:#0095ff;color:var(--cBlue,#0095ff)}',""])},function(t,e,n){var i=n(474);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("590c30d6",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".NotificationFilters{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.NotificationFilters>button{font-size:1.2em;padding-left:.7em;padding-right:.2em;line-height:100%;height:100%}.NotificationFilters .dropdown-item{margin:0}",""])},function(t,e,n){var i=n(476);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("3a6f72a2",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".chat-list{min-height:25em;margin-bottom:0}.emtpy-chat-list-alert{padding:3em;font-size:1.2em;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;color:#b9b9ba;color:var(--faint,#b9b9ba)}",""])},function(t,e,n){var i=n(478);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("33c6b65e",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".chat-list-item{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding:.75em;height:5em;overflow:hidden;box-sizing:border-box;cursor:pointer}.chat-list-item :focus{outline:none}.chat-list-item:hover{background-color:var(--selectedPost,#151e2a);box-shadow:0 0 3px 1px rgba(0,0,0,.1)}.chat-list-item .chat-list-item-left{margin-right:1em}.chat-list-item .chat-list-item-center{width:100%;box-sizing:border-box;overflow:hidden;word-wrap:break-word}.chat-list-item .heading{width:100%;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-pack:justify;justify-content:space-between;line-height:1em}.chat-list-item .heading-right{white-space:nowrap}.chat-list-item .name-and-account-name{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-ms-flex-negative:1;flex-shrink:1;line-height:1.4em}.chat-list-item .chat-preview{display:-ms-inline-flexbox;display:inline-flex;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin:.35em 0;color:#b9b9ba;color:var(--faint,#b9b9ba);width:100%}.chat-list-item a{color:var(--faintLink,#d8a070);text-decoration:none;pointer-events:none}.chat-list-item:hover .animated.avatar canvas{display:none}.chat-list-item:hover .animated.avatar img{visibility:visible}.chat-list-item .Avatar{border-radius:10px;border-radius:var(--avatarAltRadius,10px)}.chat-list-item .StatusContent img.emoji{width:1.4em;height:1.4em}.chat-list-item .time-wrapper{line-height:1.4em}.chat-list-item .single-line{padding-right:1em}",""])},function(t,e,n){var i=n(480);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("3dcd538d",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".chat-title{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.chat-title,.chat-title .username{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chat-title .username{max-width:100%;display:inline;word-wrap:break-word}.chat-title .username .emoji{width:14px;height:14px;vertical-align:middle;-o-object-fit:contain;object-fit:contain}.chat-title .Avatar{width:23px;height:23px;margin-right:.5em;border-radius:10px;border-radius:var(--avatarAltRadius,10px)}.chat-title .Avatar.animated:before{display:none}",""])},function(t,e,n){var i=n(482);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("ca48b176",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".chat-new .input-wrap{display:-ms-flexbox;display:flex;margin:.7em .5em}.chat-new .input-wrap input{width:100%}.chat-new .search-icon{margin-right:.3em}.chat-new .member-list{padding-bottom:.7rem}.chat-new .basic-user-card:hover{cursor:pointer;background-color:var(--selectedPost,#151e2a)}.chat-new .go-back-button{cursor:pointer;width:28px;text-align:center;padding:.6em;margin:-.6em .6em -.6em -.6em}",""])},function(t,e,n){var i=n(484);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("119ab786",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".basic-user-card{display:-ms-flexbox;display:flex;-ms-flex:1 0;flex:1 0;margin:0;padding:.6em 1em}.basic-user-card-collapsed-content{margin-left:.7em;text-align:left;-ms-flex:1;flex:1;min-width:0}.basic-user-card-user-name img{-o-object-fit:contain;object-fit:contain;height:16px;width:16px;vertical-align:middle}.basic-user-card-screen-name,.basic-user-card-user-name-value{display:inline-block;max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.basic-user-card-expanded-content{-ms-flex:1;flex:1;margin-left:.7em;min-width:0}",""])},function(t,e,n){var i=n(486);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("33745640",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".list-item:not(:last-child){border-bottom:1px solid;border-bottom-color:#222;border-bottom-color:var(--border,#222)}.list-empty-content{text-align:center;padding:10px}",""])},function(t,e,n){var i=n(488);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("0f673926",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".chat-view{display:-ms-flexbox;display:flex;height:calc(100vh - 60px);width:100%}.chat-view .chat-title{height:28px}.chat-view .chat-view-inner{height:auto;margin:.5em .5em 0}.chat-view .chat-view-body,.chat-view .chat-view-inner{width:100%;overflow:visible;display:-ms-flexbox;display:flex}.chat-view .chat-view-body{background-color:var(--chatBg,#121a24);-ms-flex-direction:column;flex-direction:column;min-height:100%;margin:0;border-radius:10px 10px 0 0;border-radius:var(--panelRadius,10px) var(--panelRadius,10px) 0 0}.chat-view .chat-view-body:after{border-radius:0}.chat-view .scrollable-message-list{padding:0 .8em;height:100%;overflow-y:scroll;overflow-x:hidden;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.chat-view .footer{position:-webkit-sticky;position:sticky;bottom:0}.chat-view .chat-view-heading{-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;top:50px;display:-ms-flexbox;display:flex;z-index:2;position:-webkit-sticky;position:sticky;overflow:hidden}.chat-view .go-back-button{cursor:pointer;width:28px;text-align:center;padding:.6em;margin:-.6em .6em -.6em -.6em}.chat-view .jump-to-bottom-button{width:2.5em;height:2.5em;border-radius:100%;position:absolute;right:1.3em;top:-3.2em;background-color:#182230;background-color:var(--btn,#182230);display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;box-shadow:0 1px 1px rgba(0,0,0,.3),0 2px 4px rgba(0,0,0,.3);z-index:10;transition:all .35s;transition-timing-function:cubic-bezier(0,1,.5,1);opacity:0;visibility:hidden;cursor:pointer}.chat-view .jump-to-bottom-button.visible{opacity:1;visibility:visible}.chat-view .jump-to-bottom-button i{font-size:1em;color:#b9b9ba;color:var(--text,#b9b9ba)}.chat-view .jump-to-bottom-button .unread-message-count{font-size:.8em;left:50%;margin-top:-1rem;padding:.1em;border-radius:50px;position:absolute}.chat-view .jump-to-bottom-button .chat-loading-error{width:100%;display:-ms-flexbox;display:flex;-ms-flex-align:end;align-items:flex-end;height:100%}.chat-view .jump-to-bottom-button .chat-loading-error .error{width:100%}@media (max-width:800px){.chat-view{height:100%;overflow:hidden}.chat-view .chat-view-inner{overflow:hidden;height:100%;margin-top:0;margin-left:0;margin-right:0}.chat-view .chat-view-body{display:-ms-flexbox;display:flex;min-height:auto;overflow:hidden;height:100%;margin:0;border-radius:0}.chat-view .chat-view-heading{box-sizing:border-box;position:static;z-index:9999;top:0;margin-top:0;border-radius:0;background:linear-gradient(0deg,var(--panel),var(--panel)),linear-gradient(0deg,var(--bg),var(--bg));height:50px}.chat-view .scrollable-message-list{display:unset;overflow-y:scroll;overflow-x:hidden;-webkit-overflow-scrolling:touch}.chat-view .footer{position:-webkit-sticky;position:sticky;bottom:auto}}",""])},function(t,e,n){var i=n(490);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("20b81e5e",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,'.chat-message-wrapper.hovered-message-chain .animated.Avatar canvas{display:none}.chat-message-wrapper.hovered-message-chain .animated.Avatar img{visibility:visible}.chat-message-wrapper .chat-message-menu{transition:opacity .1s;opacity:0;position:absolute;top:-.8em}.chat-message-wrapper .chat-message-menu button{padding-top:.2em;padding-bottom:.2em}.chat-message-wrapper .menu-icon{cursor:pointer}.chat-message-wrapper .menu-icon:hover,.extra-button-popover.open .chat-message-wrapper .menu-icon{color:#b9b9ba;color:var(--text,#b9b9ba)}.chat-message-wrapper .popover{width:12em}.chat-message-wrapper .chat-message{display:-ms-flexbox;display:flex;padding-bottom:.5em}.chat-message-wrapper .avatar-wrapper{margin-right:.72em;width:32px}.chat-message-wrapper .attachments,.chat-message-wrapper .link-preview{margin-bottom:1em}.chat-message-wrapper .chat-message-inner{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;max-width:80%;min-width:10em;width:100%}.chat-message-wrapper .chat-message-inner.with-media{width:100%}.chat-message-wrapper .chat-message-inner.with-media .gallery-row{overflow:hidden}.chat-message-wrapper .chat-message-inner.with-media .status{width:100%}.chat-message-wrapper .status{border-radius:10px;border-radius:var(--chatMessageRadius,10px);display:-ms-flexbox;display:flex;padding:.75em}.chat-message-wrapper .created-at{position:relative;float:right;font-size:.8em;margin:-1em 0 -.5em;font-style:italic;opacity:.8}.chat-message-wrapper .without-attachment .status-content:after{margin-right:5.4em;content:" ";display:inline-block}.chat-message-wrapper .pending .created-at,.chat-message-wrapper .pending .status-content.media-body{color:var(--faint)}.chat-message-wrapper .error .created-at,.chat-message-wrapper .error .status-content.media-body{color:red;color:var(--badgeNotification,red)}.chat-message-wrapper .incoming a{color:var(--chatMessageIncomingLink,#d8a070)}.chat-message-wrapper .incoming .status{background-color:var(--chatMessageIncomingBg,#121a24);border:1px solid var(--chatMessageIncomingBorder,--border)}.chat-message-wrapper .incoming .created-at a,.chat-message-wrapper .incoming .status{color:var(--chatMessageIncomingText,#b9b9ba)}.chat-message-wrapper .incoming .chat-message-menu{left:.4rem}.chat-message-wrapper .outgoing{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-line-pack:end;align-content:end;-ms-flex-pack:end;justify-content:flex-end}.chat-message-wrapper .outgoing a{color:var(--chatMessageOutgoingLink,#d8a070)}.chat-message-wrapper .outgoing .status{color:var(--chatMessageOutgoingText,#b9b9ba);background-color:var(--chatMessageOutgoingBg,#151e2a);border:1px solid var(--chatMessageOutgoingBorder,--lightBg)}.chat-message-wrapper .outgoing .chat-message-inner{-ms-flex-align:end;align-items:flex-end}.chat-message-wrapper .outgoing .chat-message-menu{right:.4rem}.chat-message-wrapper .visible{opacity:1}.chat-message-date-separator{text-align:center;margin:1.4em 0;font-size:.9em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#b9b9ba;color:var(--faintedText,#b9b9ba)}',""])},function(t,e,n){var i=n(492);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("7563b46e",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".user-profile{-ms-flex:2;flex:2;-ms-flex-preferred-size:500px;flex-basis:500px}.user-profile .user-profile-fields{margin:0 .5em}.user-profile .user-profile-fields img{-o-object-fit:contain;object-fit:contain;vertical-align:middle;max-width:100%;max-height:400px}.user-profile .user-profile-fields img.emoji{width:18px;height:18px}.user-profile .user-profile-fields .user-profile-field{display:-ms-flexbox;display:flex;margin:.25em;border:1px solid var(--border,#222);border-radius:4px;border-radius:var(--inputRadius,4px)}.user-profile .user-profile-fields .user-profile-field .user-profile-field-name{-ms-flex:0 1 30%;flex:0 1 30%;font-weight:500;text-align:right;color:var(--lightText);min-width:120px;border-right:1px solid var(--border,#222)}.user-profile .user-profile-fields .user-profile-field .user-profile-field-value{-ms-flex:1 1 70%;flex:1 1 70%;color:var(--text);margin:0 0 0 .25em}.user-profile .user-profile-fields .user-profile-field .user-profile-field-name,.user-profile .user-profile-fields .user-profile-field .user-profile-field-value{line-height:18px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding:.5em 1.5em;box-sizing:border-box}.user-profile .userlist-placeholder{-ms-flex-align:middle;align-items:middle;padding:2em}.user-profile .timeline-heading,.user-profile .userlist-placeholder{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.user-profile .timeline-heading .alert,.user-profile .timeline-heading .loadmore-button{-ms-flex:1;flex:1}.user-profile .timeline-heading .loadmore-button{height:28px;margin:10px .6em}.user-profile .timeline-heading .loadmore-text,.user-profile .timeline-heading .title{display:none}.user-profile-placeholder .panel-body{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:middle;align-items:middle;padding:7em}",""])},function(t,e,n){var i=n(494);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("ae955a70",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".follow-card-content-container{-ms-flex-negative:0;flex-shrink:0;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-wrap:wrap;flex-wrap:wrap;line-height:1.5em}.follow-card-follow-button{margin-top:.5em;margin-left:auto;width:10em}",""])},function(t,e,n){},function(t,e,n){},function(t,e,n){var i=n(498);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("354d66d6",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".search-result-heading{color:hsla(240,1%,73%,.5);color:var(--faint,hsla(240,1%,73%,.5));padding:.75rem;text-align:center}@media (max-width:800px){.search-nav-heading .tab-switcher .tabs .tab-wrapper{display:block;-ms-flex-pack:center;justify-content:center;-ms-flex:1 1 auto;flex:1 1 auto;text-align:center}}.search-result{box-sizing:border-box;border-bottom:1px solid;border-color:#222;border-color:var(--border,#222)}.search-result-footer{border-width:1px 0 0;border-style:solid;border-color:var(--border,#222);padding:10px;background-color:#182230;background-color:var(--panel,#182230)}.search-input-container{padding:.8rem;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.search-input-container .search-input{width:100%;line-height:1.125rem;font-size:1rem;padding:.5rem;box-sizing:border-box}.search-input-container .search-button{margin-left:.5em}.loading-icon{padding:1em}.trend{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.trend .hashtag{-ms-flex:1 1 auto;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.trend .count,.trend .hashtag{color:#b9b9ba;color:var(--text,#b9b9ba)}.trend .count{-ms-flex:0 0 auto;flex:0 0 auto;width:2rem;font-size:1.5rem;line-height:2.25rem;font-weight:500;text-align:center}",""])},function(t,e,n){var i=n(500);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("16815f76",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,'.registration-form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin:.6em}.registration-form .container{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.registration-form .terms-of-service{-ms-flex:0 1 50%;flex:0 1 50%;margin:.8em}.registration-form .text-fields{margin-top:.6em;-ms-flex:1 0;flex:1 0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.registration-form textarea{min-height:100px;resize:vertical}.registration-form .form-group{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:.3em 0;line-height:24px;margin-bottom:1em}.registration-form .form-group--error{animation-name:shakeError;animation-duration:.6s;animation-timing-function:ease-in-out}.registration-form .form-group--error .form--label{color:#f04124;color:var(--cRed,#f04124)}.registration-form .form-error{margin-top:-.7em;text-align:left}.registration-form .form-error span{font-size:12px}.registration-form .form-error ul{list-style:none;padding:0 0 0 5px;margin-top:0}.registration-form .form-error ul li:before{content:"\\2022   "}.registration-form form textarea{line-height:16px;resize:vertical}.registration-form .captcha{max-width:350px;margin-bottom:.4em}.registration-form .btn{margin-top:.6em;height:28px}.registration-form .error{text-align:center}@media (max-width:800px){.registration-form .container{-ms-flex-direction:column-reverse;flex-direction:column-reverse}}',""])},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var i=n(526);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("1ef4fd93",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".password-reset-form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;margin:.6em}.password-reset-form .container{display:-ms-flexbox;display:flex;-ms-flex:1 0;flex:1 0;-ms-flex-direction:column;flex-direction:column;margin-top:.6em;max-width:18rem}.password-reset-form .form-group{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin-bottom:1em;padding:.3em 0;line-height:24px}.password-reset-form .error{text-align:center;animation-name:shakeError;animation-duration:.4s;animation-timing-function:ease-in-out}.password-reset-form .alert{padding:.5em;margin:.3em 0 1em}.password-reset-form .password-reset-required{background-color:var(--alertError,rgba(211,16,20,.5));padding:10px 0}.password-reset-form .notice-dismissible{padding-right:2rem}.password-reset-form .dismiss{cursor:pointer}",""])},function(t,e,n){var i=n(528);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("ad510f10",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".follow-request-card-content-container{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap}.follow-request-card-content-container button{margin-top:.5em;margin-right:.5em;-ms-flex:1 1;flex:1 1;max-width:12em;min-width:8em}.follow-request-card-content-container button:last-child{margin-right:0}",""])},function(t,e,n){var i=n(530);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("42704024",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".login-form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:.6em}.login-form .btn{min-height:28px;width:10em}.login-form .register{-ms-flex:1 1;flex:1 1}.login-form .login-bottom{margin-top:1em;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.login-form .form-group{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:.3em .5em .6em;line-height:24px}.login-form .form-bottom{display:-ms-flexbox;display:flex;padding:.5em;height:32px}.login-form .form-bottom button{width:10em}.login-form .form-bottom p{margin:.35em;padding:.35em;display:-ms-flexbox;display:flex}.login-form .error{text-align:center;animation-name:shakeError;animation-duration:.4s;animation-timing-function:ease-in-out}",""])},function(t,e,n){var i=n(532);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("50606708",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".floating-shout{position:fixed;right:0;bottom:0;z-index:1000;max-width:25em}.shout-panel .shout-heading{cursor:pointer}.shout-panel .shout-heading .icon{color:#b9b9ba;color:var(--text,#b9b9ba);margin-right:.5em}.shout-panel .shout-heading .title{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.shout-panel .shout-window{overflow-y:auto;overflow-x:hidden;max-height:20em}.shout-panel .shout-window-container{height:100%}.shout-panel .shout-message{display:-ms-flexbox;display:flex;padding:.2em .5em}.shout-panel .shout-avatar img{height:24px;width:24px;border-radius:4px;border-radius:var(--avatarRadius,4px);margin-right:.5em;margin-top:.25em}.shout-panel .shout-input{display:-ms-flexbox;display:flex}.shout-panel .shout-input textarea{-ms-flex:1;flex:1;margin:.6em;min-height:3.5em;resize:none}.shout-panel .shout-panel .title{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}",""])},function(t,e,n){var i=n(534);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("c74f4f44",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(536);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("7dfaed97",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(538);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("55ca8508",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".features-panel li{line-height:24px}",""])},function(t,e,n){var i=n(540);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("42aabc98",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".tos-content{margin:1em}",""])},function(t,e,n){var i=n(542);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("5aa588af",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".staff-group{padding-left:1em;padding-top:1em}.staff-group .basic-user-card{padding-left:0}",""])},function(t,e,n){var i=n(544);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("72647543",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".mrf-section{margin:1em}",""])},function(t,e,n){var i=n(546);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("67a8aa3d",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,"",""])},function(t,e,n){var i=n(548);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("5c806d03",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,'#app{min-height:100vh;max-width:100%;overflow:hidden}.app-bg-wrapper{position:fixed;z-index:-1;height:100%;left:0;right:-20px;background-size:cover;background-repeat:no-repeat;background-color:var(--wallpaper);background-image:var(--body-background-image);background-position:50% 50px}i[class^=icon-]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}h4{margin:0}#content{box-sizing:border-box;padding-top:60px;margin:auto;min-height:100vh;max-width:980px;-ms-flex-line-pack:start;align-content:flex-start}.underlay{background-color:rgba(0,0,0,.15);background-color:var(--underlay,rgba(0,0,0,.15))}.text-center{text-align:center}html{font-size:14px}body{overscroll-behavior-y:none;font-family:sans-serif;font-family:var(--interfaceFont,sans-serif);margin:0;color:#b9b9ba;color:var(--text,#b9b9ba);max-width:100vw;overflow-x:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body.hidden{display:none}a{text-decoration:none;color:#d8a070;color:var(--link,#d8a070)}.button-default{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#182230;background-color:var(--btn,#182230);border:none;border-radius:4px;border-radius:var(--btnRadius,4px);cursor:pointer;box-shadow:0 0 2px 0 #000,inset 0 1px 0 0 hsla(0,0%,100%,.2),inset 0 -1px 0 0 rgba(0,0,0,.2);box-shadow:var(--buttonShadow);font-size:14px;font-family:sans-serif;font-family:var(--interfaceFont,sans-serif)}.button-default,.button-default .svg-inline--fa,.button-default i[class*=icon-]{color:#b9b9ba;color:var(--btnText,#b9b9ba)}.button-default::-moz-focus-inner{border:none}.button-default:hover{box-shadow:0 0 4px hsla(0,0%,100%,.3);box-shadow:var(--buttonHoverShadow)}.button-default:active{box-shadow:0 0 4px 0 hsla(0,0%,100%,.3),inset 0 1px 0 0 rgba(0,0,0,.2),inset 0 -1px 0 0 hsla(0,0%,100%,.2);box-shadow:var(--buttonPressedShadow);background-color:#182230;background-color:var(--btnPressed,#182230)}.button-default:active,.button-default:active i,.button-default:active svg{color:#b9b9ba;color:var(--btnPressedText,#b9b9ba)}.button-default:disabled{cursor:not-allowed;background-color:#182230;background-color:var(--btnDisabled,#182230)}.button-default:disabled,.button-default:disabled i,.button-default:disabled svg{color:#b9b9ba;color:var(--btnDisabledText,#b9b9ba)}.button-default.toggled{background-color:#182230;background-color:var(--btnToggled,#182230);box-shadow:0 0 4px 0 hsla(0,0%,100%,.3),inset 0 1px 0 0 rgba(0,0,0,.2),inset 0 -1px 0 0 hsla(0,0%,100%,.2);box-shadow:var(--buttonPressedShadow)}.button-default.toggled,.button-default.toggled i,.button-default.toggled svg{color:#b9b9ba;color:var(--btnToggledText,#b9b9ba)}.button-default.danger{color:#b9b9ba;color:var(--alertErrorPanelText,#b9b9ba);background-color:rgba(211,16,20,.5);background-color:var(--alertError,rgba(211,16,20,.5))}.button-unstyled{background:none;border:none;outline:none;display:inline;text-align:initial;font-size:100%;font-family:inherit;padding:0;line-height:unset;cursor:pointer;box-sizing:content-box;color:inherit}.button-unstyled.-link{color:#d8a070;color:var(--link,#d8a070)}.button-unstyled.-fullwidth{width:100%}.button-unstyled.-hover-highlight:hover svg{color:#b9b9ba;color:var(--lightText,#b9b9ba)}.input,input,textarea{border:none;border-radius:4px;border-radius:var(--inputRadius,4px);box-shadow:inset 0 1px 0 0 rgba(0,0,0,.2),inset 0 -1px 0 0 hsla(0,0%,100%,.2),inset 0 0 2px 0 #000;box-shadow:var(--inputShadow);background-color:#182230;background-color:var(--input,#182230);color:#b9b9ba;color:var(--inputText,#b9b9ba);font-family:sans-serif;font-family:var(--inputFont,sans-serif);font-size:14px;margin:0;box-sizing:border-box;display:inline-block;position:relative;height:28px;line-height:16px;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;padding:8px .5em}.input.unstyled,input.unstyled,textarea.unstyled{border-radius:0;background:none;box-shadow:none;height:unset}.input.disabled,.input:disabled,.input[disabled=disabled],input.disabled,input:disabled,input[disabled=disabled],textarea.disabled,textarea:disabled,textarea[disabled=disabled]{cursor:not-allowed;opacity:.5}.input[type=range],input[type=range],textarea[type=range]{background:none;border:none;margin:0;box-shadow:none;-ms-flex:1;flex:1}.input[type=radio],input[type=radio],textarea[type=radio]{display:none}.input[type=radio]:checked+label:before,input[type=radio]:checked+label:before,textarea[type=radio]:checked+label:before{box-shadow:inset 0 0 2px #000,inset 0 0 0 4px #182230;box-shadow:var(--inputShadow),0 0 0 4px var(--fg,#182230) inset;background-color:var(--accent,#d8a070)}.input[type=radio]:disabled,.input[type=radio]:disabled+label,.input[type=radio]:disabled+label:before,input[type=radio]:disabled,input[type=radio]:disabled+label,input[type=radio]:disabled+label:before,textarea[type=radio]:disabled,textarea[type=radio]:disabled+label,textarea[type=radio]:disabled+label:before{opacity:.5}.input[type=radio]+label:before,input[type=radio]+label:before,textarea[type=radio]+label:before{-ms-flex-negative:0;flex-shrink:0;display:inline-block;content:"";transition:box-shadow .2s;width:1.1em;height:1.1em;border-radius:100%;box-shadow:inset 0 0 2px #000;box-shadow:var(--inputShadow);margin-right:.5em;background-color:#182230;background-color:var(--input,#182230);vertical-align:top;text-align:center;line-height:1.1em;font-size:1.1em;color:transparent;overflow:hidden;box-sizing:border-box}.input[type=checkbox],input[type=checkbox],textarea[type=checkbox]{display:none}.input[type=checkbox]:checked+label:before,input[type=checkbox]:checked+label:before,textarea[type=checkbox]:checked+label:before{color:#b9b9ba;color:var(--inputText,#b9b9ba)}.input[type=checkbox]:disabled,.input[type=checkbox]:disabled+label,.input[type=checkbox]:disabled+label:before,input[type=checkbox]:disabled,input[type=checkbox]:disabled+label,input[type=checkbox]:disabled+label:before,textarea[type=checkbox]:disabled,textarea[type=checkbox]:disabled+label,textarea[type=checkbox]:disabled+label:before{opacity:.5}.input[type=checkbox]+label:before,input[type=checkbox]+label:before,textarea[type=checkbox]+label:before{-ms-flex-negative:0;flex-shrink:0;display:inline-block;content:"\\2713";transition:color .2s;width:1.1em;height:1.1em;border-radius:2px;border-radius:var(--checkboxRadius,2px);box-shadow:inset 0 0 2px #000;box-shadow:var(--inputShadow);margin-right:.5em;background-color:#182230;background-color:var(--input,#182230);vertical-align:top;text-align:center;line-height:1.1em;font-size:1.1em;color:transparent;overflow:hidden;box-sizing:border-box}.input.resize-height,input.resize-height,textarea.resize-height{resize:vertical}option{color:#b9b9ba;color:var(--text,#b9b9ba);background-color:#121a24;background-color:var(--bg,#121a24)}.hide-number-spinner{-moz-appearance:textfield}.hide-number-spinner[type=number]::-webkit-inner-spin-button,.hide-number-spinner[type=number]::-webkit-outer-spin-button{opacity:0;display:none}.svg-inline--fa,i[class*=icon-]{color:#666;color:var(--icon,#666)}.btn-block{display:block;width:100%}.btn-group{position:relative;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.btn-group button{position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.btn-group button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group button:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.container{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0;padding:0 10px}.auto-size,main-router{-ms-flex:1;flex:1}.status.compact{color:rgba(0,0,0,.42);font-weight:300}.status.compact p{margin:0;font-size:.8em}.panel{display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;margin:.5em;background-color:#121a24;background-color:var(--bg,#121a24)}.panel,.panel:after{border-radius:10px;border-radius:var(--panelRadius,10px)}.panel:after{content:"";position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;box-shadow:1px 1px 4px rgba(0,0,0,.6);box-shadow:var(--panelShadow)}.panel-body:empty:before{content:"\\AF\\\\_(\\30C4)_/\\AF";display:block;margin:1em;text-align:center}.panel-heading{display:-ms-flexbox;display:flex;-ms-flex:none;flex:none;border-radius:10px 10px 0 0;border-radius:var(--panelRadius,10px) var(--panelRadius,10px) 0 0;background-size:cover;padding:.6em;text-align:left;line-height:28px;color:var(--panelText);background-color:#182230;background-color:var(--panel,#182230);-ms-flex-align:baseline;align-items:baseline;box-shadow:var(--panelHeaderShadow)}.panel-heading .title{-ms-flex:1 0 auto;flex:1 0 auto;font-size:1.3em}.panel-heading .faint{background-color:transparent;color:hsla(240,1%,73%,.5);color:var(--panelFaint,hsla(240,1%,73%,.5))}.panel-heading .faint-link{color:hsla(240,1%,73%,.5);color:var(--faintLink,hsla(240,1%,73%,.5))}.panel-heading .alert{white-space:nowrap;text-overflow:ellipsis;overflow-x:hidden}.panel-heading .alert,.panel-heading .button-default{line-height:21px;min-height:0;box-sizing:border-box;margin:0;margin-left:.5em;min-width:1px;-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.panel-heading .button-default{-ms-flex-negative:0;flex-shrink:0}.panel-heading .button-default,.panel-heading .button-default i[class*=icon-]{color:#b9b9ba;color:var(--btnPanelText,#b9b9ba)}.panel-heading .button-default:active{background-color:#182230;background-color:var(--btnPressedPanel,#182230);color:#b9b9ba;color:var(--btnPressedPanelText,#b9b9ba)}.panel-heading .button-default:disabled{color:#b9b9ba;color:var(--btnDisabledPanelText,#b9b9ba)}.panel-heading .button-default.toggled{color:#b9b9ba;color:var(--btnToggledPanelText,#b9b9ba)}.panel-heading .-link,.panel-heading a{color:#d8a070;color:var(--panelLink,#d8a070)}.panel-heading.stub{border-radius:10px;border-radius:var(--panelRadius,10px)}.panel-footer,.timeline-footer{display:-ms-flexbox;display:flex;border-radius:0 0 10px 10px;border-radius:0 0 var(--panelRadius,10px) var(--panelRadius,10px);-ms-flex:none;flex:none;padding:.6em;text-align:left;line-height:28px;-ms-flex-align:baseline;align-items:baseline;border-width:1px 0 0;border-style:solid;border-color:var(--border,#222)}.panel-footer .faint,.timeline-footer .faint{color:hsla(240,1%,73%,.5);color:var(--panelFaint,hsla(240,1%,73%,.5))}.panel-footer .-link,.panel-footer a,.timeline-footer .-link,.timeline-footer a{color:#d8a070;color:var(--panelLink,#d8a070)}.panel-body>p{line-height:18px;padding:1em;margin:0}.container>*{min-width:0}.fa{color:grey}nav{z-index:1000;color:var(--topBarText);background-color:#182230;background-color:var(--topBar,#182230);color:hsla(240,1%,73%,.5);color:var(--faint,hsla(240,1%,73%,.5));box-shadow:0 0 4px rgba(0,0,0,.6);box-shadow:var(--topBarShadow);box-sizing:border-box}.fade-enter-active,.fade-leave-active{transition:opacity .2s}.fade-enter,.fade-leave-active{opacity:0}.main{-ms-flex-preferred-size:50%;flex-basis:50%;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1}.sidebar-bounds{-ms-flex:0;flex:0;-ms-flex-preferred-size:35%;flex-basis:35%}.sidebar-flexer{-ms-flex:1;flex:1;-ms-flex-preferred-size:345px;flex-basis:345px;width:365px}.mobile-shown{display:none}@media (min-width:800px){body{overflow-y:scroll}.sidebar-bounds{overflow:hidden;max-height:100vh;width:345px;position:fixed;margin-top:-10px}.sidebar-bounds .sidebar-scroller{height:96vh;width:365px;padding-top:10px;padding-right:50px;overflow-x:hidden;overflow-y:scroll}.sidebar-bounds .sidebar{width:345px}.sidebar-flexer{max-height:96vh;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}}.badge{box-sizing:border-box;display:inline-block;border-radius:99px;max-width:10em;min-width:1.7em;height:1.3em;padding:.15em;vertical-align:middle;font-weight:400;font-style:normal;font-size:.9em;line-height:1;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.badge.badge-notification{background-color:red;background-color:var(--badgeNotification,red);color:#fff;color:var(--badgeNotificationText,#fff)}.alert{margin:.35em;padding:.25em;border-radius:5px;border-radius:var(--tooltipRadius,5px);min-height:28px;line-height:28px}.alert.error{background-color:rgba(211,16,20,.5);background-color:var(--alertError,rgba(211,16,20,.5));color:#b9b9ba;color:var(--alertErrorText,#b9b9ba)}.panel-heading .alert.error{color:#b9b9ba;color:var(--alertErrorPanelText,#b9b9ba)}.alert.warning{background-color:rgba(111,111,20,.5);background-color:var(--alertWarning,rgba(111,111,20,.5));color:#b9b9ba;color:var(--alertWarningText,#b9b9ba)}.panel-heading .alert.warning{color:#b9b9ba;color:var(--alertWarningPanelText,#b9b9ba)}.alert.success{background-color:var(--alertSuccess,rgba(111,111,20,.5));color:var(--alertSuccessText,#b9b9ba)}.panel-heading .alert.success{color:var(--alertSuccessPanelText,#b9b9ba)}.faint,.faint-link{color:hsla(240,1%,73%,.5);color:var(--faint,hsla(240,1%,73%,.5))}.faint-link:hover{text-decoration:underline}.visibility-notice{padding:.5em;border:1px solid hsla(240,1%,73%,.5);border:1px solid var(--faint,hsla(240,1%,73%,.5));border-radius:4px;border-radius:var(--inputRadius,4px)}.notice-dismissible{padding-right:4rem;position:relative}.notice-dismissible .dismiss{position:absolute;top:0;right:0;padding:.5em;color:inherit}.fa-scale-110.svg-inline--fa{font-size:1.1em}.fa-old-padding.svg-inline--fa{padding:0 .3em}@keyframes shakeError{0%{transform:translateX(0)}15%{transform:translateX(.375rem)}30%{transform:translateX(-.375rem)}45%{transform:translateX(.375rem)}60%{transform:translateX(-.375rem)}75%{transform:translateX(.375rem)}90%{transform:translateX(-.375rem)}to{transform:translateX(0)}}@media (max-width:800px){.mobile-hidden{display:none}.panel-switcher{display:-ms-flexbox;display:flex}.container{padding:0}.panel{margin:.5em 0}.menu-button{display:block;margin-right:.8em}.main{margin-bottom:7em}}.option-list,.setting-list{list-style-type:none;padding-left:2em}.option-list li,.setting-list li{margin-bottom:.5em}.option-list .suboptions,.setting-list .suboptions{margin-top:.3em}.login-hint{text-align:center}@media (min-width:801px){.login-hint{display:none}}.login-hint a{display:inline-block;padding:1em 0;width:100%}.btn.button-default{min-height:28px}.animate-spin{animation:spin 2s infinite linear;display:inline-block}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.new-status-notification{position:relative;font-size:1.1em;z-index:1;-ms-flex:1;flex:1}.chat-layout{height:100%}.chat-layout,.chat-layout body{overflow:hidden}@media (max-width:800px){.chat-layout body{height:100%}.chat-layout #app{height:100%;overflow:hidden;min-height:auto}.chat-layout #app_bg_wrapper{overflow:hidden}.chat-layout .main{overflow:hidden;height:100%}.chat-layout #content{padding-top:0;height:100%;overflow:visible}}',""])},function(t,e,n){var i=n(550);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("04d46dee",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".user-panel .signed-in{overflow:visible}",""])},function(t,e,n){var i=n(552);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("b030addc",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".NavPanel .panel{overflow:hidden;box-shadow:var(--panelShadow)}.NavPanel ul{list-style:none;margin:0;padding:0}.NavPanel li{position:relative;border-bottom:1px solid;border-color:#222;border-color:var(--border,#222);padding:0}.NavPanel li:first-child .menu-item{border-top-right-radius:10px;border-top-right-radius:var(--panelRadius,10px);border-top-left-radius:10px;border-top-left-radius:var(--panelRadius,10px)}.NavPanel li:last-child .menu-item{border-bottom-right-radius:10px;border-bottom-right-radius:var(--panelRadius,10px);border-bottom-left-radius:10px;border-bottom-left-radius:var(--panelRadius,10px)}.NavPanel li:last-child{border:none}.NavPanel .menu-item{display:block;box-sizing:border-box;height:3.5em;line-height:3.5em;padding:0 1em;width:100%;color:#d8a070;color:var(--link,#d8a070)}.NavPanel .menu-item:hover{color:#d8a070;color:var(--selectedMenuText,#d8a070)}.NavPanel .menu-item.router-link-active,.NavPanel .menu-item:hover{background-color:#151e2a;background-color:var(--selectedMenu,#151e2a);--faint:var(--selectedMenuFaintText,$fallback--faint);--faintLink:var(--selectedMenuFaintLink,$fallback--faint);--lightText:var(--selectedMenuLightText,$fallback--lightText);--icon:var(--selectedMenuIcon,$fallback--icon)}.NavPanel .menu-item.router-link-active{font-weight:bolder;color:#b9b9ba;color:var(--selectedMenuText,#b9b9ba)}.NavPanel .menu-item.router-link-active:hover{text-decoration:underline}.NavPanel .timelines-chevron{margin-left:.8em;font-size:1.1em}.NavPanel .timelines-background{padding:0 0 0 .6em;background-color:#151e2a;background-color:var(--selectedMenu,#151e2a);border-top:1px solid;border-color:#222;border-color:var(--border,#222)}.NavPanel .timelines{background-color:#121a24;background-color:var(--bg,#121a24)}.NavPanel .fa-scale-110{margin-right:.8em}.NavPanel .badge{position:absolute;right:.6rem;top:1.25em}",""])},function(t,e,n){var i=n(554);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("2f18dd03",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".who-to-follow *{vertical-align:middle}.who-to-follow img{width:32px;height:32px}.who-to-follow{padding:0 1em;margin:0}.who-to-follow-items{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0;margin:1em 0}.who-to-follow-more{padding:0;margin:1em 0;text-align:center}",""])},,,,function(t,e,n){var i=n(559);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("7272e6fe",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".settings-modal{overflow:hidden}.settings-modal.peek .settings-modal-panel{transform:translateY(calc(((100vh - 100%) / 2 + 100%) - 50px))}@media (max-width:800px){.settings-modal.peek .settings-modal-panel{transform:translateY(calc(100% - 50px))}}.settings-modal .settings-modal-panel{overflow:hidden;transition:transform;transition-timing-function:ease-in-out;transition-duration:.3s;width:1000px;max-width:90vw;height:90vh}@media (max-width:800px){.settings-modal .settings-modal-panel{max-width:100vw;height:100%}}.settings-modal .settings-modal-panel>.panel-body{height:100%;overflow-y:hidden}.settings-modal .settings-modal-panel>.panel-body .btn{min-height:28px;min-width:10em;padding:0 2em}",""])},function(t,e,n){var i=n(561);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("f7395e92",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".modal-view{z-index:1000;position:fixed;top:0;left:0;right:0;bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;overflow:auto;pointer-events:none;animation-duration:.2s;animation-name:modal-background-fadein;opacity:0}.modal-view>*{pointer-events:auto}.modal-view.modal-background{pointer-events:auto;background-color:rgba(0,0,0,.5)}.modal-view.open{opacity:1}@keyframes modal-background-fadein{0%{background-color:transparent}to{background-color:rgba(0,0,0,.5)}}",""])},function(t,e,n){var i=n(563);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("1c82888b",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".panel-loading{display:-ms-flexbox;display:flex;height:100%;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;font-size:2em;color:#b9b9ba;color:var(--text,#b9b9ba)}.panel-loading .loading-text svg{line-height:0;vertical-align:middle;color:#b9b9ba;color:var(--text,#b9b9ba)}",""])},function(t,e,n){var i=n(565);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("2970b266",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".async-component-error{display:-ms-flexbox;display:flex;height:100%;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.async-component-error .btn{margin:.5em;padding:.5em 2em}",""])},function(t,e,n){var i=n(567);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("23b00cfc",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".modal-view.media-modal-view{z-index:1001}.modal-view.media-modal-view .modal-view-button-arrow{opacity:.75}.modal-view.media-modal-view .modal-view-button-arrow:focus,.modal-view.media-modal-view .modal-view-button-arrow:hover{outline:none;box-shadow:none}.modal-view.media-modal-view .modal-view-button-arrow:hover{opacity:1}@keyframes media-fadein{0%{opacity:0}to{opacity:1}}.modal-image{max-width:90%;max-height:90%;box-shadow:0 5px 15px 0 rgba(0,0,0,.5);image-orientation:from-image;animation:.1s cubic-bezier(.7,0,1,.6) media-fadein}.modal-view-button-arrow{position:absolute;display:block;top:50%;margin-top:-50px;width:70px;height:100px;border:0;padding:0;opacity:0;box-shadow:none;background:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;overflow:visible;cursor:pointer;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.modal-view-button-arrow .arrow-icon{position:absolute;top:35px;height:30px;width:32px;font-size:14px;line-height:30px;color:#fff;text-align:center;background-color:rgba(0,0,0,.3)}.modal-view-button-arrow--prev{left:0}.modal-view-button-arrow--prev .arrow-icon{left:6px}.modal-view-button-arrow--next{right:0}.modal-view-button-arrow--next .arrow-icon{right:6px}",""])},function(t,e,n){var i=n(569);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("34992fba",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".side-drawer-container{position:fixed;z-index:1000;top:0;left:0;width:100%;height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch;transition-duration:0s;transition-property:transform}.side-drawer-container-open{transform:translate(0)}.side-drawer-container-closed{transition-delay:.35s;transform:translate(-100%)}.side-drawer-darken{top:0;left:0;width:100vw;height:100vh;position:fixed;z-index:-1;transition:.35s;transition-property:background-color;background-color:rgba(0,0,0,.5)}.side-drawer-darken-closed{background-color:transparent}.side-drawer-click-outside{-ms-flex:1 1 100%;flex:1 1 100%}.side-drawer{overflow-x:hidden;transition-timing-function:cubic-bezier(0,1,.5,1);transition:.35s;transition-property:transform;margin:0 0 0 -100px;padding:0 0 1em 100px;width:80%;max-width:20em;-ms-flex:0 0 80%;flex:0 0 80%;box-shadow:1px 1px 4px rgba(0,0,0,.6);box-shadow:var(--panelShadow);background-color:#121a24;background-color:var(--popover,#121a24);color:#d8a070;color:var(--popoverText,#d8a070);--faint:var(--popoverFaintText,$fallback--faint);--faintLink:var(--popoverFaintLink,$fallback--faint);--lightText:var(--popoverLightText,$fallback--lightText);--icon:var(--popoverIcon,$fallback--icon)}.side-drawer .badge{margin-left:10px}.side-drawer-logo-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:.85em}.side-drawer-logo-wrapper img{-ms-flex:none;flex:none;height:50px;margin-right:.85em}.side-drawer-logo-wrapper span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.side-drawer-click-outside-closed{-ms-flex:0 0 0px;flex:0 0 0}.side-drawer-closed{transform:translate(-100%)}.side-drawer-heading{background:transparent;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch;display:-ms-flexbox;display:flex;padding:0;margin:0}.side-drawer ul{list-style:none;margin:0;padding:0;border-bottom:1px solid;border-color:#222;border-color:var(--border,#222)}.side-drawer ul:last-child{border:0}.side-drawer li{padding:0}.side-drawer li a,.side-drawer li button{box-sizing:border-box;display:block;height:3em;line-height:3em;padding:0 .7em}.side-drawer li a:hover,.side-drawer li button:hover{background-color:#151e2a;background-color:var(--selectedMenuPopover,#151e2a);color:#b9b9ba;color:var(--selectedMenuPopoverText,#b9b9ba);--faint:var(--selectedMenuPopoverFaintText,$fallback--faint);--faintLink:var(--selectedMenuPopoverFaintLink,$fallback--faint);--lightText:var(--selectedMenuPopoverLightText,$fallback--lightText);--icon:var(--selectedMenuPopoverIcon,$fallback--icon)}",""])},function(t,e,n){var i=n(571);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("7f8eca07",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".new-status-button{width:5em;height:5em;border-radius:100%;position:fixed;bottom:1.5em;right:1.5em;background-color:#182230;background-color:var(--btn,#182230);display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;box-shadow:0 2px 2px rgba(0,0,0,.3),0 4px 6px rgba(0,0,0,.3);z-index:10;transition:transform .35s;transition-timing-function:cubic-bezier(0,1,.5,1)}.new-status-button.hidden{transform:translateY(150%)}.new-status-button svg{font-size:1.5em;color:#b9b9ba;color:var(--text,#b9b9ba)}@media (min-width:801px){.new-status-button{display:none}}",""])},function(t,e,n){var i=n(573);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("1e0fbcf8",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".MobileNav .mobile-nav{display:-ms-grid;display:grid;line-height:50px;height:50px;-ms-grid-rows:50px;grid-template-rows:50px;-ms-grid-columns:2fr auto;grid-template-columns:2fr auto;width:100%;position:fixed;box-sizing:border-box}.MobileNav .mobile-inner-nav{width:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.MobileNav .mobile-nav-button{display:inline-block;text-align:center;padding:0 1em;position:relative;cursor:pointer}.MobileNav .site-name{padding:0 .3em;display:inline-block}.MobileNav .item{display:-ms-flexbox;display:flex}.MobileNav .alert-dot{border-radius:100%;height:8px;width:8px;position:absolute;left:calc(50% - 4px);top:calc(50% - 4px);margin-left:6px;margin-top:-6px;background-color:red;background-color:var(--badgeNotification,red)}.MobileNav .mobile-notifications-drawer{width:100%;height:100vh;overflow-x:hidden;position:fixed;top:0;left:0;box-shadow:1px 1px 4px rgba(0,0,0,.6);box-shadow:var(--panelShadow);transition-property:transform;transition-duration:.25s;transform:translateX(0);z-index:1001;-webkit-overflow-scrolling:touch}.MobileNav .mobile-notifications-drawer.closed{transform:translateX(100%)}.MobileNav .mobile-notifications-header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;z-index:1;width:100%;height:50px;line-height:50px;position:absolute;color:var(--topBarText);background-color:#182230;background-color:var(--topBar,#182230);box-shadow:0 0 4px rgba(0,0,0,.6);box-shadow:var(--topBarShadow)}.MobileNav .mobile-notifications-header .title{font-size:1.3em;margin-left:.6em}.MobileNav .mobile-notifications{margin-top:50px;width:100vw;height:calc(100vh - 50px);overflow-x:hidden;overflow-y:scroll;color:#b9b9ba;color:var(--text,#b9b9ba);background-color:#121a24;background-color:var(--bg,#121a24)}.MobileNav .mobile-notifications .notifications{padding:0;border-radius:0;box-shadow:none}.MobileNav .mobile-notifications .notifications .panel{border-radius:0;margin:0;box-shadow:none}.MobileNav .mobile-notifications .notifications .panel:after{border-radius:0}.MobileNav .mobile-notifications .notifications .panel .panel-heading{border-radius:0;box-shadow:none}",""])},function(t,e,n){var i=n(575);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("385f563e",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,'.DesktopNav{height:50px;width:100%;position:fixed}.DesktopNav a{color:var(--topBarLink,#d8a070)}.DesktopNav .inner-nav{display:-ms-grid;display:grid;-ms-grid-rows:50px;grid-template-rows:50px;-ms-grid-columns:2fr auto 2fr;grid-template-columns:2fr auto 2fr;grid-template-areas:"sitename logo actions";box-sizing:border-box;padding:0 1.2em;margin:auto;max-width:980px}.DesktopNav.-logoLeft{-ms-grid-columns:auto 2fr 2fr;grid-template-columns:auto 2fr 2fr;grid-template-areas:"logo sitename actions"}.DesktopNav .button-default,.DesktopNav .button-default svg{color:#b9b9ba;color:var(--btnTopBarText,#b9b9ba)}.DesktopNav .button-default:active{background-color:#182230;background-color:var(--btnPressedTopBar,#182230);color:#b9b9ba;color:var(--btnPressedTopBarText,#b9b9ba)}.DesktopNav .button-default:disabled{color:#b9b9ba;color:var(--btnDisabledTopBarText,#b9b9ba)}.DesktopNav .button-default.toggled{color:#b9b9ba;color:var(--btnToggledTopBarText,#b9b9ba);background-color:#182230;background-color:var(--btnToggledTopBar,#182230)}.DesktopNav .logo{grid-area:logo;position:relative;transition:opacity;transition-timing-function:ease-out;transition-duration:.1s}@media (min-width:800px){.DesktopNav .logo{opacity:1!important}}.DesktopNav .logo .mask{-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center;-webkit-mask-size:contain;mask-size:contain;background-color:#182230;background-color:var(--topBarText,#182230);position:absolute;top:0;bottom:0;left:0;right:0}.DesktopNav .logo img{display:inline-block;height:50px}.DesktopNav .nav-icon{margin-left:.2em;width:2em;height:100%;text-align:center}.DesktopNav .nav-icon .svg-inline--fa{color:#d8a070;color:var(--topBarLink,#d8a070)}.DesktopNav .sitename{grid-area:sitename}.DesktopNav .actions{grid-area:actions}.DesktopNav .item{-ms-flex:1;flex:1;line-height:50px;height:50px;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.DesktopNav .item.right{-ms-flex-pack:end;justify-content:flex-end;text-align:right}',""])},function(t,e,n){var i=n(577);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("0ea9aafc",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".SearchBar{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:baseline;align-items:baseline;vertical-align:baseline;-ms-flex-pack:end;justify-content:flex-end}.SearchBar.-expanded{width:100%}.SearchBar .search-bar-input,.SearchBar .search-button{height:29px}.SearchBar .search-bar-input{-ms-flex:1 0 auto;flex:1 0 auto}.SearchBar .cancel-search{height:50px}.SearchBar .cancel-icon{color:#b9b9ba;color:var(--btnTopBarText,#b9b9ba)}",""])},function(t,e,n){var i=n(579);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("10c04f96",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".user-reporting-panel{width:90vw;max-width:700px;min-height:20vh;max-height:80vh}.user-reporting-panel .panel-heading .title{text-align:center;-ms-flex:1;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-reporting-panel .panel-body{display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;border-top:1px solid;border-color:#222;border-color:var(--border,#222);overflow:hidden}.user-reporting-panel-left{padding:1.1em .7em .7em;line-height:1.4em;box-sizing:border-box}.user-reporting-panel-left>div{margin-bottom:1em}.user-reporting-panel-left>div:last-child{margin-bottom:0}.user-reporting-panel-left p{margin-top:0}.user-reporting-panel-left textarea.form-control{line-height:16px;resize:none;overflow:hidden;transition:min-height .2s .1s;min-height:44px;width:100%}.user-reporting-panel-left .btn{min-width:10em;padding:0 2em}.user-reporting-panel-left .alert{margin:1em 0 0;line-height:1.3em}.user-reporting-panel-right{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow-y:auto}.user-reporting-panel-sitem{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.user-reporting-panel-sitem>.Status{-ms-flex:1;flex:1}.user-reporting-panel-sitem>.checkbox{margin:.75em}@media (min-width:801px){.user-reporting-panel .panel-body{-ms-flex-direction:row;flex-direction:row}.user-reporting-panel-left{width:50%;max-width:320px;border-right:1px solid;border-color:#222;border-color:var(--border,#222);padding:1.1em}.user-reporting-panel-left>div{margin-bottom:2em}.user-reporting-panel-right{width:50%;-ms-flex:1 1 auto;flex:1 1 auto;margin-bottom:12px}}",""])},function(t,e,n){var i=n(581);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("7628c2ae",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".modal-view.post-form-modal-view{-ms-flex-align:start;align-items:flex-start}.post-form-modal-panel{-ms-flex-negative:0;flex-shrink:0;margin-top:25%;margin-bottom:2em;width:100%;max-width:700px}@media (orientation:landscape){.post-form-modal-panel{margin-top:8%}}",""])},function(t,e,n){var i=n(583);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(7).default)("cdffaf96",i,!0,{})},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".global-notice-list{position:fixed;top:50px;width:100%;pointer-events:none;z-index:1001;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center}.global-notice-list .global-notice{pointer-events:auto;text-align:center;width:40em;max-width:calc(100% - 3em);display:-ms-flexbox;display:flex;padding-left:1.5em;line-height:2em}.global-notice-list .global-notice .notice-message{-ms-flex:1 1 100%;flex:1 1 100%}.global-notice-list .global-notice i{-ms-flex:0 0;flex:0 0;width:1.5em;cursor:pointer}.global-notice-list .global-error{background-color:var(--alertPopupError,red)}.global-notice-list .global-error,.global-notice-list .global-error .svg-inline--fa{color:var(--alertPopupErrorText,#b9b9ba)}.global-notice-list .global-warning{background-color:var(--alertPopupWarning,orange)}.global-notice-list .global-warning,.global-notice-list .global-warning .svg-inline--fa{color:var(--alertPopupWarningText,#b9b9ba)}.global-notice-list .global-success{background-color:var(--alertPopupSuccess,#0fa00f)}.global-notice-list .global-success,.global-notice-list .global-success .svg-inline--fa{color:var(--alertPopupSuccessText,#b9b9ba)}.global-notice-list .global-info{background-color:var(--alertPopupNeutral,#182230)}.global-notice-list .global-info,.global-notice-list .global-info .svg-inline--fa{color:var(--alertPopupNeutralText,#b9b9ba)}.global-notice-list .close-notice{padding-right:.2em}.global-notice-list .close-notice .svg-inline--fa:hover{opacity:.6}",""])},function(t,e,n){"use strict";n.r(e);var i=n(5),o=n.n(i),r=n(8),s=n.n(r),a=n(118),c=n(4),l=(n(242),n(210));try{new EventTarget}catch(t){window.EventTarget=l.a}var u={state:{settingsModalState:"hidden",settingsModalLoaded:!1,settingsModalTargetTab:null,settings:{currentSaveStateNotice:null,noticeClearTimeout:null,notificationPermission:null},browserSupport:{cssFilter:window.CSS&&window.CSS.supports&&(window.CSS.supports("filter","drop-shadow(0 0)")||window.CSS.supports("-webkit-filter","drop-shadow(0 0)"))},mobileLayout:!1,globalNotices:[],layoutHeight:0,lastTimeline:null},mutations:{settingsSaved:function(t,e){var n=e.success,i=e.error;n?(t.noticeClearTimeout&&clearTimeout(t.noticeClearTimeout),Object(r.set)(t.settings,"currentSaveStateNotice",{error:!1,data:n}),Object(r.set)(t.settings,"noticeClearTimeout",setTimeout((function(){return Object(r.delete)(t.settings,"currentSaveStateNotice")}),2e3))):Object(r.set)(t.settings,"currentSaveStateNotice",{error:!0,errorData:i})},setNotificationPermission:function(t,e){t.notificationPermission=e},setMobileLayout:function(t,e){t.mobileLayout=e},closeSettingsModal:function(t){t.settingsModalState="hidden"},togglePeekSettingsModal:function(t){switch(t.settingsModalState){case"minimized":return void(t.settingsModalState="visible");case"visible":return void(t.settingsModalState="minimized");default:throw new Error("Illegal minimization state of settings modal")}},openSettingsModal:function(t){t.settingsModalState="visible",t.settingsModalLoaded||(t.settingsModalLoaded=!0)},setSettingsModalTargetTab:function(t,e){t.settingsModalTargetTab=e},pushGlobalNotice:function(t,e){t.globalNotices.push(e)},removeGlobalNotice:function(t,e){t.globalNotices=t.globalNotices.filter((function(t){return t!==e}))},setLayoutHeight:function(t,e){t.layoutHeight=e},setLastTimeline:function(t,e){t.lastTimeline=e}},actions:{setPageTitle:function(t){var e=t.rootState,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";document.title="".concat(n," ").concat(e.instance.name)},settingsSaved:function(t,e){var n=t.commit;t.dispatch;n("settingsSaved",{success:e.success,error:e.error})},setNotificationPermission:function(t,e){(0,t.commit)("setNotificationPermission",e)},setMobileLayout:function(t,e){(0,t.commit)("setMobileLayout",e)},closeSettingsModal:function(t){(0,t.commit)("closeSettingsModal")},openSettingsModal:function(t){(0,t.commit)("openSettingsModal")},togglePeekSettingsModal:function(t){(0,t.commit)("togglePeekSettingsModal")},clearSettingsModalTargetTab:function(t){(0,t.commit)("setSettingsModalTargetTab",null)},openSettingsModalTab:function(t,e){var n=t.commit;n("setSettingsModalTargetTab",e),n("openSettingsModal")},pushGlobalNotice:function(t,e){var n=t.commit,i=t.dispatch,o=e.messageKey,r=e.messageArgs,s=void 0===r?{}:r,a=e.level,c=void 0===a?"error":a,l=e.timeout,u=void 0===l?0:l,d={messageKey:o,messageArgs:s,level:c};return u&&setTimeout((function(){return i("removeGlobalNotice",d)}),u),n("pushGlobalNotice",d),d},removeGlobalNotice:function(t,e){(0,t.commit)("removeGlobalNotice",e)},setLayoutHeight:function(t,e){(0,t.commit)("setLayoutHeight",e)},setLastTimeline:function(t,e){(0,t.commit)("setLastTimeline",e)}}},d=n(13),p=n.n(d),f=n(2),h=n.n(f),m=n(9),g=n.n(m),v=n(35),b=n(43),w=n(11),_=n(105);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var x={state:{name:"Pleroma FE",registrationOpen:!0,server:"http://localhost:4040/",textlimit:5e3,themeData:void 0,vapidPublicKey:void 0,alwaysShowSubjectInput:!0,defaultAvatar:"/images/avi.png",defaultBanner:"/images/banner.png",background:"/static/aurora_borealis.jpg",collapseMessageWithSubject:!1,greentext:!1,hideFilteredStatuses:!1,hideMutedPosts:!1,hidePostStats:!1,hideSitename:!1,hideUserStats:!1,loginMethod:"password",logo:"/static/logo.svg",logoMargin:".2em",logoMask:!0,logoLeft:!1,minimalScopesMode:!1,nsfwCensorImage:void 0,postContentType:"text/plain",redirectRootLogin:"/main/friends",redirectRootNoLogin:"/main/all",scopeCopy:!0,showFeaturesPanel:!0,showInstanceSpecificPanel:!1,sidebarRight:!1,subjectLineBehavior:"email",theme:"pleroma-dark",virtualScrolling:!0,sensitiveByDefault:!1,customEmoji:[],customEmojiFetched:!1,emoji:[],emojiFetched:!1,pleromaBackend:!0,postFormats:[],restrictedNicknames:[],safeDM:!0,knownDomains:[],shoutAvailable:!1,pleromaChatMessagesAvailable:!1,gopherAvailable:!1,mediaProxyAvailable:!1,suggestionsEnabled:!1,suggestionsWeb:"",instanceSpecificPanelContent:"",tos:"",backendVersion:"",frontendVersion:"",pollsAvailable:!1,pollLimits:{max_options:4,max_option_chars:255,min_expiration:60,max_expiration:86400}},mutations:{setInstanceOption:function(t,e){var n=e.name,i=e.value;void 0!==i&&Object(r.set)(t,n,i)},setKnownDomains:function(t,e){t.knownDomains=e}},getters:{instanceDefaultConfig:function(t){return _.c.map((function(e){return[e,t[e]]})).reduce((function(t,e){var n=g()(e,2),i=n[0],o=n[1];return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,h()({},i,o))}),{})}},actions:{setInstanceOption:function(t,e){var n=t.commit,i=t.dispatch,o=e.name,r=e.value;switch(n("setInstanceOption",{name:o,value:r}),o){case"name":i("setPageTitle");break;case"shoutAvailable":r&&i("initializeSocket");break;case"theme":i("setTheme",r)}},getStaticEmoji:function(t){var e,n,i,r;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=t.commit,s.prev=1,s.next=4,o.a.awrap(window.fetch("/static/emoji.json"));case 4:if(!(n=s.sent).ok){s.next=13;break}return s.next=8,o.a.awrap(n.json());case 8:i=s.sent,r=Object.keys(i).map((function(t){return{displayText:t,imageUrl:!1,replacement:i[t]}})).sort((function(t,e){return t.name>e.name?1:-1})),e("setInstanceOption",{name:"emoji",value:r}),s.next=14;break;case 13:throw n;case 14:s.next=20;break;case 16:s.prev=16,s.t0=s.catch(1),console.warn("Can't load static emoji"),console.warn(s.t0);case 20:case"end":return s.stop()}}),null,null,[[1,16]])},getCustomEmoji:function(t){var e,n,i,r,s,a;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e=t.commit,n=t.state,c.prev=1,c.next=4,o.a.awrap(window.fetch("/api/pleroma/emoji.json"));case 4:if(!(i=c.sent).ok){c.next=14;break}return c.next=8,o.a.awrap(i.json());case 8:r=c.sent,s=Array.isArray(r)?Object.assign.apply(Object,[{}].concat(p()(r))):r,a=Object.entries(s).map((function(t){var e=g()(t,2),i=e[0],o=e[1],r=o.image_url;return{displayText:i,imageUrl:r?n.server+r:o,tags:r?o.tags.sort((function(t,e){return t>e?1:0})):["utf"],replacement:":".concat(i,": ")}})).sort((function(t,e){return t.displayText.toLowerCase()>e.displayText.toLowerCase()?1:-1})),e("setInstanceOption",{name:"customEmoji",value:a}),c.next=15;break;case 14:throw i;case 15:c.next=21;break;case 17:c.prev=17,c.t0=c.catch(1),console.warn("Can't load custom emojis"),console.warn(c.t0);case 21:case"end":return c.stop()}}),null,null,[[1,17]])},setTheme:function(t,e){var n=t.commit,i=t.rootState;n("setInstanceOption",{name:"theme",value:e}),Object(v.j)(e).then((function(t){if(n("setInstanceOption",{name:"themeData",value:t}),!i.config.customTheme){var e=t.source;!t.theme||e&&e.themeEngineVersion===b.a?Object(v.b)(e):Object(v.b)(t.theme)}}))},fetchEmoji:function(t){var e=t.dispatch,n=t.state;n.customEmojiFetched||(n.customEmojiFetched=!0,e("getCustomEmoji")),n.emojiFetched||(n.emojiFetched=!0,e("getStaticEmoji"))},getKnownDomains:function(t){var e,n,i;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.commit,n=t.rootState,r.prev=1,r.next=4,o.a.awrap(w.c.fetchKnownDomains({credentials:n.users.currentUser.credentials}));case 4:i=r.sent,e("setKnownDomains",i),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),console.warn("Can't load known domains"),console.warn(r.t0);case 12:case"end":return r.stop()}}),null,null,[[1,8]])}}},k=n(111),C=n.n(k),S=n(15),O=n.n(S),j=n(27),P=n.n(j),T=n(217),$=n.n(T),I=n(106),M=n.n(I),F=n(112),E=n.n(F),U=n(113),A=n.n(U),N=n(23),D=n.n(N),L=n(49),R=n.n(L),B=n(28),z=n.n(B),H=n(218),q=n.n(H),V=n(51),W=n.n(V),G=n(22);function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var J=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{statuses:[],statusesObject:{},faves:[],visibleStatuses:[],visibleStatusesObject:{},newStatusCount:0,maxId:0,minId:0,minVisibleId:0,loading:!1,followers:[],friends:[],userId:t,flushMarker:0}},X=function(){return{desktopNotificationSilence:!0,maxId:0,minId:Number.POSITIVE_INFINITY,data:[],idStore:{},loading:!1}},Q=function(){return{allStatuses:[],allStatusesObject:{},conversationsObject:{},maxId:0,notifications:X(),favorites:new Set,timelines:{mentions:J(),public:J(),user:J(),favorites:J(),media:J(),publicAndExternal:J(),friends:J(),tag:J(),dms:J(),bookmarks:J()}}},Z=function(t,e,n){var i,o=e[n.id];return o?(M()(o,C()(n,(function(t,e){return null===t||"user"===e}))),o.attachments.splice(o.attachments.length),{item:o,new:!1}):((i=n).deleted=!1,i.attachments=i.attachments||[],t.push(n),Object(r.set)(e,n.id,n),{item:n,new:!0})},tt=function(t,e){var n=Number(t.id),i=Number(e.id),o=!Number.isNaN(n),r=!Number.isNaN(i);return o&&r?n>i?-1:1:o&&!r?1:!o&&r||t.id>e.id?-1:1},et=function(t){return t.visibleStatuses=t.visibleStatuses.sort(tt),t.statuses=t.statuses.sort(tt),t.minVisibleId=(P()(t.visibleStatuses)||{}).id,t},nt=function(t,e){var n=Z(t.allStatuses,t.allStatusesObject,e);if(n.new){var i=n.item,o=t.conversationsObject,s=i.statusnet_conversation_id;o[s]?o[s].push(i):Object(r.set)(o,s,[i])}return n},it=function(t,e){t.notifications.maxId=e.id>t.notifications.maxId?e.id:t.notifications.maxId,t.notifications.minId=e.id<t.notifications.minId?e.id:t.notifications.minId},ot={addNewStatuses:function(t,e){var n=e.statuses,i=e.showImmediately,o=void 0!==i&&i,r=e.timeline,s=e.user,a=void 0===s?{}:s,c=e.noIdUpdate,l=void 0!==c&&c,u=e.userId,d=e.pagination,p=void 0===d?{}:d;if(!O()(n))return!1;var f=t.allStatuses,h=t.timelines[r],m=p.maxId||(n.length>0?E()(n,"id").id:0),g=p.minId||(n.length>0?A()(n,"id").id:0),v=r&&(g>h.maxId||0===h.maxId)&&n.length>0,b=r&&(m<h.minId||0===h.minId)&&n.length>0;if(!l&&v&&(h.maxId=g),!l&&b&&(h.minId=m),"user"!==r&&"media"!==r||h.userId===u){var w=function(e,n){var i,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=nt(t,e),c=s.item;if(s.new){if("status"===c.type&&D()(c.attentions,{id:a.id})){var l=t.timelines.mentions;h!==l&&(Z(l.statuses,l.statusesObject,c),l.newStatusCount+=1,et(l))}if("direct"===c.visibility){var u=t.timelines.dms;Z(u.statuses,u.statusesObject,c),u.newStatusCount+=1,et(u)}}return r&&o&&(i=Z(h.statuses,h.statusesObject,c)),r&&n?Z(h.visibleStatuses,h.visibleStatusesObject,c):r&&o&&i.new&&(h.newStatusCount+=1),c},_={status:function(t){w(t,o)},retweet:function(t){var e,n=w(t.retweeted_status,!1,!1);e=r&&D()(h.statuses,(function(t){return t.retweeted_status?t.id===n.id||t.retweeted_status.id===n.id:t.id===n.id}))?w(t,!1,!1):w(t,o),e.retweeted_status=n},favorite:function(e){t.favorites.has(e.id)||(t.favorites.add(e.id),function(t,e){var n=D()(f,{id:t.in_reply_to_status_id});n&&(t.user.id===a.id?n.favorited=!0:n.fave_num+=1)}(e))},deletion:function(e){var n=e.uri,i=D()(f,{uri:n});i&&(!function(t,e){W()(t.allStatuses,{id:e.id}),W()(t.notifications.data,(function(t){return t.action.id===e.id}));var n=e.statusnet_conversation_id;t.conversationsObject[n]&&W()(t.conversationsObject[n],{id:e.id})}(t,i),r&&(W()(h.statuses,{uri:n}),W()(h.visibleStatuses,{uri:n})))},follow:function(t){},default:function(t){console.log("unknown status type"),console.log(t)}};z()(n,(function(t){var e=t.type;(_[e]||_.default)(t)})),r&&"bookmarks"!==r&&et(h)}},addNewNotifications:function(t,e){var n=e.dispatch,i=e.notifications,o=(e.older,e.visibleNotificationTypes,e.rootGetters,e.newNotificationSideEffects);z()(i,(function(e){if(!Object(G.c)(e))return console.error("Invalid notification:",e),void it(t,e);Object(G.b)(e.type)&&(e.action=nt(t,e.action).item,e.status=e.status&&nt(t,e.status).item),"pleroma:emoji_reaction"===e.type&&n("fetchEmojiReactionsBy",e.status.id),t.notifications.idStore.hasOwnProperty(e.id)?e.seen&&(t.notifications.idStore[e.id].seen=!0):(it(t,e),t.notifications.data.push(e),t.notifications.idStore[e.id]=e,o(e))}))},removeStatus:function(t,e){var n=e.timeline,i=e.userId,o=t.timelines[n];i&&(W()(o.statuses,{user:{id:i}}),W()(o.visibleStatuses,{user:{id:i}}),o.minVisibleId=o.visibleStatuses.length>0?P()(o.visibleStatuses).id:0,o.maxId=o.statuses.length>0?$()(o.statuses).id:0)},showNewStatuses:function(t,e){var n=e.timeline,i=t.timelines[n];i.newStatusCount=0,i.visibleStatuses=q()(i.statuses,0,50),i.minVisibleId=P()(i.visibleStatuses).id,i.minId=i.minVisibleId,i.visibleStatusesObject={},z()(i.visibleStatuses,(function(t){i.visibleStatusesObject[t.id]=t}))},resetStatuses:function(t){var e=Q();Object.entries(e).forEach((function(e){var n=g()(e,2),i=n[0],o=n[1];t[i]=o}))},clearTimeline:function(t,e){var n=e.timeline,i=e.excludeUserId,o=void 0!==i&&i?t.timelines[n].userId:void 0;t.timelines[n]=J(o)},clearNotifications:function(t){t.notifications=X()},setFavorited:function(t,e){var n=e.status,i=e.value,o=t.allStatusesObject[n.id];o.favorited!==i&&(i?o.fave_num++:o.fave_num--),o.favorited=i},setFavoritedConfirm:function(t,e){var n=e.status,i=e.user,o=t.allStatusesObject[n.id];o.favorited=n.favorited,o.fave_num=n.fave_num;var r=R()(o.favoritedBy,{id:i.id});-1===r||o.favorited?-1===r&&o.favorited&&o.favoritedBy.push(i):o.favoritedBy.splice(r,1)},setMutedStatus:function(t,e){var n=t.allStatusesObject[e.id];n.thread_muted=e.thread_muted,void 0!==n.thread_muted&&t.conversationsObject[n.statusnet_conversation_id].forEach((function(t){t.thread_muted=n.thread_muted}))},setRetweeted:function(t,e){var n=e.status,i=e.value,o=t.allStatusesObject[n.id];o.repeated!==i&&(i?o.repeat_num++:o.repeat_num--),o.repeated=i},setRetweetedConfirm:function(t,e){var n=e.status,i=e.user,o=t.allStatusesObject[n.id];o.repeated=n.repeated,o.repeat_num=n.repeat_num;var r=R()(o.rebloggedBy,{id:i.id});-1===r||o.repeated?-1===r&&o.repeated&&o.rebloggedBy.push(i):o.rebloggedBy.splice(r,1)},setBookmarked:function(t,e){var n=e.status,i=e.value;t.allStatusesObject[n.id].bookmarked=i},setBookmarkedConfirm:function(t,e){var n=e.status;t.allStatusesObject[n.id].bookmarked=n.bookmarked},setDeleted:function(t,e){var n=e.status,i=t.allStatusesObject[n.id];i&&(i.deleted=!0)},setManyDeleted:function(t,e){Object.values(t.allStatusesObject).forEach((function(t){e(t)&&(t.deleted=!0)}))},setLoading:function(t,e){var n=e.timeline,i=e.value;t.timelines[n].loading=i},setNsfw:function(t,e){var n=e.id,i=e.nsfw;t.allStatusesObject[n].nsfw=i},setNotificationsLoading:function(t,e){var n=e.value;t.notifications.loading=n},setNotificationsSilence:function(t,e){var n=e.value;t.notifications.desktopNotificationSilence=n},markNotificationsAsSeen:function(t){z()(t.notifications.data,(function(t){t.seen=!0}))},markSingleNotificationAsSeen:function(t,e){var n=e.id,i=D()(t.notifications.data,(function(t){return t.id===n}));i&&(i.seen=!0)},dismissNotification:function(t,e){var n=e.id;t.notifications.data=t.notifications.data.filter((function(t){return t.id!==n}))},dismissNotifications:function(t,e){var n=e.finder;t.notifications.data=t.notifications.data.filter((function(t){return n}))},updateNotification:function(t,e){var n=e.id,i=e.updater,o=D()(t.notifications.data,(function(t){return t.id===n}));o&&i(o)},queueFlush:function(t,e){var n=e.timeline,i=e.id;t.timelines[n].flushMarker=i},queueFlushAll:function(t){Object.keys(t.timelines).forEach((function(e){t.timelines[e].flushMarker=t.timelines[e].maxId}))},addRepeats:function(t,e){var n=e.id,i=e.rebloggedByUsers,o=e.currentUser,r=t.allStatusesObject[n];r.rebloggedBy=i.filter((function(t){return t})),r.repeat_num=r.rebloggedBy.length,r.repeated=!!r.rebloggedBy.find((function(t){var e=t.id;return o.id===e}))},addFavs:function(t,e){var n=e.id,i=e.favoritedByUsers,o=e.currentUser,r=t.allStatusesObject[n];r.favoritedBy=i.filter((function(t){return t})),r.fave_num=r.favoritedBy.length,r.favorited=!!r.favoritedBy.find((function(t){var e=t.id;return o.id===e}))},addEmojiReactionsBy:function(t,e){var n=e.id,i=e.emojiReactions,o=(e.currentUser,t.allStatusesObject[n]);Object(r.set)(o,"emoji_reactions",i)},addOwnReaction:function(t,e){var n=e.id,i=e.emoji,o=e.currentUser,s=t.allStatusesObject[n],a=R()(s.emoji_reactions,{name:i}),c=s.emoji_reactions[a]||{name:i,count:0,accounts:[]},l=Y({},c,{count:c.count+1,me:!0,accounts:[].concat(p()(c.accounts),[o])});a>=0?Object(r.set)(s.emoji_reactions,a,l):Object(r.set)(s,"emoji_reactions",[].concat(p()(s.emoji_reactions),[l]))},removeOwnReaction:function(t,e){var n=e.id,i=e.emoji,o=e.currentUser,s=t.allStatusesObject[n],a=R()(s.emoji_reactions,{name:i});if(!(a<0)){var c=s.emoji_reactions[a],l=c.accounts||[],u=Y({},c,{count:c.count-1,me:!1,accounts:l.filter((function(t){return t.id!==o.id}))});u.count>0?Object(r.set)(s.emoji_reactions,a,u):Object(r.set)(s,"emoji_reactions",s.emoji_reactions.filter((function(t){return t.name!==i})))}},updateStatusWithPoll:function(t,e){var n=e.id,i=e.poll;t.allStatusesObject[n].poll=i},setVirtualHeight:function(t,e){var n=e.statusId,i=e.height;t.allStatusesObject[n].virtualHeight=i}},rt={state:Q(),actions:{addNewStatuses:function(t,e){var n=t.rootState,i=t.commit,o=e.statuses,r=e.showImmediately,s=void 0!==r&&r,a=e.timeline,c=void 0!==a&&a,l=e.noIdUpdate,u=void 0!==l&&l,d=e.userId,p=e.pagination;i("addNewStatuses",{statuses:o,showImmediately:s,timeline:c,noIdUpdate:u,user:n.users.currentUser,userId:d,pagination:p})},addNewNotifications:function(t,e){var n=e.notifications,i=e.older;(0,t.commit)("addNewNotifications",{dispatch:t.dispatch,notifications:n,older:i,rootGetters:t.rootGetters,newNotificationSideEffects:function(e){Object(G.d)(t,e)}})},setNotificationsLoading:function(t,e){t.rootState;(0,t.commit)("setNotificationsLoading",{value:e.value})},setNotificationsSilence:function(t,e){t.rootState;(0,t.commit)("setNotificationsSilence",{value:e.value})},fetchStatus:function(t,e){var n=t.rootState,i=t.dispatch;return n.api.backendInteractor.fetchStatus({id:e}).then((function(t){return i("addNewStatuses",{statuses:[t]})}))},deleteStatus:function(t,e){var n=t.rootState;(0,t.commit)("setDeleted",{status:e}),w.c.deleteStatus({id:e.id,credentials:n.users.currentUser.credentials})},deleteStatusById:function(t,e){var n=t.rootState;(0,t.commit)("setDeleted",{status:n.statuses.allStatusesObject[e]})},markStatusesAsDeleted:function(t,e){(0,t.commit)("setManyDeleted",e)},favorite:function(t,e){var n=t.rootState,i=t.commit;i("setFavorited",{status:e,value:!0}),n.api.backendInteractor.favorite({id:e.id}).then((function(t){return i("setFavoritedConfirm",{status:t,user:n.users.currentUser})}))},unfavorite:function(t,e){var n=t.rootState,i=t.commit;i("setFavorited",{status:e,value:!1}),n.api.backendInteractor.unfavorite({id:e.id}).then((function(t){return i("setFavoritedConfirm",{status:t,user:n.users.currentUser})}))},fetchPinnedStatuses:function(t,e){var n=t.rootState,i=t.dispatch;n.api.backendInteractor.fetchPinnedStatuses({id:e}).then((function(t){return i("addNewStatuses",{statuses:t,timeline:"user",userId:e,showImmediately:!0,noIdUpdate:!0})}))},pinStatus:function(t,e){var n=t.rootState,i=t.dispatch;return n.api.backendInteractor.pinOwnStatus({id:e}).then((function(t){return i("addNewStatuses",{statuses:[t]})}))},unpinStatus:function(t,e){var n=t.rootState,i=t.dispatch;n.api.backendInteractor.unpinOwnStatus({id:e}).then((function(t){return i("addNewStatuses",{statuses:[t]})}))},muteConversation:function(t,e){var n=t.rootState,i=t.commit;return n.api.backendInteractor.muteConversation({id:e}).then((function(t){return i("setMutedStatus",t)}))},unmuteConversation:function(t,e){var n=t.rootState,i=t.commit;return n.api.backendInteractor.unmuteConversation({id:e}).then((function(t){return i("setMutedStatus",t)}))},retweet:function(t,e){var n=t.rootState,i=t.commit;i("setRetweeted",{status:e,value:!0}),n.api.backendInteractor.retweet({id:e.id}).then((function(t){return i("setRetweetedConfirm",{status:t.retweeted_status,user:n.users.currentUser})}))},unretweet:function(t,e){var n=t.rootState,i=t.commit;i("setRetweeted",{status:e,value:!1}),n.api.backendInteractor.unretweet({id:e.id}).then((function(t){return i("setRetweetedConfirm",{status:t,user:n.users.currentUser})}))},bookmark:function(t,e){var n=t.rootState,i=t.commit;i("setBookmarked",{status:e,value:!0}),n.api.backendInteractor.bookmarkStatus({id:e.id}).then((function(t){i("setBookmarkedConfirm",{status:t})}))},unbookmark:function(t,e){var n=t.rootState,i=t.commit;i("setBookmarked",{status:e,value:!1}),n.api.backendInteractor.unbookmarkStatus({id:e.id}).then((function(t){i("setBookmarkedConfirm",{status:t})}))},queueFlush:function(t,e){t.rootState;(0,t.commit)("queueFlush",{timeline:e.timeline,id:e.id})},queueFlushAll:function(t){t.rootState;(0,t.commit)("queueFlushAll")},markNotificationsAsSeen:function(t){var e=t.rootState;(0,t.commit)("markNotificationsAsSeen"),w.c.markNotificationsAsSeen({id:e.statuses.notifications.maxId,credentials:e.users.currentUser.credentials})},markSingleNotificationAsSeen:function(t,e){var n=t.rootState,i=t.commit,o=e.id;i("markSingleNotificationAsSeen",{id:o}),w.c.markNotificationsAsSeen({single:!0,id:o,credentials:n.users.currentUser.credentials})},dismissNotificationLocal:function(t,e){t.rootState;(0,t.commit)("dismissNotification",{id:e.id})},dismissNotification:function(t,e){var n=t.rootState,i=t.commit,o=e.id;i("dismissNotification",{id:o}),n.api.backendInteractor.dismissNotification({id:o})},updateNotification:function(t,e){t.rootState;(0,t.commit)("updateNotification",{id:e.id,updater:e.updater})},fetchFavsAndRepeats:function(t,e){var n=t.rootState,i=t.commit;Promise.all([n.api.backendInteractor.fetchFavoritedByUsers({id:e}),n.api.backendInteractor.fetchRebloggedByUsers({id:e})]).then((function(t){var o=g()(t,2),r=o[0],s=o[1];i("addFavs",{id:e,favoritedByUsers:r,currentUser:n.users.currentUser}),i("addRepeats",{id:e,rebloggedByUsers:s,currentUser:n.users.currentUser})}))},reactWithEmoji:function(t,e){var n=t.rootState,i=t.dispatch,o=t.commit,r=e.id,s=e.emoji,a=n.users.currentUser;a&&(o("addOwnReaction",{id:r,emoji:s,currentUser:a}),n.api.backendInteractor.reactWithEmoji({id:r,emoji:s}).then((function(t){i("fetchEmojiReactionsBy",r)})))},unreactWithEmoji:function(t,e){var n=t.rootState,i=t.dispatch,o=t.commit,r=e.id,s=e.emoji,a=n.users.currentUser;a&&(o("removeOwnReaction",{id:r,emoji:s,currentUser:a}),n.api.backendInteractor.unreactWithEmoji({id:r,emoji:s}).then((function(t){i("fetchEmojiReactionsBy",r)})))},fetchEmojiReactionsBy:function(t,e){var n=t.rootState,i=t.commit;n.api.backendInteractor.fetchEmojiReactions({id:e}).then((function(t){i("addEmojiReactionsBy",{id:e,emojiReactions:t,currentUser:n.users.currentUser})}))},fetchFavs:function(t,e){var n=t.rootState,i=t.commit;n.api.backendInteractor.fetchFavoritedByUsers({id:e}).then((function(t){return i("addFavs",{id:e,favoritedByUsers:t,currentUser:n.users.currentUser})}))},fetchRepeats:function(t,e){var n=t.rootState,i=t.commit;n.api.backendInteractor.fetchRebloggedByUsers({id:e}).then((function(t){return i("addRepeats",{id:e,rebloggedByUsers:t,currentUser:n.users.currentUser})}))},search:function(t,e){var n=e.q,i=e.resolve,o=e.limit,r=e.offset,s=e.following;return t.rootState.api.backendInteractor.search2({q:n,resolve:i,limit:o,offset:r,following:s}).then((function(e){return t.commit("addNewUsers",e.accounts),t.commit("addNewStatuses",{statuses:e.statuses}),e}))},setVirtualHeight:function(t,e){(0,t.commit)("setVirtualHeight",{statusId:e.statusId,height:e.height})}},mutations:ot},st=n(84),at=n.n(st),ct=n(83),lt=n.n(ct),ut=n(125),dt=n.n(ut),pt=n(17),ft=n.n(pt),ht=n(145),mt=n.n(ht),gt=n(126),vt=n.n(gt),bt=function(t,e){var n=!1,i=null;return i=window.setTimeout((function o(){var r=t();r&&r.finally?r.finally((function(){n||(i=window.setTimeout(o,e))})):console.warn("promiseInterval: promise call did not return a promise, stopping interval.")}),e),{stop:function(){n=!0,window.clearTimeout(i)}}},wt=function(t){var e=t.store,n=t.credentials,i=t.timeline,o=void 0===i?"friends":i,r=t.older,s=void 0!==r&&r,a=t.showImmediately,c=void 0!==a&&a,l=t.userId,u=void 0!==l&&l,d=t.tag,p=void 0!==d&&d,f=t.until,h=t.since,m={timeline:o,credentials:n},g=e.rootState||e.state,v=e.getters,b=g.statuses.timelines[vt()(o)],_=v.mergedConfig,y=_.hideMutedPosts,x=_.replyVisibility,k=!!g.users.currentUser;s?m.until=f||b.minId:void 0===h?m.since=b.maxId:null!==h&&(m.since=h),m.userId=u,m.tag=p,m.withMuted=!y,k&&["friends","public","publicAndExternal"].includes(o)&&(m.replyVisibility=x);var C=b.statuses.length;return w.c.fetchTimeline(m).then((function(t){if(t.errors)throw new Error("".concat(t.status," ").concat(t.statusText));var n=t.data,i=t.pagination;return!s&&n.length>=20&&!b.loading&&C>0&&e.dispatch("queueFlush",{timeline:o,id:b.maxId}),function(t){var e=t.store,n=t.statuses,i=t.timeline,o=t.showImmediately,r=t.userId,s=t.pagination,a=vt()(i);e.dispatch("addNewStatuses",{timeline:a,userId:r,statuses:n,showImmediately:o,pagination:s})}({store:e,statuses:n,timeline:o,showImmediately:c,userId:u,pagination:i}),{statuses:n,pagination:i}})).catch((function(t){e.dispatch("pushGlobalNotice",{level:"error",messageKey:"timeline.error",messageArgs:[t.message],timeout:5e3})}))},_t={fetchAndUpdate:wt,startFetching:function(t){var e=t.timeline,n=void 0===e?"friends":e,i=t.credentials,o=t.store,r=t.userId,s=void 0!==r&&r,a=t.tag,c=void 0!==a&&a,l=(o.rootState||o.state).statuses.timelines[vt()(n)],u=0===l.visibleStatuses.length;l.userId=s,wt({timeline:n,credentials:i,store:o,showImmediately:u,userId:s,tag:c});return bt((function(){return wt({timeline:n,credentials:i,store:o,userId:s,tag:c})}),1e4)}},yt=function(t){var e=t.store,n=t.credentials,i=t.older,o=void 0!==i&&i,r=t.since,s={credentials:n},a=e.getters,c=e.rootState||e.state,l=c.statuses.notifications,u=a.mergedConfig.hideMutedPosts,d=c.users.currentUser.allow_following_move;if(s.withMuted=!u,s.withMove=!d,s.timeline="notifications",o)return l.minId!==Number.POSITIVE_INFINITY&&(s.until=l.minId),xt({store:e,args:s,older:o});void 0===r&&l.maxId!==Number.POSITIVE_INFINITY?s.since=l.maxId:null!==r&&(s.since=r);var f=xt({store:e,args:s,older:o}),h=l.data,m=h.filter((function(t){return t.seen})).map((function(t){return t.id}));return h.length-m.length>0&&m.length>0&&(s.since=Math.max.apply(Math,p()(m)),xt({store:e,args:s,older:o})),f},xt=function(t){var e=t.store,n=t.args,i=t.older;return w.c.fetchTimeline(n).then((function(t){if(t.errors)throw new Error("".concat(t.status," ").concat(t.statusText));var n=t.data;return function(t){var e=t.store,n=t.notifications,i=t.older;e.dispatch("addNewNotifications",{notifications:n,older:i})}({store:e,notifications:n,older:i}),n})).catch((function(t){e.dispatch("pushGlobalNotice",{level:"error",messageKey:"notifications.error",messageArgs:[t.message],timeout:5e3})}))},kt={fetchAndUpdate:yt,startFetching:function(t){var e=t.credentials,n=t.store;setTimeout((function(){return n.dispatch("setNotificationsSilence",!1)}),1e4);var i=function(){return yt({credentials:e,store:n})};return i(),bt(i,1e4)}},Ct={startFetching:function(t){var e=t.credentials,n=t.store,i=function(){return function(t){var e=t.store,n=t.credentials;return w.c.fetchFollowRequests({credentials:n}).then((function(t){e.commit("setFollowRequests",t),e.commit("addNewUsers",t)}),(function(){})).catch((function(){}))}({credentials:e,store:n})};return i(),bt(i,1e4)}};function St(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?St(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var jt=function(t){return Ot({startFetchingTimeline:function(e){var n=e.timeline,i=e.store,o=e.userId,r=void 0!==o&&o,s=e.tag;return _t.startFetching({timeline:n,store:i,credentials:t,userId:r,tag:s})},fetchTimeline:function(e){return _t.fetchAndUpdate(Ot({},e,{credentials:t}))},startFetchingNotifications:function(e){var n=e.store;return kt.startFetching({store:n,credentials:t})},fetchNotifications:function(e){return kt.fetchAndUpdate(Ot({},e,{credentials:t}))},startFetchingFollowRequests:function(e){var n=e.store;return Ct.startFetching({store:n,credentials:t})},startUserSocket:function(e){var n=e.store.rootState.instance.server.replace("http","ws")+Object(w.d)({credentials:t,stream:"user"});return Object(w.a)({url:n,id:"User"})}},Object.entries(w.c).reduce((function(e,n){var i=g()(n,2),o=i[0],r=i[1];return Ot({},e,h()({},o,(function(e){return r(Ot({credentials:t},e))})))}),{}),{verifyCredentials:w.c.verifyCredentials})},Pt=n(44),Tt=n.n(Pt),$t="".concat(window.location.origin,"/oauth-callback"),It=function(t){var e=t.clientId,n=t.clientSecret,i=t.instance,o=t.commit;if(e&&n)return Promise.resolve({clientId:e,clientSecret:n});var r="".concat(i,"/api/v1/apps"),s=new window.FormData;return s.append("client_name","PleromaFE_".concat(window.___pleromafe_commit_hash,"_").concat((new Date).toISOString())),s.append("redirect_uris",$t),s.append("scopes","read write follow push admin"),window.fetch(r,{method:"POST",body:s}).then((function(t){return t.json()})).then((function(t){return{clientId:t.client_id,clientSecret:t.client_secret}})).then((function(t){return o("setClientData",t)||t}))},Mt=function(t){var e=t.clientId,n=t.clientSecret,i=t.instance,o="".concat(i,"/oauth/token"),r=new window.FormData;return r.append("client_id",e),r.append("client_secret",n),r.append("grant_type","client_credentials"),r.append("redirect_uri","".concat(window.location.origin,"/oauth-callback")),window.fetch(o,{method:"POST",body:r}).then((function(t){return t.json()}))},Ft={login:function(t){var e=t.instance,n={response_type:"code",client_id:t.clientId,redirect_uri:$t,scope:"read write follow push admin"},i=Tt()(n,(function(t,e,n){var i="".concat(n,"=").concat(encodeURIComponent(e));return t?"".concat(t,"&").concat(i):i}),!1),o="".concat(e,"/oauth/authorize?").concat(i);window.location.href=o},getToken:function(t){var e=t.clientId,n=t.clientSecret,i=t.instance,o=t.code,r="".concat(i,"/oauth/token"),s=new window.FormData;return s.append("client_id",e),s.append("client_secret",n),s.append("grant_type","authorization_code"),s.append("code",o),s.append("redirect_uri","".concat(window.location.origin,"/oauth-callback")),window.fetch(r,{method:"POST",body:s}).then((function(t){return t.json()}))},getTokenWithCredentials:function(t){var e=t.clientId,n=t.clientSecret,i=t.instance,o=t.username,r=t.password,s="".concat(i,"/oauth/token"),a=new window.FormData;return a.append("client_id",e),a.append("client_secret",n),a.append("grant_type","password"),a.append("username",o),a.append("password",r),window.fetch(s,{method:"POST",body:a}).then((function(t){return t.json()}))},getOrCreateApp:It,verifyOTPCode:function(t){var e=t.app,n=t.instance,i=t.mfaToken,o=t.code,r="".concat(n,"/oauth/mfa/challenge"),s=new window.FormData;return s.append("client_id",e.client_id),s.append("client_secret",e.client_secret),s.append("mfa_token",i),s.append("code",o),s.append("challenge_type","totp"),window.fetch(r,{method:"POST",body:s}).then((function(t){return t.json()}))},verifyRecoveryCode:function(t){var e=t.app,n=t.instance,i=t.mfaToken,o=t.code,r="".concat(n,"/oauth/mfa/challenge"),s=new window.FormData;return s.append("client_id",e.client_id),s.append("client_secret",e.client_secret),s.append("mfa_token",i),s.append("code",o),s.append("challenge_type","recovery"),window.fetch(r,{method:"POST",body:s}).then((function(t){return t.json()}))},revokeToken:function(t){var e=t.app,n=t.instance,i=t.token,o="".concat(n,"/oauth/revoke"),r=new window.FormData;return r.append("client_id",e.clientId),r.append("client_secret",e.clientSecret),r.append("token",i),window.fetch(o,{method:"POST",body:r}).then((function(t){return t.json()}))}},Et=n(219),Ut=n.n(Et);function At(){return"serviceWorker"in navigator&&"PushManager"in window}function Nt(){return Ut.a.register().catch((function(t){return console.error("Unable to get or create a service worker.",t)}))}function Dt(t){return window.fetch("/api/v1/push/subscription/",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(t){if(!t.ok)throw new Error("Bad status code from server.");return t}))}function Lt(t,e,n,i){At()&&Nt().then((function(n){return function(t,e,n){if(!e)return Promise.reject(new Error("Web Push is disabled in config"));if(!n)return Promise.reject(new Error("VAPID public key is not found"));var i,o,r,s={userVisibleOnly:!0,applicationServerKey:(i=n,o=(i+"=".repeat((4-i.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(o),Uint8Array.from(p()(r).map((function(t){return t.charCodeAt(0)}))))};return t.pushManager.subscribe(s)}(n,t,e)})).then((function(t){return function(t,e,n){return window.fetch("/api/v1/push/subscription/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({subscription:t,data:{alerts:{follow:n.follows,favourite:n.likes,mention:n.mentions,reblog:n.repeats,move:n.moves}}})}).then((function(t){if(!t.ok)throw new Error("Bad status code from server.");return t.json()})).then((function(t){if(!t.id)throw new Error("Bad response from server.");return t}))}(t,n,i)})).catch((function(t){return console.warn("Failed to setup Web Push Notifications: ".concat(t.message))}))}function Rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var zt=function t(e,n){if(O()(e)&&O()(n))return e.length=n.length,dt()(e,n,t)},Ht=function(t,e){return t.rootState.api.backendInteractor.blockUser({id:e}).then((function(n){t.commit("updateUserRelationship",[n]),t.commit("addBlockId",e),t.commit("removeStatus",{timeline:"friends",userId:e}),t.commit("removeStatus",{timeline:"public",userId:e}),t.commit("removeStatus",{timeline:"publicAndExternal",userId:e})}))},qt=function(t,e){return t.rootState.api.backendInteractor.unblockUser({id:e}).then((function(e){return t.commit("updateUserRelationship",[e])}))},Vt=function(t,e){var n=t.state.relationships[e]||{id:e};return n.muting=!0,t.commit("updateUserRelationship",[n]),t.commit("addMuteId",e),t.rootState.api.backendInteractor.muteUser({id:e}).then((function(n){t.commit("updateUserRelationship",[n]),t.commit("addMuteId",e)}))},Wt=function(t,e){var n=t.state.relationships[e]||{id:e};return n.muting=!1,t.commit("updateUserRelationship",[n]),t.rootState.api.backendInteractor.unmuteUser({id:e}).then((function(e){return t.commit("updateUserRelationship",[e])}))},Gt=function(t,e){return t.rootState.api.backendInteractor.muteDomain({domain:e}).then((function(){return t.commit("addDomainMute",e)}))},Kt=function(t,e){return t.rootState.api.backendInteractor.unmuteDomain({domain:e}).then((function(){return t.commit("removeDomainMute",e)}))},Yt={state:{loggingIn:!1,lastLoginName:!1,currentUser:!1,users:[],usersObject:{},signUpPending:!1,signUpErrors:[],relationships:{}},mutations:{tagUser:function(t,e){var n=e.user.id,i=e.tag,o=t.usersObject[n],s=(o.tags||[]).concat([i]);Object(r.set)(o,"tags",s)},untagUser:function(t,e){var n=e.user.id,i=e.tag,o=t.usersObject[n],s=(o.tags||[]).filter((function(t){return t!==i}));Object(r.set)(o,"tags",s)},updateRight:function(t,e){var n=e.user.id,i=e.right,o=e.value,s=t.usersObject[n],a=s.rights;a[i]=o,Object(r.set)(s,"rights",a)},updateActivationStatus:function(t,e){var n=e.user.id,i=e.deactivated,o=t.usersObject[n];Object(r.set)(o,"deactivated",i)},setCurrentUser:function(t,e){t.lastLoginName=e.screen_name,t.currentUser=dt()(t.currentUser||{},e,zt)},clearCurrentUser:function(t){t.currentUser=!1,t.lastLoginName=!1},beginLogin:function(t){t.loggingIn=!0},endLogin:function(t){t.loggingIn=!1},saveFriendIds:function(t,e){var n=e.id,i=e.friendIds,o=t.usersObject[n];o.friendIds=at()(lt()(o.friendIds||[],i))},saveFollowerIds:function(t,e){var n=e.id,i=e.followerIds,o=t.usersObject[n];o.followerIds=at()(lt()(o.followerIds||[],i))},clearFriends:function(t,e){var n=t.usersObject[e];n&&Object(r.set)(n,"friendIds",[])},clearFollowers:function(t,e){var n=t.usersObject[e];n&&Object(r.set)(n,"followerIds",[])},addNewUsers:function(t,e){z()(e,(function(e){e.relationship&&Object(r.set)(t.relationships,e.relationship.id,e.relationship),function(t,e,n){if(!n)return!1;var i=e[n.id];i?dt()(i,n,zt):(t.push(n),Object(r.set)(e,n.id,n),n.screen_name&&!n.screen_name.includes("@")&&Object(r.set)(e,n.screen_name.toLowerCase(),n))}(t.users,t.usersObject,e)}))},updateUserRelationship:function(t,e){e.forEach((function(e){Object(r.set)(t.relationships,e.id,e)}))},saveBlockIds:function(t,e){t.currentUser.blockIds=e},addBlockId:function(t,e){-1===t.currentUser.blockIds.indexOf(e)&&t.currentUser.blockIds.push(e)},saveMuteIds:function(t,e){t.currentUser.muteIds=e},addMuteId:function(t,e){-1===t.currentUser.muteIds.indexOf(e)&&t.currentUser.muteIds.push(e)},saveDomainMutes:function(t,e){t.currentUser.domainMutes=e},addDomainMute:function(t,e){-1===t.currentUser.domainMutes.indexOf(e)&&t.currentUser.domainMutes.push(e)},removeDomainMute:function(t,e){var n=t.currentUser.domainMutes.indexOf(e);-1!==n&&t.currentUser.domainMutes.splice(n,1)},setPinnedToUser:function(t,e){var n=t.usersObject[e.user.id];n.pinnedStatusIds=n.pinnedStatusIds||[];var i=n.pinnedStatusIds.indexOf(e.id);e.pinned&&-1===i?n.pinnedStatusIds.push(e.id):e.pinned||-1===i||n.pinnedStatusIds.splice(i,1)},setUserForStatus:function(t,e){e.user=t.usersObject[e.user.id]},setUserForNotification:function(t,e){"follow"!==e.type&&(e.action.user=t.usersObject[e.action.user.id]),e.from_profile=t.usersObject[e.from_profile.id]},setColor:function(t,e){var n=e.user.id,i=e.highlighted,o=t.usersObject[n];Object(r.set)(o,"highlight",i)},signUpPending:function(t){t.signUpPending=!0,t.signUpErrors=[]},signUpSuccess:function(t){t.signUpPending=!1},signUpFailure:function(t,e){t.signUpPending=!1,t.signUpErrors=e}},getters:{findUser:function(t){return function(e){var n=t.usersObject[e];return n||"string"!=typeof e?n:t.usersObject[e.toLowerCase()]}},relationship:function(t){return function(e){return e&&t.relationships[e]||{id:e,loading:!0}}}},actions:{fetchUserIfMissing:function(t,e){t.getters.findUser(e)||t.dispatch("fetchUser",e)},fetchUser:function(t,e){return t.rootState.api.backendInteractor.fetchUser({id:e}).then((function(e){return t.commit("addNewUsers",[e]),e}))},fetchUserRelationship:function(t,e){t.state.currentUser&&t.rootState.api.backendInteractor.fetchUserRelationship({id:e}).then((function(e){return t.commit("updateUserRelationship",e)}))},fetchBlocks:function(t){return t.rootState.api.backendInteractor.fetchBlocks().then((function(e){return t.commit("saveBlockIds",ft()(e,"id")),t.commit("addNewUsers",e),e}))},blockUser:function(t,e){return Ht(t,e)},unblockUser:function(t,e){return qt(t,e)},blockUsers:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(e.map((function(e){return Ht(t,e)})))},unblockUsers:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(e.map((function(e){return qt(t,e)})))},fetchMutes:function(t){return t.rootState.api.backendInteractor.fetchMutes().then((function(e){return t.commit("saveMuteIds",ft()(e,"id")),t.commit("addNewUsers",e),e}))},muteUser:function(t,e){return Vt(t,e)},unmuteUser:function(t,e){return Wt(t,e)},hideReblogs:function(t,e){return function(t,e){return t.rootState.api.backendInteractor.followUser({id:e,reblogs:!1}).then((function(e){t.commit("updateUserRelationship",[e])}))}(t,e)},showReblogs:function(t,e){return function(t,e){return t.rootState.api.backendInteractor.followUser({id:e,reblogs:!0}).then((function(e){return t.commit("updateUserRelationship",[e])}))}(t,e)},muteUsers:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(e.map((function(e){return Vt(t,e)})))},unmuteUsers:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(e.map((function(e){return Wt(t,e)})))},fetchDomainMutes:function(t){return t.rootState.api.backendInteractor.fetchDomainMutes().then((function(e){return t.commit("saveDomainMutes",e),e}))},muteDomain:function(t,e){return Gt(t,e)},unmuteDomain:function(t,e){return Kt(t,e)},muteDomains:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(e.map((function(e){return Gt(t,e)})))},unmuteDomains:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Promise.all(e.map((function(e){return Kt(t,e)})))},fetchFriends:function(t,e){var n=t.rootState,i=t.commit,o=n.users.usersObject[e],r=P()(o.friendIds);return n.api.backendInteractor.fetchFriends({id:e,maxId:r}).then((function(t){return i("addNewUsers",t),i("saveFriendIds",{id:e,friendIds:ft()(t,"id")}),t}))},fetchFollowers:function(t,e){var n=t.rootState,i=t.commit,o=n.users.usersObject[e],r=P()(o.followerIds);return n.api.backendInteractor.fetchFollowers({id:e,maxId:r}).then((function(t){return i("addNewUsers",t),i("saveFollowerIds",{id:e,followerIds:ft()(t,"id")}),t}))},clearFriends:function(t,e){(0,t.commit)("clearFriends",e)},clearFollowers:function(t,e){(0,t.commit)("clearFollowers",e)},subscribeUser:function(t,e){var n=t.rootState,i=t.commit;return n.api.backendInteractor.subscribeUser({id:e}).then((function(t){return i("updateUserRelationship",[t])}))},unsubscribeUser:function(t,e){var n=t.rootState,i=t.commit;return n.api.backendInteractor.unsubscribeUser({id:e}).then((function(t){return i("updateUserRelationship",[t])}))},toggleActivationStatus:function(t,e){var n=t.rootState,i=t.commit,o=e.user;(o.deactivated?n.api.backendInteractor.activateUser:n.api.backendInteractor.deactivateUser)({user:o}).then((function(t){var e=t.deactivated;return i("updateActivationStatus",{user:o,deactivated:e})}))},registerPushNotifications:function(t){var e=t.state.currentUser.credentials,n=t.rootState.instance.vapidPublicKey;Lt(t.rootState.config.webPushNotifications,n,e,t.rootState.config.notificationVisibility)},unregisterPushNotifications:function(t){!function(t){At()&&Promise.all([Dt(t),Nt().then((function(t){return function(t){return t.pushManager.getSubscription().then((function(t){if(null!==t)return t.unsubscribe()}))}(t).then((function(e){return[t,e]}))})).then((function(t){var e=g()(t,2),n=e[0];return e[1]||console.warn("Push subscription cancellation wasn't successful, killing SW anyway..."),n.unregister().then((function(t){t||console.warn("Failed to kill SW")}))}))]).catch((function(t){return console.warn("Failed to disable Web Push Notifications: ".concat(t.message))}))}(t.state.currentUser.credentials)},addNewUsers:function(t,e){(0,t.commit)("addNewUsers",e)},addNewStatuses:function(t,e){var n=e.statuses,i=ft()(n,"user"),o=mt()(ft()(n,"retweeted_status.user"));t.commit("addNewUsers",i),t.commit("addNewUsers",o),z()(n,(function(e){t.commit("setUserForStatus",e),t.commit("setPinnedToUser",e)})),z()(mt()(ft()(n,"retweeted_status")),(function(e){t.commit("setUserForStatus",e),t.commit("setPinnedToUser",e)}))},addNewNotifications:function(t,e){var n=e.notifications,i=ft()(n,"from_profile"),o=ft()(n,"target").filter((function(t){return t})),r=n.map((function(t){return t.id}));t.commit("addNewUsers",i),t.commit("addNewUsers",o);var s=t.rootState.statuses.notifications.idStore,a=Object.entries(s).filter((function(t){var e=g()(t,2),n=e[0];e[1];return r.includes(n)})).map((function(t){var e=g()(t,2);e[0];return e[1]}));z()(a,(function(e){t.commit("setUserForNotification",e)}))},searchUsers:function(t,e){var n=t.rootState,i=t.commit,o=e.query;return n.api.backendInteractor.searchUsers({query:o}).then((function(t){return i("addNewUsers",t),t}))},signUp:function(t,e){var n,i,r;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t.commit("signUpPending"),n=t.rootState,s.prev=2,s.next=5,o.a.awrap(n.api.backendInteractor.register({params:Bt({},e)}));case 5:i=s.sent,t.commit("signUpSuccess"),t.commit("setToken",i.access_token),t.dispatch("loginUser",i.access_token),s.next=16;break;case 11:throw s.prev=11,s.t0=s.catch(2),r=s.t0.message,t.commit("signUpFailure",r),s.t0;case 16:case"end":return s.stop()}}),null,null,[[2,11]])},getCaptcha:function(t){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.rootState.api.backendInteractor.getCaptcha());case 1:case"end":return e.stop()}}))},logout:function(t){var e=t.rootState,n=e.oauth,i=e.instance,o=Bt({},n,{commit:t.commit,instance:i.server});return Ft.getOrCreateApp(o).then((function(t){var e={app:t,instance:o.instance,token:n.userToken};return Ft.revokeToken(e)})).then((function(){t.commit("clearCurrentUser"),t.dispatch("disconnectFromSocket"),t.commit("clearToken"),t.dispatch("stopFetchingTimeline","friends"),t.commit("setBackendInteractor",jt(t.getters.getToken())),t.dispatch("stopFetchingNotifications"),t.dispatch("stopFetchingFollowRequests"),t.commit("clearNotifications"),t.commit("resetStatuses"),t.dispatch("resetChats"),t.dispatch("setLastTimeline","public-timeline")}))},loginUser:function(t,e){return new Promise((function(n,i){var o=t.commit;o("beginLogin"),t.rootState.api.backendInteractor.verifyCredentials(e).then((function(r){if(r.error){var s=r.error;o("endLogin"),401===s.status?i(new Error("Wrong username or password")):i(new Error("An error occurred, please try again"))}else{var a=r;a.credentials=e,a.blockIds=[],a.muteIds=[],a.domainMutes=[],o("setCurrentUser",a),o("addNewUsers",[a]),t.dispatch("fetchEmoji"),function(){var t=window.Notification;return t?"default"===t.permission?t.requestPermission():Promise.resolve(t.permission):Promise.resolve(null)}().then((function(t){return o("setNotificationPermission",t)})),o("setBackendInteractor",jt(e)),a.token&&(t.dispatch("setWsToken",a.token),t.dispatch("initializeSocket"));t.getters.mergedConfig.useStreamingApi?(t.dispatch("fetchTimeline","friends",{since:null}),t.dispatch("fetchNotifications",{since:null}),t.dispatch("enableMastoSockets",!0).catch((function(t){console.error("Failed initializing MastoAPI Streaming socket",t)})).then((function(){t.dispatch("fetchChats",{latest:!0}),setTimeout((function(){return t.dispatch("setNotificationsSilence",!1)}),1e4)}))):(t.dispatch("startFetchingTimeline",{timeline:"friends"}),t.dispatch("startFetchingNotifications"),t.dispatch("startFetchingChats")),t.dispatch("fetchMutes"),t.rootState.api.backendInteractor.fetchFriends({id:a.id}).then((function(t){return o("addNewUsers",t)}))}o("endLogin"),n()})).catch((function(t){console.log(t),o("endLogin"),i(new Error("Failed to connect to server, try again"))}))}))}}},Jt=n(146),Xt=n.n(Jt),Qt=n(110),Zt=function(t,e){if(e.lastMessage&&(t.rootState.chats.currentChatId!==e.id||document.hidden)&&t.rootState.users.currentUser.id!==e.lastMessage.account_id){var n={tag:e.lastMessage.id,title:e.account.name,icon:e.account.profile_image_url,body:e.lastMessage.content};e.lastMessage.attachment&&"image"===e.lastMessage.attachment.type&&(n.image=e.lastMessage.attachment.preview_url),Object(Qt.a)(t.rootState,n)}},te=n(220);function ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ie={state:{retryMultiplier:1,backendInteractor:jt(),fetchers:{},socket:null,mastoUserSocket:null,mastoUserSocketStatus:null,followRequests:[]},mutations:{setBackendInteractor:function(t,e){t.backendInteractor=e},addFetcher:function(t,e){var n=e.fetcherName,i=e.fetcher;t.fetchers[n]=i},removeFetcher:function(t,e){var n=e.fetcherName;e.fetcher;t.fetchers[n].stop(),delete t.fetchers[n]},setWsToken:function(t,e){t.wsToken=e},setSocket:function(t,e){t.socket=e},setFollowRequests:function(t,e){t.followRequests=e},setMastoUserSocketStatus:function(t,e){t.mastoUserSocketStatus=e},incrementRetryMultiplier:function(t){t.retryMultiplier=Math.max(++t.retryMultiplier,3)},resetRetryMultiplier:function(t){t.retryMultiplier=1}},actions:{enableMastoSockets:function(t,e){var n=t.state,i=t.dispatch,o=t.commit;if(!n.mastoUserSocket||[WebSocket.CLOSED,WebSocket.CLOSING].includes(n.mastoUserSocket.getState()))return o("setMastoUserSocketStatus",e?w.b.STARTING_INITIAL:w.b.STARTING),i("startMastoUserSocket")},disableMastoSockets:function(t){var e=t.state,n=t.dispatch,i=t.commit;if(e.mastoUserSocket)return i("setMastoUserSocketStatus",w.b.DISABLED),n("stopMastoUserSocket")},startMastoUserSocket:function(t){return new Promise((function(e,n){try{var i=t.state,o=t.commit,r=t.dispatch,s=t.rootState.statuses.timelines.friends;i.mastoUserSocket=i.backendInteractor.startUserSocket({store:t}),i.mastoUserSocket.addEventListener("message",(function(e){var n=e.detail;n&&("notification"===n.event?r("addNewNotifications",{notifications:[n.notification],older:!1}):"update"===n.event?r("addNewStatuses",{statuses:[n.status],userId:!1,showImmediately:0===s.visibleStatuses.length,timeline:"friends"}):"delete"===n.event?r("deleteStatusById",n.id):"pleroma:chat_update"===n.event&&setTimeout((function(){r("addChatMessages",{chatId:n.chatUpdate.id,messages:[n.chatUpdate.lastMessage]}),r("updateChat",{chat:n.chatUpdate}),Zt(t,n.chatUpdate)}),100))})),i.mastoUserSocket.addEventListener("open",(function(){i.mastoUserSocketStatus!==w.b.STARTING_INITIAL&&r("pushGlobalNotice",{level:"success",messageKey:"timeline.socket_reconnected",timeout:5e3}),new Set([w.b.ERROR,w.b.DISABLED]).has(i.mastoUserSocketStatus)&&(r("stopFetchingTimeline",{timeline:"friends"}),r("stopFetchingNotifications"),r("stopFetchingChats")),o("resetRetryMultiplier"),o("setMastoUserSocketStatus",w.b.JOINED)})),i.mastoUserSocket.addEventListener("error",(function(t){var e=t.detail;console.error("Error in MastoAPI websocket:",e),r("clearOpenedChats")})),i.mastoUserSocket.addEventListener("close",(function(t){var e=t.detail,n=new Set([1e3,1001]),s=e.code;n.has(s)?(console.debug("Not restarting socket becasue of closure code ".concat(s," is in ignore list")),o("setMastoUserSocketStatus",w.b.CLOSED)):(console.warn("MastoAPI websocket disconnected, restarting. CloseEvent code: ".concat(s)),setTimeout((function(){r("startMastoUserSocket")}),1e3*i.retryMultiplier),o("incrementRetryMultiplier"),i.mastoUserSocketStatus!==w.b.ERROR&&(r("startFetchingTimeline",{timeline:"friends"}),r("startFetchingNotifications"),r("startFetchingChats"),r("pushGlobalNotice",{level:"error",messageKey:"timeline.socket_broke",messageArgs:[s],timeout:5e3})),o("setMastoUserSocketStatus",w.b.ERROR)),r("clearOpenedChats")})),e()}catch(t){n(t)}}))},stopMastoUserSocket:function(t){var e=t.state,n=t.dispatch;n("startFetchingTimeline",{timeline:"friends"}),n("startFetchingNotifications"),n("startFetchingChats"),e.mastoUserSocket.close()},startFetchingTimeline:function(t,e){var n=e.timeline,i=void 0===n?"friends":n,o=e.tag,r=void 0!==o&&o,s=e.userId,a=void 0!==s&&s;if(!t.state.fetchers[i]){var c=t.state.backendInteractor.startFetchingTimeline({timeline:i,store:t,userId:a,tag:r});t.commit("addFetcher",{fetcherName:i,fetcher:c})}},stopFetchingTimeline:function(t,e){var n=t.state.fetchers[e];n&&t.commit("removeFetcher",{fetcherName:e,fetcher:n})},fetchTimeline:function(t,e,n){var i=Xt()({},n);t.state.backendInteractor.fetchTimeline(ne({store:t,timeline:e},i))},startFetchingNotifications:function(t){if(!t.state.fetchers.notifications){var e=t.state.backendInteractor.startFetchingNotifications({store:t});t.commit("addFetcher",{fetcherName:"notifications",fetcher:e})}},stopFetchingNotifications:function(t){var e=t.state.fetchers.notifications;e&&t.commit("removeFetcher",{fetcherName:"notifications",fetcher:e})},fetchNotifications:function(t,e){var n=Xt()({},e);t.state.backendInteractor.fetchNotifications(ne({store:t},n))},startFetchingFollowRequests:function(t){if(!t.state.fetchers.followRequests){var e=t.state.backendInteractor.startFetchingFollowRequests({store:t});t.commit("addFetcher",{fetcherName:"followRequests",fetcher:e})}},stopFetchingFollowRequests:function(t){var e=t.state.fetchers.followRequests;e&&t.commit("removeFetcher",{fetcherName:"followRequests",fetcher:e})},removeFollowRequest:function(t,e){var n=t.state.followRequests.filter((function(t){return t!==e}));t.commit("setFollowRequests",n)},setWsToken:function(t,e){t.commit("setWsToken",e)},initializeSocket:function(t){var e=t.dispatch,n=t.commit,i=t.state,o=t.rootState,r=i.wsToken;if(o.instance.shoutAvailable&&void 0!==r&&null===i.socket){var s=new te.Socket("/socket",{params:{token:r}});s.connect(),n("setSocket",s),e("initializeShout",s)}},disconnectFromSocket:function(t){var e=t.commit,n=t.state;n.socket&&n.socket.disconnect(),e("setSocket",null)}}},oe={state:{messages:[],channel:{state:""}},mutations:{setChannel:function(t,e){t.channel=e},addMessage:function(t,e){t.messages.push(e),t.messages=t.messages.slice(-19,20)},setMessages:function(t,e){t.messages=e.slice(-19,20)}},actions:{initializeShout:function(t,e){var n=e.channel("chat:public");n.on("new_msg",(function(e){t.commit("addMessage",e)})),n.on("messages",(function(e){var n=e.messages;t.commit("setMessages",n)})),n.join(),t.commit("setChannel",n)}}},re={state:{clientId:!1,clientSecret:!1,appToken:!1,userToken:!1},mutations:{setClientData:function(t,e){var n=e.clientId,i=e.clientSecret;t.clientId=n,t.clientSecret=i},setAppToken:function(t,e){t.appToken=e},setToken:function(t,e){t.userToken=e},clearToken:function(t){t.userToken=!1,Object(r.delete)(t,"token")}},getters:{getToken:function(t){return function(){return t.userToken||t.token||t.appToken}},getUserToken:function(t){return function(){return t.userToken||t.token}}}},se=function(t){t.strategy=t.initStrategy,t.settings={}},ae={namespaced:!0,state:{settings:{},strategy:"password",initStrategy:"password"},getters:{settings:function(t,e){return t.settings},requiredPassword:function(t,e,n){return"password"===t.strategy},requiredToken:function(t,e,n){return"token"===t.strategy},requiredTOTP:function(t,e,n){return"totp"===t.strategy},requiredRecovery:function(t,e,n){return"recovery"===t.strategy}},mutations:{setInitialStrategy:function(t,e){e&&(t.initStrategy=e,t.strategy=e)},requirePassword:function(t){t.strategy="password"},requireToken:function(t){t.strategy="token"},requireMFA:function(t,e){var n=e.settings;t.settings=n,t.strategy="totp"},requireRecovery:function(t){t.strategy="recovery"},requireTOTP:function(t){t.strategy="totp"},abortMFA:function(t){se(t)}},actions:{login:function(t,e){var n,i,r,s;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.state,i=t.dispatch,r=t.commit,s=e.access_token,r("setToken",s,{root:!0}),a.next=5,o.a.awrap(i("loginUser",s,{root:!0}));case 5:se(n);case 6:case"end":return a.stop()}}))}}},ce=n(25),le={state:{media:[],currentIndex:0,activated:!1},mutations:{setMedia:function(t,e){t.media=e},setCurrent:function(t,e){t.activated=!0,t.currentIndex=e},close:function(t){t.activated=!1}},actions:{setMedia:function(t,e){(0,t.commit)("setMedia",e.filter((function(t){var e=ce.a.fileType(t.mimetype);return"image"===e||"video"===e||"audio"===e})))},setCurrent:function(t,e){(0,t.commit)("setCurrent",t.state.media.indexOf(e)||0)},closeMediaViewer:function(t){(0,t.commit)("close")}}},ue={state:{tokens:[]},actions:{fetchTokens:function(t){var e=t.rootState,n=t.commit;e.api.backendInteractor.fetchOAuthTokens().then((function(t){n("swapTokens",t)}))},revokeToken:function(t,e){var n=t.rootState,i=t.commit,o=t.state;n.api.backendInteractor.revokeOAuthToken({id:e}).then((function(t){201===t.status&&i("swapTokens",o.tokens.filter((function(t){return t.id!==e})))}))}},mutations:{swapTokens:function(t,e){t.tokens=e}}},de=n(40),pe=n.n(de),fe={state:{userId:null,statuses:[],preTickedIds:[],modalActivated:!1},mutations:{openUserReportingModal:function(t,e){var n=e.userId,i=e.statuses,o=e.preTickedIds;t.userId=n,t.statuses=i,t.preTickedIds=o,t.modalActivated=!0},closeUserReportingModal:function(t){t.modalActivated=!1}},actions:{openUserReportingModal:function(t,e){var n=t.rootState,i=t.commit,o=e.userId,r=e.statusIds,s=void 0===r?[]:r,a=s.map((function(t){return n.statuses.allStatusesObject[t]})),c=s,l=a.concat(pe()(n.statuses.allStatuses,(function(t){return t.user.id===o&&!c.includes(t.id)})));i("openUserReportingModal",{userId:o,statuses:l,preTickedIds:c})},closeUserReportingModal:function(t){(0,t.commit)("closeUserReportingModal")}}},he={state:{trackedPolls:{},pollsObject:{}},mutations:{mergeOrAddPoll:function(t,e){var n=t.pollsObject[e.id];e.expired=Date.now()>Date.parse(e.expires_at),n?Object(r.set)(t.pollsObject,e.id,M()(n,e)):Object(r.set)(t.pollsObject,e.id,e)},trackPoll:function(t,e){var n=t.trackedPolls[e];n?Object(r.set)(t.trackedPolls,e,n+1):Object(r.set)(t.trackedPolls,e,1)},untrackPoll:function(t,e){var n=t.trackedPolls[e];n?Object(r.set)(t.trackedPolls,e,n-1):Object(r.set)(t.trackedPolls,e,0)}},actions:{mergeOrAddPoll:function(t,e){(0,t.commit)("mergeOrAddPoll",e)},updateTrackedPoll:function(t,e){var n=t.rootState,i=t.dispatch,o=t.commit;n.api.backendInteractor.fetchPoll({pollId:e}).then((function(t){setTimeout((function(){n.polls.trackedPolls[e]&&i("updateTrackedPoll",e)}),3e4),o("mergeOrAddPoll",t)}))},trackPoll:function(t,e){var n=t.rootState,i=t.commit,o=t.dispatch;n.polls.trackedPolls[e]||setTimeout((function(){return o("updateTrackedPoll",e)}),3e4),i("trackPoll",e)},untrackPoll:function(t,e){(0,t.commit)("untrackPoll",e)},votePoll:function(t,e){var n=t.rootState,i=t.commit,o=(e.id,e.pollId),r=e.choices;return n.api.backendInteractor.vote({pollId:o,choices:r}).then((function(t){return i("mergeOrAddPoll",t),t}))}}},me={state:{params:null,modalActivated:!1},mutations:{openPostStatusModal:function(t,e){t.params=e,t.modalActivated=!0},closePostStatusModal:function(t){t.modalActivated=!1}},actions:{openPostStatusModal:function(t,e){(0,t.commit)("openPostStatusModal",e)},closePostStatusModal:function(t){(0,t.commit)("closePostStatusModal")}}},ge=n(114),ve=n.n(ge),be=n(85),we=n.n(be),_e=n(26),ye=n.n(_e),xe=n(221),ke=n.n(xe),Ce=n(108),Se=n.n(Ce),Oe=function(t,e){if(e.idempotency_key)return t.idempotencyKeyIndex[e.idempotency_key]},je={add:function(t,e){var n=e.messages,i=e.updateMaxId,o=void 0===i||i;if(t)for(var r=function(e){var i=n[e];if(i.chat_id!==t.chatId)return{v:void 0};if(i.fakeId){var r=t.idIndex[i.fakeId];if(r)return t.idIndex[i.id]&&(delete t.idIndex[i.id],t.messages=t.messages.filter((function(t){return t.id!==i.id}))),Object.assign(r,i,{error:!1}),delete r.fakeId,t.idIndex[r.id]=r,delete t.idIndex[i.fakeId],{v:void 0}}(!t.minId||!i.pending&&i.id<t.minId)&&(t.minId=i.id),(!t.maxId||i.id>t.maxId)&&o&&(t.maxId=i.id),t.idIndex[i.id]||Oe(t,i)||(t.lastSeenMessageId<i.id&&t.newMessageCount++,t.idIndex[i.id]=i,t.messages.push(t.idIndex[i.id]),t.idempotencyKeyIndex[i.idempotency_key]=!0)},s=0;s<n.length;s++){var a=r(s);if("object"===ye()(a))return a.v}},empty:function(t){return{idIndex:{},idempotencyKeyIndex:{},messages:[],newMessageCount:0,lastSeenMessageId:"0",chatId:t,minId:void 0,maxId:void 0}},getView:function(t){if(!t)return[];var e,n=[],i=we()(t.messages,["pending","id"],["asc","asc"]),o=i[0],r=i[i.length-1];if(o){var s=new Date(o.created_at);s.setHours(0,0,0,0),n.push({type:"date",date:s,id:s.getTime().toString()})}for(var a=!1,c=0;c<i.length;c++){var l=i[c],u=i[c+1],d=new Date(l.created_at);d.setHours(0,0,0,0),r&&r.date<d&&(n.push({type:"date",date:d,id:d.getTime().toString()}),r.isTail=!0,e=void 0,a=!0);var p={type:"message",data:l,date:d,id:l.id,messageChainId:e};(u&&u.account_id)!==l.account_id&&(p.isTail=!0,e=void 0),((r&&r.data&&r.data.account_id)!==l.account_id||a)&&(e=ke()(),p.isHead=!0,p.messageChainId=e),n.push(p),r=p,a=!1}return n},deleteMessage:function(t,e){if(t){if(t.messages=t.messages.filter((function(t){return t.id!==e})),delete t.idIndex[e],t.maxId===e){var n=A()(t.messages,"id");t.maxId=n.id}if(t.minId===e){var i=E()(t.messages,"id");t.minId=i.id}}},cullOlderMessages:function(t){var e=t.messages.length,n=e-50;if(!(e<=50)){t.messages=Se()(t.messages,["id"]),t.minId=t.messages[n].id;var i=!0,o=!1,r=void 0;try{for(var s,a=t.messages[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var c=s.value;c.id<t.minId&&(delete t.idIndex[c.id],delete t.idempotencyKeyIndex[c.idempotency_key])}}catch(t){o=!0,r=t}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}t.messages=t.messages.slice(n,e)}},resetNewMessageCount:function(t){t&&(t.newMessageCount=0,t.lastSeenMessageId=t.maxId)},clear:function(t){var e=[],n=!0,i=!1,o=void 0;try{for(var r,s=t.messages[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var a=r.value;a.error?e.push(a.id):(delete t.idIndex[a.id],delete t.idempotencyKeyIndex[a.idempotency_key])}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}t.messages=t.messages.filter((function(t){return e.includes(t.id)})),t.newMessageCount=0,t.lastSeenMessageId="0",t.minId=void 0,t.maxId=void 0},handleMessageError:function(t,e,n){if(t){var i=t.idIndex[e];if(i&&(i.error=!0,i.pending=!1,!n)){var o=we()(t.messages,["pending","id"],["asc","desc"])[0];if(o){var r=i.id;i.id="".concat(o.id,"-").concat((new Date).getTime()),t.idIndex[i.id]=i,delete t.idIndex[r]}}}}},Pe=n(10);function Te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function $e(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Te(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ie=function(t,e){return D()(t.chatList.data,{id:e})},Me={state:$e({},{chatList:{data:[],idStore:{}},chatListFetcher:null,openedChats:{},openedChatMessageServices:{},fetcher:void 0,currentChatId:null,lastReadMessageId:null}),getters:{currentChat:function(t){return t.openedChats[t.currentChatId]},currentChatMessageService:function(t){return t.openedChatMessageServices[t.currentChatId]},findOpenedChatByRecipientId:function(t){return function(e){return D()(t.openedChats,(function(t){return t.account.id===e}))}},sortedChatList:function(t){return we()(t.chatList.data,["updated_at"],["desc"])},unreadChatCount:function(t){return ve()(t.chatList.data,"unread")}},actions:{startFetchingChats:function(t){var e=t.dispatch,n=t.commit,i=function(){return e("fetchChats",{latest:!0})};i(),n("setChatListFetcher",{fetcher:function(){return bt(i,5e3)}})},stopFetchingChats:function(t){(0,t.commit)("setChatListFetcher",{fetcher:void 0})},fetchChats:function(t){var e=t.dispatch,n=t.rootState;t.commit;return n.api.backendInteractor.chats().then((function(t){var n=t.chats;return e("addNewChats",{chats:n}),n}))},addNewChats:function(t,e){var n=e.chats;(0,t.commit)("addNewChats",{dispatch:t.dispatch,chats:n,rootGetters:t.rootGetters,newChatMessageSideEffects:function(e){Zt(t,e)}})},updateChat:function(t,e){(0,t.commit)("updateChat",{chat:e.chat})},startFetchingCurrentChat:function(t,e){t.commit;(0,t.dispatch)("setCurrentChatFetcher",{fetcher:e.fetcher})},setCurrentChatFetcher:function(t,e){t.rootState;(0,t.commit)("setCurrentChatFetcher",{fetcher:e.fetcher})},addOpenedChat:function(t,e){t.rootState;var n=t.commit,i=t.dispatch,o=e.chat;n("addOpenedChat",{dispatch:i,chat:Object(Pe.b)(o)}),i("addNewUsers",[o.account])},addChatMessages:function(t,e){var n=t.commit;n("addChatMessages",$e({commit:n},e))},resetChatNewMessageCount:function(t,e){(0,t.commit)("resetChatNewMessageCount",e)},clearCurrentChat:function(t,e){t.rootState;var n=t.commit;t.dispatch;n("setCurrentChatId",{chatId:void 0}),n("setCurrentChatFetcher",{fetcher:void 0})},readChat:function(t,e){var n=t.rootState,i=t.commit,o=t.dispatch,r=e.id,s=e.lastReadId,a=n.chats.lastReadMessageId!==s;o("resetChatNewMessageCount"),i("readChat",{id:r,lastReadId:s}),a&&n.api.backendInteractor.readChat({id:r,lastReadId:s})},deleteChatMessage:function(t,e){var n=t.rootState,i=t.commit;n.api.backendInteractor.deleteChatMessage(e),i("deleteChatMessage",$e({commit:i},e))},resetChats:function(t){var e=t.commit;(0,t.dispatch)("clearCurrentChat"),e("resetChats",{commit:e})},clearOpenedChats:function(t){t.rootState;var e=t.commit;t.dispatch,t.rootGetters;e("clearOpenedChats",{commit:e})},handleMessageError:function(t,e){var n=t.commit;n("handleMessageError",$e({commit:n},e))},cullOlderMessages:function(t,e){(0,t.commit)("cullOlderMessages",e)}},mutations:{setChatListFetcher:function(t,e){e.commit;var n=e.fetcher,i=t.chatListFetcher;i&&i.stop(),t.chatListFetcher=n&&n()},setCurrentChatFetcher:function(t,e){var n=e.fetcher,i=t.fetcher;i&&i.stop(),t.fetcher=n&&n()},addOpenedChat:function(t,e){e._dispatch;var n=e.chat;t.currentChatId=n.id,s.a.set(t.openedChats,n.id,n),t.openedChatMessageServices[n.id]||s.a.set(t.openedChatMessageServices,n.id,je.empty(n.id))},setCurrentChatId:function(t,e){var n=e.chatId;t.currentChatId=n},addNewChats:function(t,e){var n=e.chats,i=e.newChatMessageSideEffects;n.forEach((function(e){var n=Ie(t,e.id);if(n){var o=(n.lastMessage&&n.lastMessage.id)!==(e.lastMessage&&e.lastMessage.id);n.lastMessage=e.lastMessage,n.unread=e.unread,n.updated_at=e.updated_at,o&&n.unread&&i(e)}else t.chatList.data.push(e),s.a.set(t.chatList.idStore,e.id,e)}))},updateChat:function(t,e){e._dispatch;var n=e.chat,i=(e._rootGetters,Ie(t,n.id));i&&(i.lastMessage=n.lastMessage,i.unread=n.unread,i.updated_at=n.updated_at),i||t.chatList.data.unshift(n),s.a.set(t.chatList.idStore,n.id,n)},deleteChat:function(t,e){e._dispatch;var n=e.id;e._rootGetters;t.chats.data=t.chats.data.filter((function(t){return t.last_status.id!==n})),t.chats.idStore=C()(t.chats.idStore,(function(t){return t.last_status.id===n}))},resetChats:function(t,e){var n=e.commit;for(var i in t.chatList={data:[],idStore:{}},t.currentChatId=null,n("setChatListFetcher",{fetcher:void 0}),t.openedChats)je.clear(t.openedChatMessageServices[i]),s.a.delete(t.openedChats,i),s.a.delete(t.openedChatMessageServices,i)},setChatsLoading:function(t,e){var n=e.value;t.chats.loading=n},addChatMessages:function(t,e){var n=e.chatId,i=e.messages,o=e.updateMaxId,r=t.openedChatMessageServices[n];r&&je.add(r,{messages:i.map(Pe.c),updateMaxId:o})},deleteChatMessage:function(t,e){var n=e.chatId,i=e.messageId,o=t.openedChatMessageServices[n];o&&je.deleteMessage(o,i)},resetChatNewMessageCount:function(t,e){var n=t.openedChatMessageServices[t.currentChatId];je.resetNewMessageCount(n)},clearOpenedChats:function(t){var e=t.currentChatId;for(var n in t.openedChats)e!==n&&(je.clear(t.openedChatMessageServices[n]),s.a.delete(t.openedChats,n),s.a.delete(t.openedChatMessageServices,n))},readChat:function(t,e){var n=e.id,i=e.lastReadId;t.lastReadMessageId=i;var o=Ie(t,n);o&&(o.unread=0)},handleMessageError:function(t,e){var n=e.chatId,i=e.fakeId,o=e.isRetry,r=t.openedChatMessageServices[n];je.handleMessageError(r,i,o)},cullOlderMessages:function(t,e){je.cullOlderMessages(t.openedChatMessageServices[e])}}},Fe=n(147),Ee=n(152),Ue=n.n(Ee),Ae=n(14),Ne=n.n(Ae),De=n(222),Le=n.n(De),Re=n(223),Be=!1,ze=function(t,e){return 0===e.length?t:e.reduce((function(e,n){return Ue()(e,n,Ne()(t,n)),e}),{})},He=["markNotificationsAsSeen","clearCurrentUser","setCurrentUser","setHighlight","setOption","setClientData","setToken","clearToken"],qe=n.n(Re).a;function Ve(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.key,n=void 0===e?"vuex-lz":e,i=t.paths,o=void 0===i?[]:i,r=t.getState,s=void 0===r?function(t,e){return e.getItem(t)}:r,a=t.setState,c=void 0===a?function(t,e,n){return Be?n.setItem(t,e):(console.log("waiting for old state to be loaded..."),Promise.resolve())}:a,l=t.reducer,u=void 0===l?ze:l,d=t.storage,p=void 0===d?qe:d,f=t.subscriber,h=void 0===f?function(t){return function(e){return t.subscribe(e)}}:f;return s(n,p).then((function(t){return function(e){try{if(null!==t&&"object"===ye()(t)){var i=t.users||{};i.usersObject={};var r=i.users||[];z()(r,(function(t){i.usersObject[t.id]=t})),t.users=i,e.replaceState(Le()({},e.state,t))}Be=!0}catch(t){console.log("Couldn't load state"),console.error(t),Be=!0}h(e)((function(t,i){try{He.includes(t.type)&&c(n,u(i,o),p).then((function(n){void 0!==n&&("setOption"!==t.type&&"setCurrentUser"!==t.type||e.dispatch("settingsSaved",{success:n}))}),(function(n){"setOption"!==t.type&&"setCurrentUser"!==t.type||e.dispatch("settingsSaved",{error:n})}))}catch(t){console.log("Couldn't persist state:"),console.log(t)}}))}}))}var We,Ge,Ke=function(t){t.subscribe((function(e,n){var i=n.instance.vapidPublicKey,o=n.config.webPushNotifications,r="granted"===n.interface.notificationPermission,s=n.users.currentUser,a="setCurrentUser"===e.type,c="setInstanceOption"===e.type&&"vapidPublicKey"===e.payload.name,l="setNotificationPermission"===e.type&&"granted"===e.payload,u="setOption"===e.type&&"webPushNotifications"===e.payload.name,d="setOption"===e.type&&"notificationVisibility"===e.payload.name;if(a||c||l||u||d){if(s&&i&&r&&o)return t.dispatch("registerPushNotifications");if(u&&!o)return t.dispatch("unregisterPushNotifications")}}))},Ye=n(80),Je=n(224),Xe=n.n(Je),Qe=n(225),Ze=n.n(Qe),tn=n(148),en=new Set([]),nn=function(t){var e=window.innerWidth-document.documentElement.clientWidth;tn.disableBodyScroll(t,{reserveScrollBarGap:!0}),en.add(t),setTimeout((function(){if(en.size<=1){if(void 0===We){var t=document.getElementById("nav");We=window.getComputedStyle(t).getPropertyValue("padding-right"),t.style.paddingRight=We?"calc(".concat(We," + ").concat(e,"px)"):"".concat(e,"px")}if(void 0===Ge){var n=document.getElementById("app_bg_wrapper");Ge=window.getComputedStyle(n).getPropertyValue("right"),n.style.right=Ge?"calc(".concat(Ge," + ").concat(e,"px)"):"".concat(e,"px")}document.body.classList.add("scroll-locked")}}))},on=function(t){en.delete(t),setTimeout((function(){0===en.size&&(void 0!==We&&(document.getElementById("nav").style.paddingRight=We,We=void 0),void 0!==Ge&&(document.getElementById("app_bg_wrapper").style.right=Ge,Ge=void 0),document.body.classList.remove("scroll-locked"))})),tn.enableBodyScroll(t)},rn={inserted:function(t,e){e.value&&nn(t)},componentUpdated:function(t,e){e.oldValue!==e.value&&(e.value?nn(t):on(t))},unbind:function(t){on(t)}},sn=n(57),an=n(149),cn=n.n(an),ln=n(86),un=n.n(ln),dn=n(45),pn=n.n(dn),fn=n(36),hn=n(230),mn=n.n(hn),gn=function(t,e){var n="retweet"===t.type?t.retweeted_status.id:t.id,i="retweet"===e.type?e.retweeted_status.id:e.id,o=Number(n),r=Number(i),s=!Number.isNaN(o),a=!Number.isNaN(r);return s&&a?o<r?-1:1:s&&!a?-1:!s&&a?1:n<i?-1:1},vn={data:function(){return{highlight:null,expanded:!1}},props:["statusId","collapsable","isPage","pinnedStatusIdsObject","inProfile","profileUserId","virtualHidden"],created:function(){this.isPage&&this.fetchConversation()},computed:{hideStatus:function(){return this.$refs.statusComponent&&this.$refs.statusComponent[0]?this.virtualHidden&&this.$refs.statusComponent[0].suspendable:this.virtualHidden},status:function(){return this.$store.state.statuses.allStatusesObject[this.statusId]},originalStatusId:function(){return this.status.retweeted_status?this.status.retweeted_status.id:this.statusId},conversationId:function(){return this.getConversationId(this.statusId)},conversation:function(){if(!this.status)return[];if(!this.isExpanded)return[this.status];var t=mn()(this.$store.state.statuses.conversationsObject[this.conversationId]),e=R()(t,{id:this.originalStatusId});return-1!==e&&(t[e]=this.status),function(t,e){return(t="retweet"===e.type?pe()(t,(function(t){return"retweet"===t.type||t.id!==e.retweeted_status.id})):pe()(t,(function(t){return"retweet"!==t.type}))).filter((function(t){return t})).sort(gn)}(t,this.status)},replies:function(){var t=1;return Tt()(this.conversation,(function(e,n){var i=n.id,o=n.in_reply_to_status_id;return o&&(e[o]=e[o]||[],e[o].push({name:"#".concat(t),id:i})),t++,e}),{})},isExpanded:function(){return this.expanded||this.isPage},hiddenStyle:function(){var t=this.status&&this.status.virtualHeight||"120px";return this.virtualHidden?{height:t}:{}}},components:{Status:fn.default},watch:{statusId:function(t,e){var n=this.getConversationId(t),i=this.getConversationId(e);n&&i&&n===i?this.setHighlight(this.originalStatusId):this.fetchConversation()},expanded:function(t){t&&this.fetchConversation()},virtualHidden:function(t){this.$store.dispatch("setVirtualHeight",{statusId:this.statusId,height:"".concat(this.$el.clientHeight,"px")})}},methods:{fetchConversation:function(){var t=this;this.status?this.$store.state.api.backendInteractor.fetchConversation({id:this.statusId}).then((function(e){var n=e.ancestors,i=e.descendants;t.$store.dispatch("addNewStatuses",{statuses:n}),t.$store.dispatch("addNewStatuses",{statuses:i}),t.setHighlight(t.originalStatusId)})):this.$store.state.api.backendInteractor.fetchStatus({id:this.statusId}).then((function(e){t.$store.dispatch("addNewStatuses",{statuses:[e]}),t.fetchConversation()}))},getReplies:function(t){return this.replies[t]||[]},focused:function(t){return this.isExpanded&&t===this.statusId},setHighlight:function(t){t&&(this.highlight=t,this.$store.dispatch("fetchFavsAndRepeats",t),this.$store.dispatch("fetchEmojiReactionsBy",t))},getHighlight:function(){return this.isExpanded?this.highlight:null},toggleExpanded:function(){this.expanded=!this.expanded},getConversationId:function(t){var e=this.$store.state.statuses.allStatusesObject[t];return Ne()(e,"retweeted_status.statusnet_conversation_id",Ne()(e,"statusnet_conversation_id"))}}},bn=n(0);var wn=function(t){n(450)},_n=Object(bn.a)(vn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hideStatus?n("div",{style:t.hiddenStyle}):n("div",{staticClass:"Conversation",class:{"-expanded":t.isExpanded,panel:t.isExpanded},style:t.hiddenStyle},[t.isExpanded?n("div",{staticClass:"panel-heading conversation-heading"},[n("span",{staticClass:"title"},[t._v(" "+t._s(t.$t("timeline.conversation"))+" ")]),t._v(" "),t.collapsable?n("button",{staticClass:"button-unstyled -link",on:{click:function(e){return e.preventDefault(),t.toggleExpanded(e)}}},[t._v("\n      "+t._s(t.$t("timeline.collapse"))+"\n    ")]):t._e()]):t._e(),t._v(" "),t._l(t.conversation,(function(e){return n("status",{key:e.id,ref:"statusComponent",refInFor:!0,staticClass:"conversation-status status-fadein panel-body",attrs:{"inline-expanded":t.collapsable&&t.isExpanded,statusoid:e,expandable:!t.isExpanded,"show-pinned":t.pinnedStatusIdsObject&&t.pinnedStatusIdsObject[e.id],focused:t.focused(e.id),"in-conversation":t.isExpanded,highlight:t.getHighlight(),replies:t.getReplies(e.id),"in-profile":t.inProfile,"profile-user-id":t.profileUserId},on:{goto:t.setHighlight,toggleExpanded:t.toggleExpanded}})}))],2)}),[],!1,wn,null,null).exports,yn=n(21),xn=n(3),kn=n(1);function Cn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}xn.c.add(kn.nb,kn.D,kn.e,kn.t,kn.E);var Sn={computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cn(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(c.e)({currentUser:function(t){return t.users.currentUser},privateMode:function(t){return t.instance.private},federating:function(t){return t.instance.federating}}))},On=Object(bn.a)(Sn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[t.currentUser?n("li",[n("router-link",{staticClass:"menu-item",attrs:{to:{name:"friends"}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding ",attrs:{"fixed-width":"",icon:"home"}}),t._v(t._s(t.$t("nav.home_timeline"))+"\n    ")],1)],1):t._e(),t._v(" "),t.currentUser||!t.privateMode?n("li",[n("router-link",{staticClass:"menu-item",attrs:{to:{name:"public-timeline"}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding ",attrs:{"fixed-width":"",icon:"users"}}),t._v(t._s(t.$t("nav.public_tl"))+"\n    ")],1)],1):t._e(),t._v(" "),!t.federating||!t.currentUser&&t.privateMode?t._e():n("li",[n("router-link",{staticClass:"menu-item",attrs:{to:{name:"public-external-timeline"}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding ",attrs:{"fixed-width":"",icon:"globe"}}),t._v(t._s(t.$t("nav.twkn"))+"\n    ")],1)],1),t._v(" "),t.currentUser?n("li",[n("router-link",{staticClass:"menu-item",attrs:{to:{name:"bookmarks"}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding ",attrs:{"fixed-width":"",icon:"bookmark"}}),t._v(t._s(t.$t("nav.bookmarks"))+"\n    ")],1)],1):t._e(),t._v(" "),t.currentUser?n("li",[n("router-link",{staticClass:"menu-item",attrs:{to:{name:"dms",params:{username:t.currentUser.screen_name}}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding ",attrs:{"fixed-width":"",icon:"envelope"}}),t._v(t._s(t.$t("nav.dms"))+"\n    ")],1)],1):t._e()])}),[],!1,null,null,null).exports;xn.c.add(kn.i);var jn={components:{Popover:yn.default,TimelineMenuContent:On},data:function(){return{isOpen:!1}},created:function(){({friends:"nav.home_timeline",bookmarks:"nav.bookmarks",dms:"nav.dms","public-timeline":"nav.public_tl","public-external-timeline":"nav.twkn"})[this.$route.name]&&this.$store.dispatch("setLastTimeline",this.$route.name)},methods:{openMenu:function(){var t=this;setTimeout((function(){t.isOpen=!0}),25)},blockOpen:function(t){this.isOpen||t.stopPropagation()},timelineName:function(){var t=this.$route.name;if("tag-timeline"===t)return"#"+this.$route.params.tag;var e={friends:"nav.home_timeline",bookmarks:"nav.bookmarks",dms:"nav.dms","public-timeline":"nav.public_tl","public-external-timeline":"nav.twkn"}[this.$route.name];return e?this.$t(e):t}}};var Pn=function(t){n(465)},Tn=Object(bn.a)(jn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Popover",{staticClass:"TimelineMenu",class:{open:t.isOpen},attrs:{trigger:"click",margin:{left:-15,right:-200},"bound-to":{x:"container"},"popover-class":"timeline-menu-popover-wrap"},on:{show:t.openMenu,close:function(){return t.isOpen=!1}},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"timeline-menu-popover popover-default"},[n("TimelineMenuContent")],1)]},proxy:!0},{key:"trigger",fn:function(){return[n("button",{staticClass:"button-unstyled title timeline-menu-title"},[n("span",{staticClass:"timeline-title"},[t._v(t._s(t.timelineName()))]),t._v(" "),n("span",[n("FAIcon",{attrs:{size:"sm",icon:"chevron-down"}})],1),t._v(" "),n("span",{staticClass:"click-blocker",on:{click:t.blockOpen}})])]},proxy:!0}])})}),[],!1,Pn,null,null).exports;function $n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}xn.c.add(kn.B,kn.C,kn.pb);var In={components:{Popover:yn.default},methods:{setReplyVisibility:function(t){this.$store.dispatch("setOption",{name:"replyVisibility",value:t}),this.$store.dispatch("queueFlushAll")},openTab:function(t){this.$store.dispatch("openSettingsModalTab",t)}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$n(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(c.c)(["mergedConfig"]),{loggedIn:function(){return!!this.$store.state.users.currentUser},replyVisibilitySelf:{get:function(){return"self"===this.mergedConfig.replyVisibility},set:function(){this.setReplyVisibility("self")}},replyVisibilityFollowing:{get:function(){return"following"===this.mergedConfig.replyVisibility},set:function(){this.setReplyVisibility("following")}},replyVisibilityAll:{get:function(){return"all"===this.mergedConfig.replyVisibility},set:function(){this.setReplyVisibility("all")}},hideMedia:{get:function(){return this.mergedConfig.hideAttachments||this.mergedConfig.hideAttachmentsInConv},set:function(){var t=!this.hideMedia;this.$store.dispatch("setOption",{name:"hideAttachments",value:t}),this.$store.dispatch("setOption",{name:"hideAttachmentsInConv",value:t})}},hideMutedPosts:{get:function(){return this.mergedConfig.hideMutedPosts||this.mergedConfig.hideFilteredStatuses},set:function(){var t=!this.hideMutedPosts;this.$store.dispatch("setOption",{name:"hideMutedPosts",value:t}),this.$store.dispatch("setOption",{name:"hideFilteredStatuses",value:t})}}})};var Mn=function(t){n(467)},Fn=Object(bn.a)(In,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Popover",{staticClass:"TimelineQuickSettings",attrs:{trigger:"click","bound-to":{x:"container"}},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"dropdown-menu"},[t.loggedIn?n("div",[n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){t.replyVisibilityAll=!0}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-radio":t.replyVisibilityAll}}),t._v(t._s(t.$t("settings.reply_visibility_all"))+"\n        ")]),t._v(" "),n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){t.replyVisibilityFollowing=!0}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-radio":t.replyVisibilityFollowing}}),t._v(t._s(t.$t("settings.reply_visibility_following_short"))+"\n        ")]),t._v(" "),n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){t.replyVisibilitySelf=!0}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-radio":t.replyVisibilitySelf}}),t._v(t._s(t.$t("settings.reply_visibility_self_short"))+"\n        ")]),t._v(" "),n("div",{staticClass:"dropdown-divider",attrs:{role:"separator"}})]):t._e(),t._v(" "),n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){t.hideMedia=!t.hideMedia}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-checked":t.hideMedia}}),t._v(t._s(t.$t("settings.hide_media_previews"))+"\n      ")]),t._v(" "),n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){t.hideMutedPosts=!t.hideMutedPosts}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-checked":t.hideMutedPosts}}),t._v(t._s(t.$t("settings.hide_all_muted_posts"))+"\n      ")]),t._v(" "),n("button",{staticClass:"button-default dropdown-item dropdown-item-icon",on:{click:function(e){return t.openTab("filtering")}}},[n("FAIcon",{attrs:{icon:"font"}}),t._v(t._s(t.$t("settings.word_filter"))+"\n      ")],1),t._v(" "),n("button",{staticClass:"button-default dropdown-item dropdown-item-icon",on:{click:function(e){return t.openTab("general")}}},[n("FAIcon",{attrs:{icon:"wrench"}}),t._v(t._s(t.$t("settings.more_settings"))+"\n      ")],1)])]},proxy:!0},{key:"trigger",fn:function(){return[n("button",{staticClass:"button-unstyled"},[n("FAIcon",{attrs:{icon:"filter"}})],1)]},proxy:!0}])})}),[],!1,Mn,null,null).exports;xn.c.add(kn.m,kn.n);var En={props:["timeline","timelineName","title","userId","tag","embedded","count","pinnedStatusIds","inProfile"],data:function(){return{paused:!1,unfocused:!1,bottomedOut:!1,virtualScrollIndex:0,blockingClicks:!1}},components:{Status:fn.default,Conversation:_n,TimelineMenu:Tn,TimelineQuickSettings:Fn},computed:{newStatusCount:function(){return this.timeline.newStatusCount},showLoadButton:function(){return this.timeline.newStatusCount>0||0!==this.timeline.flushMarker},loadButtonString:function(){return 0!==this.timeline.flushMarker?this.$t("timeline.reload"):"".concat(this.$t("timeline.show_new")," (").concat(this.newStatusCount,")")},classes:function(){var t=this.embedded?[]:["panel","panel-default"];return this.blockingClicks&&(t=t.concat(["-blocked","_misclick-prevention"])),{root:t,header:["timeline-heading"].concat(this.embedded?[]:["panel-heading"]),body:["timeline-body"].concat(this.embedded?[]:["panel-body"]),footer:["timeline-footer"].concat(this.embedded?[]:["panel-footer"])}},excludedStatusIdsObject:function(){var t=function(t,e){var n=[];if(e&&e.length>0){var i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var c=s.value;if(!e.includes(c.id))break;n.push(c.id)}}catch(t){o=!0,r=t}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}}return n}(this.timeline.visibleStatuses,this.pinnedStatusIds);return cn()(t)},pinnedStatusIdsObject:function(){return cn()(this.pinnedStatusIds)},statusesToDisplay:function(){var t=this.timeline.visibleStatuses.length,e=Math.ceil(Math.max(3,window.innerHeight/80)),n=Math.max(0,this.virtualScrollIndex-e),i=Math.min(t,this.virtualScrollIndex+e);return this.timeline.visibleStatuses.slice(n,i).map((function(t){return t.id}))},virtualScrollingEnabled:function(){return this.$store.getters.mergedConfig.virtualScrolling}},created:function(){var t=this.$store,e=t.state.users.currentUser.credentials,n=0===this.timeline.visibleStatuses.length;if(window.addEventListener("scroll",this.handleScroll),t.state.api.fetchers[this.timelineName])return!1;_t.fetchAndUpdate({store:t,credentials:e,timeline:this.timelineName,showImmediately:n,userId:this.userId,tag:this.tag})},mounted:function(){void 0!==document.hidden&&(document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),this.unfocused=document.hidden),window.addEventListener("keydown",this.handleShortKey),setTimeout(this.determineVisibleStatuses,250)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("keydown",this.handleShortKey),void 0!==document.hidden&&document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1),this.$store.commit("setLoading",{timeline:this.timelineName,value:!1})},methods:{stopBlockingClicks:pn()((function(){this.blockingClicks=!1}),1e3),blockClicksTemporarily:function(){this.blockingClicks||(this.blockingClicks=!0),this.stopBlockingClicks()},handleShortKey:function(t){["textarea","input"].includes(t.target.tagName.toLowerCase())||"."===t.key&&this.showNewStatuses()},showNewStatuses:function(){0!==this.timeline.flushMarker?(this.$store.commit("clearTimeline",{timeline:this.timelineName,excludeUserId:!0}),this.$store.commit("queueFlush",{timeline:this.timelineName,id:0}),this.fetchOlderStatuses()):(this.blockClicksTemporarily(),this.$store.commit("showNewStatuses",{timeline:this.timelineName}),this.paused=!1)},fetchOlderStatuses:un()((function(){var t=this,e=this.$store,n=e.state.users.currentUser.credentials;e.commit("setLoading",{timeline:this.timelineName,value:!0}),_t.fetchAndUpdate({store:e,credentials:n,timeline:this.timelineName,older:!0,showImmediately:!0,userId:this.userId,tag:this.tag}).then((function(e){var n=e.statuses;n&&0===n.length&&(t.bottomedOut=!0)})).finally((function(){return e.commit("setLoading",{timeline:t.timelineName,value:!1})}))}),1e3,void 0),determineVisibleStatuses:function(){if(this.$refs.timeline&&this.virtualScrollingEnabled){var t=this.$refs.timeline.children,e=Math.max(0,Math.min(this.virtualScrollIndex,t.length-1));if(0!==t.length){var n=Math.max(document.body.offsetHeight,window.pageYOffset),i=window.pageYOffset+.5*window.innerHeight,o=Math.floor(t.length*(i/n)),r=t[o].getBoundingClientRect().y,s=t[e].getBoundingClientRect().y;for(Math.abs(r)>s&&(o=e,r=s);r<-20&&o<t.length-1;)r+=t[o].offsetHeight,o++;for(;r>window.innerHeight+100&&o>0;)r-=t[--o].offsetHeight;this.virtualScrollIndex=o}}},scrollLoad:function(t){var e=document.body.getBoundingClientRect(),n=Math.max(e.height,-e.y);!1===this.timeline.loading&&this.$el.offsetHeight>0&&window.innerHeight+window.pageYOffset>=n-750&&this.fetchOlderStatuses()},handleScroll:un()((function(t){this.determineVisibleStatuses(),this.scrollLoad(t)}),200),handleVisibilityChange:function(){this.unfocused=document.hidden}},watch:{newStatusCount:function(t){if(this.$store.getters.mergedConfig.streaming&&t>0){var e=document.documentElement;!((window.pageYOffset||e.scrollTop)-(e.clientTop||0)<15)||this.paused||this.unfocused&&this.$store.getters.mergedConfig.pauseOnUnfocused?this.paused=!0:this.showNewStatuses()}}}};var Un=function(t){n(380)},An=Object(bn.a)(En,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.classes.root,"Timeline"]},[n("div",{class:t.classes.header},[t.embedded?t._e():n("TimelineMenu"),t._v(" "),t.showLoadButton?n("button",{staticClass:"button-default loadmore-button",on:{click:function(e){return e.preventDefault(),t.showNewStatuses(e)}}},[t._v("\n      "+t._s(t.loadButtonString)+"\n    ")]):n("div",{staticClass:"loadmore-text faint",on:{click:function(t){t.preventDefault()}}},[t._v("\n      "+t._s(t.$t("timeline.up_to_date"))+"\n    ")]),t._v(" "),t.embedded?t._e():n("TimelineQuickSettings")],1),t._v(" "),n("div",{class:t.classes.body},[n("div",{ref:"timeline",staticClass:"timeline"},[t._l(t.pinnedStatusIds,(function(e){return[t.timeline.statusesObject[e]?n("conversation",{key:e+"-pinned",staticClass:"status-fadein",attrs:{"status-id":e,collapsable:!0,"pinned-status-ids-object":t.pinnedStatusIdsObject,"in-profile":t.inProfile,"profile-user-id":t.userId}}):t._e()]})),t._v(" "),t._l(t.timeline.visibleStatuses,(function(e){return[t.excludedStatusIdsObject[e.id]?t._e():n("conversation",{key:e.id,staticClass:"status-fadein",attrs:{"status-id":e.id,collapsable:!0,"in-profile":t.inProfile,"profile-user-id":t.userId,"virtual-hidden":t.virtualScrollingEnabled&&!t.statusesToDisplay.includes(e.id)}})]}))],2)]),t._v(" "),n("div",{class:t.classes.footer},[0===t.count?n("div",{staticClass:"new-status-notification text-center faint"},[t._v("\n      "+t._s(t.$t("timeline.no_statuses"))+"\n    ")]):t.bottomedOut?n("div",{staticClass:"new-status-notification text-center faint"},[t._v("\n      "+t._s(t.$t("timeline.no_more_statuses"))+"\n    ")]):t.timeline.loading?n("div",{staticClass:"new-status-notification text-center"},[n("FAIcon",{attrs:{icon:"circle-notch",spin:"",size:"lg"}})],1):n("button",{staticClass:"button-unstyled -link -fullwidth",on:{click:function(e){return e.preventDefault(),t.fetchOlderStatuses()}}},[n("div",{staticClass:"new-status-notification text-center"},[t._v("\n        "+t._s(t.$t("timeline.load_older"))+"\n      ")])])])])}),[],!1,Un,null,null).exports,Nn={components:{Timeline:An},computed:{timeline:function(){return this.$store.state.statuses.timelines.public}},created:function(){this.$store.dispatch("startFetchingTimeline",{timeline:"public"})},destroyed:function(){this.$store.dispatch("stopFetchingTimeline","public")}},Dn=Object(bn.a)(Nn,(function(){var t=this.$createElement;return(this._self._c||t)("Timeline",{attrs:{title:this.$t("nav.public_tl"),timeline:this.timeline,"timeline-name":"public"}})}),[],!1,null,null,null).exports,Ln={components:{Timeline:An},computed:{timeline:function(){return this.$store.state.statuses.timelines.publicAndExternal}},created:function(){this.$store.dispatch("startFetchingTimeline",{timeline:"publicAndExternal"})},destroyed:function(){this.$store.dispatch("stopFetchingTimeline","publicAndExternal")}},Rn=Object(bn.a)(Ln,(function(){var t=this.$createElement;return(this._self._c||t)("Timeline",{attrs:{title:this.$t("nav.twkn"),timeline:this.timeline,"timeline-name":"publicAndExternal"}})}),[],!1,null,null,null).exports,Bn={components:{Timeline:An},computed:{timeline:function(){return this.$store.state.statuses.timelines.friends}}},zn=Object(bn.a)(Bn,(function(){var t=this.$createElement;return(this._self._c||t)("Timeline",{attrs:{title:this.$t("nav.timeline"),timeline:this.timeline,"timeline-name":"friends"}})}),[],!1,null,null,null).exports,Hn={created:function(){this.$store.commit("clearTimeline",{timeline:"tag"}),this.$store.dispatch("startFetchingTimeline",{timeline:"tag",tag:this.tag})},components:{Timeline:An},computed:{tag:function(){return this.$route.params.tag},timeline:function(){return this.$store.state.statuses.timelines.tag}},watch:{tag:function(){this.$store.commit("clearTimeline",{timeline:"tag"}),this.$store.dispatch("startFetchingTimeline",{timeline:"tag",tag:this.tag})}},destroyed:function(){this.$store.dispatch("stopFetchingTimeline","tag")}},qn=Object(bn.a)(Hn,(function(){var t=this.$createElement;return(this._self._c||t)("Timeline",{attrs:{title:this.tag,timeline:this.timeline,"timeline-name":"tag",tag:this.tag}})}),[],!1,null,null,null).exports,Vn={computed:{timeline:function(){return this.$store.state.statuses.timelines.bookmarks}},components:{Timeline:An},destroyed:function(){this.$store.commit("clearTimeline",{timeline:"bookmarks"})}},Wn=Object(bn.a)(Vn,(function(){var t=this.$createElement;return(this._self._c||t)("Timeline",{attrs:{title:this.$t("nav.bookmarks"),timeline:this.timeline,"timeline-name":"bookmarks"}})}),[],!1,null,null,null).exports,Gn={components:{Conversation:_n},computed:{statusId:function(){return this.$route.params.id}}},Kn=Object(bn.a)(Gn,(function(){var t=this.$createElement;return(this._self._c||t)("conversation",{attrs:{collapsable:!1,"is-page":"true","status-id":this.statusId}})}),[],!1,null,null,null).exports,Yn=n(37),Jn=n(20),Xn=n(30),Qn=n(48),Zn=n(50),ti=n(19);function ei(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}xn.c.add(kn.h,kn.jb,kn.bb,kn.T,kn.mb,kn.lb,kn.x,kn.fb);var ni={data:function(){return{userExpanded:!1,betterShadow:this.$store.state.interface.browserSupport.cssFilter,unmuted:!1}},props:["notification"],components:{StatusContent:Yn.a,UserAvatar:Jn.default,UserCard:Xn.a,Timeago:Qn.a,Status:fn.default},methods:{toggleUserExpanded:function(){this.userExpanded=!this.userExpanded},generateUserProfileLink:function(t){return Object(ti.a)(t.id,t.screen_name,this.$store.state.instance.restrictedNicknames)},getUser:function(t){return this.$store.state.users.usersObject[t.from_profile.id]},toggleMute:function(){this.unmuted=!this.unmuted},approveUser:function(){this.$store.state.api.backendInteractor.approveUser({id:this.user.id}),this.$store.dispatch("removeFollowRequest",this.user),this.$store.dispatch("markSingleNotificationAsSeen",{id:this.notification.id}),this.$store.dispatch("updateNotification",{id:this.notification.id,updater:function(t){t.type="follow"}})},denyUser:function(){var t=this;this.$store.state.api.backendInteractor.denyUser({id:this.user.id}).then((function(){t.$store.dispatch("dismissNotificationLocal",{id:t.notification.id}),t.$store.dispatch("removeFollowRequest",t.user)}))}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ei(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({userClass:function(){return Object(Zn.a)(this.notification.from_profile)},userStyle:function(){var t=this.$store.getters.mergedConfig.highlight,e=this.notification.from_profile;return Object(Zn.b)(t[e.screen_name])},user:function(){return this.$store.getters.findUser(this.notification.from_profile.id)},userProfileLink:function(){return this.generateUserProfileLink(this.user)},targetUser:function(){return this.$store.getters.findUser(this.notification.target.id)},targetUserProfileLink:function(){return this.generateUserProfileLink(this.targetUser)},needMute:function(){return this.$store.getters.relationship(this.user.id).muting},isStatusNotification:function(){return Object(G.b)(this.notification.type)}},Object(c.e)({currentUser:function(t){return t.users.currentUser}}))};var ii=function(t){n(471)},oi=Object(bn.a)(ni,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return"mention"===t.notification.type?n("Status",{attrs:{compact:!0,statusoid:t.notification.status}}):n("div",[t.needMute&&!t.unmuted?n("div",{staticClass:"Notification container -muted"},[n("small",[n("router-link",{attrs:{to:t.userProfileLink}},[t._v("\n        "+t._s(t.notification.from_profile.screen_name_ui)+"\n      ")])],1),t._v(" "),n("button",{staticClass:"button-unstyled unmute",on:{click:function(e){return e.preventDefault(),t.toggleMute(e)}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"eye-slash"}})],1)]):n("div",{staticClass:"Notification non-mention",class:[t.userClass,{highlighted:t.userStyle},"-type--"+t.notification.type],style:[t.userStyle]},[n("a",{staticClass:"avatar-container",attrs:{href:t.notification.from_profile.statusnet_profile_url},on:{"!click":function(e){return e.stopPropagation(),e.preventDefault(),t.toggleUserExpanded(e)}}},[n("UserAvatar",{attrs:{compact:!0,"better-shadow":t.betterShadow,user:t.notification.from_profile}})],1),t._v(" "),n("div",{staticClass:"notification-right"},[t.userExpanded?n("UserCard",{attrs:{"user-id":t.getUser(t.notification).id,rounded:!0,bordered:!0}}):t._e(),t._v(" "),n("span",{staticClass:"notification-details"},[n("div",{staticClass:"name-and-action"},[t.notification.from_profile.name_html?n("bdi",{staticClass:"username",attrs:{title:"@"+t.notification.from_profile.screen_name_ui},domProps:{innerHTML:t._s(t.notification.from_profile.name_html)}}):n("span",{staticClass:"username",attrs:{title:"@"+t.notification.from_profile.screen_name_ui}},[t._v(t._s(t.notification.from_profile.name))]),t._v(" "),"like"===t.notification.type?n("span",[n("FAIcon",{staticClass:"type-icon",attrs:{icon:"star"}}),t._v(" "),n("small",[t._v(t._s(t.$t("notifications.favorited_you")))])],1):t._e(),t._v(" "),"repeat"===t.notification.type?n("span",[n("FAIcon",{staticClass:"type-icon",attrs:{icon:"retweet",title:t.$t("tool_tip.repeat")}}),t._v(" "),n("small",[t._v(t._s(t.$t("notifications.repeated_you")))])],1):t._e(),t._v(" "),"follow"===t.notification.type?n("span",[n("FAIcon",{staticClass:"type-icon",attrs:{icon:"user-plus"}}),t._v(" "),n("small",[t._v(t._s(t.$t("notifications.followed_you")))])],1):t._e(),t._v(" "),"follow_request"===t.notification.type?n("span",[n("FAIcon",{staticClass:"type-icon",attrs:{icon:"user"}}),t._v(" "),n("small",[t._v(t._s(t.$t("notifications.follow_request")))])],1):t._e(),t._v(" "),"move"===t.notification.type?n("span",[n("FAIcon",{staticClass:"type-icon",attrs:{icon:"suitcase-rolling"}}),t._v(" "),n("small",[t._v(t._s(t.$t("notifications.migrated_to")))])],1):t._e(),t._v(" "),"pleroma:emoji_reaction"===t.notification.type?n("span",[n("small",[n("i18n",{attrs:{path:"notifications.reacted_with"}},[n("span",{staticClass:"emoji-reaction-emoji"},[t._v(t._s(t.notification.emoji))])])],1)]):t._e()]),t._v(" "),t.isStatusNotification?n("div",{staticClass:"timeago"},[t.notification.status?n("router-link",{staticClass:"faint-link",attrs:{to:{name:"conversation",params:{id:t.notification.status.id}}}},[n("Timeago",{attrs:{time:t.notification.created_at,"auto-update":240}})],1):t._e()],1):n("div",{staticClass:"timeago"},[n("span",{staticClass:"faint"},[n("Timeago",{attrs:{time:t.notification.created_at,"auto-update":240}})],1)]),t._v(" "),t.needMute?n("button",{staticClass:"button-unstyled",on:{click:function(e){return e.preventDefault(),t.toggleMute(e)}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"eye-slash"}})],1):t._e()]),t._v(" "),"follow"===t.notification.type||"follow_request"===t.notification.type?n("div",{staticClass:"follow-text"},[n("router-link",{staticClass:"follow-name",attrs:{to:t.userProfileLink}},[t._v("\n          @"+t._s(t.notification.from_profile.screen_name_ui)+"\n        ")]),t._v(" "),"follow_request"===t.notification.type?n("div",{staticStyle:{"white-space":"nowrap"}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding follow-request-accept",attrs:{icon:"check",title:t.$t("tool_tip.accept_follow_request")},on:{click:function(e){return t.approveUser()}}}),t._v(" "),n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding follow-request-reject",attrs:{icon:"times",title:t.$t("tool_tip.reject_follow_request")},on:{click:function(e){return t.denyUser()}}})],1):t._e()],1):"move"===t.notification.type?n("div",{staticClass:"move-text"},[n("router-link",{attrs:{to:t.targetUserProfileLink}},[t._v("\n          @"+t._s(t.notification.target.screen_name_ui)+"\n        ")])],1):[n("status-content",{staticClass:"faint",attrs:{status:t.notification.action}})]],2)])])}),[],!1,ii,null,null).exports;function ri(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ri(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}xn.c.add(kn.B);var ai={components:{Popover:yn.default},computed:{filters:function(){return this.$store.getters.mergedConfig.notificationVisibility}},methods:{toggleNotificationFilter:function(t){this.$store.dispatch("setOption",{name:"notificationVisibility",value:si({},this.filters,h()({},t,!this.filters[t]))})}}};var ci,li,ui,di,pi,fi,hi=function(t){n(473)},mi=Object(bn.a)(ai,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Popover",{staticClass:"NotificationFilters",attrs:{trigger:"click",placement:"bottom","bound-to":{x:"container"}},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"dropdown-menu"},[n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleNotificationFilter("likes")}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-checked":t.filters.likes}}),t._v(t._s(t.$t("settings.notification_visibility_likes"))+"\n      ")]),t._v(" "),n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleNotificationFilter("repeats")}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-checked":t.filters.repeats}}),t._v(t._s(t.$t("settings.notification_visibility_repeats"))+"\n      ")]),t._v(" "),n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleNotificationFilter("follows")}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-checked":t.filters.follows}}),t._v(t._s(t.$t("settings.notification_visibility_follows"))+"\n      ")]),t._v(" "),n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleNotificationFilter("mentions")}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-checked":t.filters.mentions}}),t._v(t._s(t.$t("settings.notification_visibility_mentions"))+"\n      ")]),t._v(" "),n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleNotificationFilter("emojiReactions")}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-checked":t.filters.emojiReactions}}),t._v(t._s(t.$t("settings.notification_visibility_emoji_reactions"))+"\n      ")]),t._v(" "),n("button",{staticClass:"button-default dropdown-item",on:{click:function(e){return t.toggleNotificationFilter("moves")}}},[n("span",{staticClass:"menu-checkbox",class:{"menu-checkbox-checked":t.filters.moves}}),t._v(t._s(t.$t("settings.notification_visibility_moves"))+"\n      ")])])]},proxy:!0},{key:"trigger",fn:function(){return[n("button",{staticClass:"button-unstyled"},[n("FAIcon",{attrs:{icon:"filter"}})],1)]},proxy:!0}])})}),[],!1,hi,null,null).exports,gi=(pi=function(t){return t.complete&&0!==t.naturalHeight},{initFaviconService:function(){var t=document.getElementsByTagName("link");(di=D()(t,(function(t){return"icon"===t.rel})))&&((li=document.createElement("canvas")).width=128,li.height=128,(ci=new Image).src=di.href,ui=li.getContext("2d"))},clearFaviconBadge:fi=function(){ci&&ui&&di&&(ui.clearRect(0,0,128,128),pi(ci)&&ui.drawImage(ci,0,0,ci.width,ci.height,0,0,128,128),di.href=li.toDataURL("image/png"))},drawFaviconBadge:function(){if(ci&&ui&&ui){fi();var t=getComputedStyle(document.body),e="".concat(t.getPropertyValue("--badgeNotification")||"rgb(240, 100, 100)");pi(ci)&&ui.drawImage(ci,0,0,ci.width,ci.height,0,0,128,128),ui.fillStyle=e,ui.beginPath(),ui.arc(96,32,32,0,2*Math.PI,!1),ui.fill(),di.href=li.toDataURL("image/png")}}});function vi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}xn.c.add(kn.m);var bi={components:{Notification:oi,NotificationFilters:mi},props:{noHeading:Boolean,minimalMode:Boolean,filterMode:Array},data:function(){return{bottomedOut:!1,seenToDisplayCount:30}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vi(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({mainClass:function(){return this.minimalMode?"":"panel panel-default"},notifications:function(){return Object(G.e)(this.$store)},error:function(){return this.$store.state.statuses.notifications.error},unseenNotifications:function(){return Object(G.f)(this.$store)},filteredNotifications:function(){return Object(G.a)(this.$store,this.filterMode)},unseenCount:function(){return this.unseenNotifications.length},unseenCountTitle:function(){return this.unseenCount+this.unreadChatCount},loading:function(){return this.$store.state.statuses.notifications.loading},notificationsToDisplay:function(){return this.filteredNotifications.slice(0,this.unseenCount+this.seenToDisplayCount)}},Object(c.c)(["unreadChatCount"])),watch:{unseenCountTitle:function(t){t>0?(gi.drawFaviconBadge(),this.$store.dispatch("setPageTitle","(".concat(t,")"))):(gi.clearFaviconBadge(),this.$store.dispatch("setPageTitle",""))}},methods:{markAsSeen:function(){this.$store.dispatch("markNotificationsAsSeen"),this.seenToDisplayCount=30},fetchOlderNotifications:function(){var t=this;if(!this.loading){var e=this.filteredNotifications.length-this.unseenCount;if(this.seenToDisplayCount<e)this.seenToDisplayCount=Math.min(this.seenToDisplayCount+20,e);else{this.seenToDisplayCount>e&&(this.seenToDisplayCount=e);var n=this.$store,i=n.state.users.currentUser.credentials;n.commit("setNotificationsLoading",{value:!0}),kt.fetchAndUpdate({store:n,credentials:i,older:!0}).then((function(e){n.commit("setNotificationsLoading",{value:!1}),0===e.length&&(t.bottomedOut=!0),t.seenToDisplayCount+=e.length}))}}}}};var wi=function(t){n(469)},_i=Object(bn.a)(bi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Notifications",class:{minimal:t.minimalMode}},[n("div",{class:t.mainClass},[t.noHeading?t._e():n("div",{staticClass:"panel-heading"},[n("div",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("notifications.notifications"))+"\n        "),t.unseenCount?n("span",{staticClass:"badge badge-notification unseen-count"},[t._v(t._s(t.unseenCount))]):t._e()]),t._v(" "),t.unseenCount?n("button",{staticClass:"button-default read-button",on:{click:function(e){return e.preventDefault(),t.markAsSeen(e)}}},[t._v("\n        "+t._s(t.$t("notifications.read"))+"\n      ")]):t._e(),t._v(" "),n("NotificationFilters")],1),t._v(" "),n("div",{staticClass:"panel-body"},t._l(t.notificationsToDisplay,(function(e){return n("div",{key:e.id,staticClass:"notification",class:{unseen:!t.minimalMode&&!e.seen}},[n("div",{staticClass:"notification-overlay"}),t._v(" "),n("notification",{attrs:{notification:e}})],1)})),0),t._v(" "),n("div",{staticClass:"panel-footer notifications-footer"},[t.bottomedOut?n("div",{staticClass:"new-status-notification text-center faint"},[t._v("\n        "+t._s(t.$t("notifications.no_more_notifications"))+"\n      ")]):t.loading?n("div",{staticClass:"new-status-notification text-center"},[n("FAIcon",{attrs:{icon:"circle-notch",spin:"",size:"lg"}})],1):n("button",{staticClass:"button-unstyled -link -fullwidth",on:{click:function(e){return e.preventDefault(),t.fetchOlderNotifications()}}},[n("div",{staticClass:"new-status-notification text-center"},[t._v("\n          "+t._s(t.minimalMode?t.$t("interactions.load_older"):t.$t("notifications.load_older"))+"\n        ")])])])])])}),[],!1,wi,null,null).exports,yi={mentions:["mention"],"likes+repeats":["repeat","like"],follows:["follow"],moves:["move"]},xi={data:function(){return{allowFollowingMove:this.$store.state.users.currentUser.allow_following_move,filterMode:yi.mentions}},methods:{onModeSwitch:function(t){this.filterMode=yi[t]}},components:{Notifications:_i}},ki=Object(bn.a)(xi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("div",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("nav.interactions"))+"\n    ")])]),t._v(" "),n("tab-switcher",{ref:"tabSwitcher",attrs:{"on-switch":t.onModeSwitch}},[n("span",{key:"mentions",attrs:{label:t.$t("nav.mentions")}}),t._v(" "),n("span",{key:"likes+repeats",attrs:{label:t.$t("interactions.favs_repeats")}}),t._v(" "),n("span",{key:"follows",attrs:{label:t.$t("interactions.follows")}}),t._v(" "),t.allowFollowingMove?t._e():n("span",{key:"moves",attrs:{label:t.$t("interactions.moves")}})]),t._v(" "),n("Notifications",{ref:"notifications",attrs:{"no-heading":!0,"minimal-mode":!0,"filter-mode":t.filterMode}})],1)}),[],!1,null,null,null).exports,Ci={computed:{timeline:function(){return this.$store.state.statuses.timelines.dms}},components:{Timeline:An}},Si=Object(bn.a)(Ci,(function(){var t=this.$createElement;return(this._self._c||t)("Timeline",{attrs:{title:this.$t("nav.dms"),timeline:this.timeline,"timeline-name":"dms"}})}),[],!1,null,null,null).exports,Oi=n(124),ji=s.a.component("chat-title",{name:"ChatTitle",components:{UserAvatar:Jn.default},props:["user","withAvatar"],computed:{title:function(){return this.user?this.user.screen_name_ui:""},htmlTitle:function(){return this.user?this.user.name_html:""}},methods:{getUserProfileLink:function(t){return Object(ti.a)(t.id,t.screen_name)}}});var Pi=function(t){n(479)},Ti=Object(bn.a)(ji,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chat-title",attrs:{title:t.title}},[t.withAvatar&&t.user?n("router-link",{attrs:{to:t.getUserProfileLink(t.user)}},[n("UserAvatar",{attrs:{user:t.user,width:"23px",height:"23px"}})],1):t._e(),t._v(" "),n("span",{staticClass:"username",domProps:{innerHTML:t._s(t.htmlTitle)}})],1)}),[],!1,Pi,null,null).exports;function $i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var Ii={name:"ChatListItem",props:["chat"],components:{UserAvatar:Jn.default,AvatarList:Oi.a,Timeago:Qn.a,ChatTitle:Ti,StatusContent:Yn.a},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$i(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(c.e)({currentUser:function(t){return t.users.currentUser}}),{attachmentInfo:function(){if(0!==this.chat.lastMessage.attachments.length){var t=this.chat.lastMessage.attachments.map((function(t){return ce.a.fileType(t.mimetype)}));return t.includes("video")?this.$t("file_type.video"):t.includes("audio")?this.$t("file_type.audio"):t.includes("image")?this.$t("file_type.image"):this.$t("file_type.file")}},messageForStatusContent:function(){var t=this.chat.lastMessage,e=t&&t.account_id===this.currentUser.id,n=t?this.attachmentInfo||t.content:"",i=e?"<i>".concat(this.$t("chats.you"),"</i> ").concat(n):n;return{summary:"",statusnet_html:i,text:i,attachments:[]}}}),methods:{openChat:function(t){this.chat.id&&this.$router.push({name:"chat",params:{username:this.currentUser.screen_name,recipient_id:this.chat.account.id}})}}};var Mi=function(t){n(477)},Fi=Object(bn.a)(Ii,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chat-list-item",on:{"!click":function(e){return e.preventDefault(),t.openChat(e)}}},[n("div",{staticClass:"chat-list-item-left"},[n("UserAvatar",{attrs:{user:t.chat.account,height:"48px",width:"48px"}})],1),t._v(" "),n("div",{staticClass:"chat-list-item-center"},[n("div",{staticClass:"heading"},[t.chat.account?n("span",{staticClass:"name-and-account-name"},[n("ChatTitle",{attrs:{user:t.chat.account}})],1):t._e(),t._v(" "),n("span",{staticClass:"heading-right"}),t._v(" "),n("div",{staticClass:"time-wrapper"},[n("Timeago",{attrs:{time:t.chat.updated_at,"auto-update":60}})],1)]),t._v(" "),n("div",{staticClass:"chat-preview"},[n("StatusContent",{attrs:{status:t.messageForStatusContent,"single-line":!0}}),t._v(" "),t.chat.unread>0?n("div",{staticClass:"badge badge-notification unread-chat-count"},[t._v("\n        "+t._s(t.chat.unread)+"\n      ")]):t._e()],1)])])}),[],!1,Mi,null,null).exports,Ei=n(42);function Ui(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}xn.c.add(kn.V,kn.j);var Ai={components:{BasicUserCard:Ei.a,UserAvatar:Jn.default},data:function(){return{suggestions:[],userIds:[],loading:!1,query:""}},created:function(){var t,e=this;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(this.backendInteractor.chats());case 2:t=n.sent,t.chats.forEach((function(t){return e.suggestions.push(t.account)}));case 5:case"end":return n.stop()}}),null,this)},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ui(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ui(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({users:function(){var t=this;return this.userIds.map((function(e){return t.findUser(e)}))},availableUsers:function(){return 0!==this.query.length?this.users:this.suggestions}},Object(c.e)({currentUser:function(t){return t.users.currentUser},backendInteractor:function(t){return t.api.backendInteractor}}),{},Object(c.c)(["findUser"])),methods:{goBack:function(){this.$emit("cancel")},goToChat:function(t){this.$router.push({name:"chat",params:{recipient_id:t.id}})},onInput:function(){this.search(this.query)},addUser:function(t){this.selectedUserIds.push(t.id),this.query=""},removeUser:function(t){this.selectedUserIds=this.selectedUserIds.filter((function(e){return e!==t}))},search:function(t){var e=this;t?(this.loading=!0,this.userIds=[],this.$store.dispatch("search",{q:t,resolve:!0,type:"accounts"}).then((function(t){e.loading=!1,e.userIds=t.accounts.map((function(t){return t.id}))}))):this.loading=!1}}};var Ni=function(t){n(481)},Di=Object(bn.a)(Ai,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel-default panel chat-new",attrs:{id:"nav"}},[n("div",{ref:"header",staticClass:"panel-heading"},[n("a",{staticClass:"go-back-button",on:{click:t.goBack}},[n("FAIcon",{attrs:{size:"lg",icon:"chevron-left"}})],1)]),t._v(" "),n("div",{staticClass:"input-wrap"},[n("div",{staticClass:"input-search"},[n("FAIcon",{staticClass:"search-icon fa-scale-110 fa-old-padding",attrs:{icon:"search"}})],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"search",attrs:{placeholder:"Search people"},domProps:{value:t.query},on:{input:[function(e){e.target.composing||(t.query=e.target.value)},t.onInput]}})]),t._v(" "),n("div",{staticClass:"member-list"},t._l(t.availableUsers,(function(e){return n("div",{key:e.id,staticClass:"member"},[n("div",{on:{"!click":function(n){return n.preventDefault(),t.goToChat(e)}}},[n("BasicUserCard",{attrs:{user:e}})],1)])})),0)])}),[],!1,Ni,null,null).exports,Li=n(58);function Ri(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var Bi={components:{ChatListItem:Fi,List:Li.a,ChatNew:Di},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ri(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ri(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(c.e)({currentUser:function(t){return t.users.currentUser}}),{},Object(c.c)(["sortedChatList"])),data:function(){return{isNew:!1}},created:function(){this.$store.dispatch("fetchChats",{latest:!0})},methods:{cancelNewChat:function(){this.isNew=!1,this.$store.dispatch("fetchChats",{latest:!0})},newChat:function(){this.isNew=!0}}};var zi=function(t){n(475)},Hi=Object(bn.a)(Bi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isNew?n("div",[n("ChatNew",{on:{cancel:t.cancelNewChat}})],1):n("div",{staticClass:"chat-list panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("span",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("chats.chats"))+"\n    ")]),t._v(" "),n("button",{staticClass:"button-default",on:{click:t.newChat}},[t._v("\n      "+t._s(t.$t("chats.new"))+"\n    ")])]),t._v(" "),n("div",{staticClass:"panel-body"},[t.sortedChatList.length>0?n("div",{staticClass:"timeline"},[n("List",{attrs:{items:t.sortedChatList},scopedSlots:t._u([{key:"item",fn:function(t){var e=t.item;return[n("ChatListItem",{key:e.id,attrs:{compact:!1,chat:e}})]}}],null,!1,1412157271)})],1):n("div",{staticClass:"emtpy-chat-list-alert"},[n("span",[t._v(t._s(t.$t("chats.empty_chat_list_placeholder")))])])])])}),[],!1,zi,null,null).exports,qi=n(47),Vi=n(121),Wi=n(122),Gi=n(104),Ki={name:"Timeago",props:["date"],computed:{displayDate:function(){var t=new Date;return t.setHours(0,0,0,0),this.date.getTime()===t.getTime()?this.$t("display_date.today"):this.date.toLocaleDateString(Gi.a.internalToBrowserLocale(this.$i18n.locale),{day:"numeric",month:"long"})}}},Yi=Object(bn.a)(Ki,(function(){var t=this.$createElement;return(this._self._c||t)("time",[this._v("\n  "+this._s(this.displayDate)+"\n")])}),[],!1,null,null,null).exports;function Ji(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}xn.c.add(kn.jb,kn.r);var Xi={name:"ChatMessage",props:["author","edited","noHeading","chatViewItem","hoveredMessageChain"],components:{Popover:yn.default,Attachment:qi.a,StatusContent:Yn.a,UserAvatar:Jn.default,Gallery:Vi.a,LinkPreview:Wi.a,ChatMessageDate:Yi},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ji(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({createdAt:function(){return this.chatViewItem.data.created_at.toLocaleTimeString("en",{hour:"2-digit",minute:"2-digit",hour12:!1})},isCurrentUser:function(){return this.message.account_id===this.currentUser.id},message:function(){return this.chatViewItem.data},userProfileLink:function(){return Object(ti.a)(this.author.id,this.author.screen_name,this.$store.state.instance.restrictedNicknames)},isMessage:function(){return"message"===this.chatViewItem.type},messageForStatusContent:function(){return{summary:"",statusnet_html:this.message.content,text:this.message.content,attachments:this.message.attachments}},hasAttachment:function(){return this.message.attachments.length>0}},Object(c.e)({betterShadow:function(t){return t.interface.browserSupport.cssFilter},currentUser:function(t){return t.users.currentUser},restrictedNicknames:function(t){return t.instance.restrictedNicknames}}),{popoverMarginStyle:function(){return this.isCurrentUser?{}:{left:50}}},Object(c.c)(["mergedConfig","findUser"])),data:function(){return{hovered:!1,menuOpened:!1}},methods:{onHover:function(t){this.$emit("hover",{isHovered:t,messageChainId:this.chatViewItem.messageChainId})},deleteMessage:function(){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm(this.$t("chats.delete_confirm"))){t.next=4;break}return t.next=4,o.a.awrap(this.$store.dispatch("deleteChatMessage",{messageId:this.chatViewItem.data.id,chatId:this.chatViewItem.data.chat_id}));case 4:this.hovered=!1,this.menuOpened=!1;case 6:case"end":return t.stop()}}),null,this)}}};var Qi=function(t){n(489)},Zi=Object(bn.a)(Xi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isMessage?n("div",{staticClass:"chat-message-wrapper",class:{"hovered-message-chain":t.hoveredMessageChain},on:{mouseover:function(e){return t.onHover(!0)},mouseleave:function(e){return t.onHover(!1)}}},[n("div",{staticClass:"chat-message",class:[{outgoing:t.isCurrentUser,incoming:!t.isCurrentUser}]},[t.isCurrentUser?t._e():n("div",{staticClass:"avatar-wrapper"},[t.chatViewItem.isHead?n("router-link",{attrs:{to:t.userProfileLink}},[n("UserAvatar",{attrs:{compact:!0,"better-shadow":t.betterShadow,user:t.author}})],1):t._e()],1),t._v(" "),n("div",{staticClass:"chat-message-inner"},[n("div",{staticClass:"status-body",style:{"min-width":t.message.attachment?"80%":""}},[n("div",{staticClass:"media status",class:{"without-attachment":!t.hasAttachment,pending:t.chatViewItem.data.pending,error:t.chatViewItem.data.error},staticStyle:{position:"relative"},on:{mouseenter:function(e){t.hovered=!0},mouseleave:function(e){t.hovered=!1}}},[n("div",{staticClass:"chat-message-menu",class:{visible:t.hovered||t.menuOpened}},[n("Popover",{attrs:{trigger:"click",placement:"top","bound-to-selector":t.isCurrentUser?"":".scrollable-message-list","bound-to":{x:"container"},margin:t.popoverMarginStyle},on:{show:function(e){t.menuOpened=!0},close:function(e){t.menuOpened=!1}},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"dropdown-menu"},[n("button",{staticClass:"button-default dropdown-item dropdown-item-icon",on:{click:t.deleteMessage}},[n("FAIcon",{attrs:{icon:"times"}}),t._v(" "+t._s(t.$t("chats.delete"))+"\n                  ")],1)])]},proxy:!0},{key:"trigger",fn:function(){return[n("button",{staticClass:"button-default menu-icon",attrs:{title:t.$t("chats.more")}},[n("FAIcon",{attrs:{icon:"ellipsis-h"}})],1)]},proxy:!0}],null,!1,140024536)})],1),t._v(" "),n("StatusContent",{attrs:{status:t.messageForStatusContent,"full-content":!0},scopedSlots:t._u([{key:"footer",fn:function(){return[n("span",{staticClass:"created-at"},[t._v("\n                "+t._s(t.createdAt)+"\n              ")])]},proxy:!0}],null,!1,4198611077)})],1)])])])]):n("div",{staticClass:"chat-message-date-separator"},[n("ChatMessageDate",{attrs:{date:t.chatViewItem.date}})],1)}),[],!1,Qi,null,null).exports,to=n(46),eo=function(t){return{scrollTop:t.scrollTop,scrollHeight:t.scrollHeight,offsetHeight:t.offsetHeight}};function no(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?no(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}xn.c.add(kn.i,kn.j);var oo={components:{ChatMessage:Zi,ChatTitle:Ti,PostStatusForm:to.a},data:function(){return{jumpToBottomButtonVisible:!1,hoveredMessageChainId:void 0,lastScrollPosition:{},scrollableContainerHeight:"100%",errorLoadingChat:!1,messageRetriers:{}}},created:function(){this.startFetching(),window.addEventListener("resize",this.handleLayoutChange)},mounted:function(){var t=this;window.addEventListener("scroll",this.handleScroll),void 0!==document.hidden&&document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),this.$nextTick((function(){t.updateScrollableContainerHeight(),t.handleResize()})),this.setChatLayout()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleLayoutChange),this.unsetChatLayout(),void 0!==document.hidden&&document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1),this.$store.dispatch("clearCurrentChat")},computed:io({recipient:function(){return this.currentChat&&this.currentChat.account},recipientId:function(){return this.$route.params.recipient_id},formPlaceholder:function(){return this.recipient?this.$t("chats.message_user",{nickname:this.recipient.screen_name_ui}):""},chatViewItems:function(){return je.getView(this.currentChatMessageService)},newMessageCount:function(){return this.currentChatMessageService&&this.currentChatMessageService.newMessageCount},streamingEnabled:function(){return this.mergedConfig.useStreamingApi&&this.mastoUserSocketStatus===w.b.JOINED}},Object(c.c)(["currentChat","currentChatMessageService","findOpenedChatByRecipientId","mergedConfig"]),{},Object(c.e)({backendInteractor:function(t){return t.api.backendInteractor},mastoUserSocketStatus:function(t){return t.api.mastoUserSocketStatus},mobileLayout:function(t){return t.interface.mobileLayout},layoutHeight:function(t){return t.interface.layoutHeight},currentUser:function(t){return t.users.currentUser}})),watch:{chatViewItems:function(){var t=this,e=this.bottomedOut(10);this.$nextTick((function(){e&&t.scrollDown()}))},$route:function(){this.startFetching()},layoutHeight:function(){this.handleResize({expand:!0})},mastoUserSocketStatus:function(t){t===w.b.JOINED&&this.fetchChat({isFirstFetch:!0})}},methods:{onMessageHover:function(t){var e=t.isHovered,n=t.messageChainId;this.hoveredMessageChainId=e?n:void 0},onFilesDropped:function(){var t=this;this.$nextTick((function(){t.handleResize(),t.updateScrollableContainerHeight()}))},handleVisibilityChange:function(){var t=this;this.$nextTick((function(){!document.hidden&&t.bottomedOut(10)&&t.scrollDown({forceRead:!0})}))},setChatLayout:function(){var t=this,e=document.querySelector("html");e&&e.classList.add("chat-layout"),this.$nextTick((function(){t.updateScrollableContainerHeight()}))},unsetChatLayout:function(){var t=document.querySelector("html");t&&t.classList.remove("chat-layout")},handleLayoutChange:function(){var t=this;this.$nextTick((function(){t.updateScrollableContainerHeight(),t.scrollDown()}))},updateScrollableContainerHeight:function(){var t=this.$refs.header,e=this.$refs.footer,n=this.mobileLayout?window.document.body:this.$refs.inner;this.scrollableContainerHeight=function(t,e,n){return t.offsetHeight-e.clientHeight-n.clientHeight}(n,t,e)+"px"},handleResize:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.expand,i=void 0!==n&&n,o=e.delayed,r=void 0!==o&&o;r?setTimeout((function(){t.handleResize(io({},e,{delayed:!1}))}),100):this.$nextTick((function(){t.updateScrollableContainerHeight();var e=t.lastScrollPosition.offsetHeight,n=void 0===e?void 0:e;t.lastScrollPosition=eo(t.$refs.scrollable);var o=t.lastScrollPosition.offsetHeight-n;(o<0||!t.bottomedOut()&&i)&&t.$nextTick((function(){t.updateScrollableContainerHeight(),t.$refs.scrollable.scrollTo({top:t.$refs.scrollable.scrollTop-o,left:0})}))}))},scrollDown:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.behavior,n=void 0===e?"auto":e,i=t.forceRead,o=void 0!==i&&i,r=this.$refs.scrollable;r&&(this.$nextTick((function(){r.scrollTo({top:r.scrollHeight,left:0,behavior:n})})),o&&this.readChat())},readChat:function(){if(this.currentChatMessageService&&this.currentChatMessageService.maxId&&!document.hidden){var t=this.currentChatMessageService.maxId;this.$store.dispatch("readChat",{id:this.currentChat.id,lastReadId:t})}},bottomedOut:function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t){var n=t.scrollTop+e,i=t.scrollHeight-t.offsetHeight;return i<=n}}(this.$refs.scrollable,t)},reachedTop:function(){var t=this.$refs.scrollable;return t&&t.scrollTop<=0},cullOlderCheck:function(){var t=this;window.setTimeout((function(){t.bottomedOut(150)&&t.$store.dispatch("cullOlderMessages",t.currentChatMessageService.chatId)}),5e3)},handleScroll:un()((function(){var t=this;this.currentChat&&(this.reachedTop()?this.fetchChat({maxId:this.currentChatMessageService.minId}):this.bottomedOut(150)?(this.jumpToBottomButtonVisible=!1,this.cullOlderCheck(),this.newMessageCount>0&&window.setTimeout((function(){t.$el&&t.readChat()}),1500)):this.jumpToBottomButtonVisible=!0)}),200),handleScrollUp:function(t){var e,n,i=eo(this.$refs.scrollable);this.$refs.scrollable.scrollTo({top:(e=t,n=i,e.scrollTop+(n.scrollHeight-e.scrollHeight)),left:0})},fetchChat:function(t){var e=this,n=t.isFirstFetch,i=void 0!==n&&n,o=t.fetchLatest,r=void 0!==o&&o,s=t.maxId,a=this.currentChatMessageService;if(a&&(!r||!this.streamingEnabled)){var c=a.chatId,l=!!s,u=r&&a.maxId;return this.backendInteractor.chatMessages({id:c,maxId:s,sinceId:u}).then((function(t){i&&je.clear(a);var n=eo(e.$refs.scrollable);e.$store.dispatch("addChatMessages",{chatId:c,messages:t}).then((function(){e.$nextTick((function(){l&&e.handleScrollUp(n),i&&e.updateScrollableContainerHeight(),!function(t){if(t)return t.scrollHeight>t.clientHeight}(e.$refs.scrollable)&&t.length>0&&e.fetchChat({maxId:e.currentChatMessageService.minId})}))}))}))}},startFetching:function(){var t,e=this;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.findOpenedChatByRecipientId(this.recipientId)){n.next=12;break}return n.prev=2,n.next=5,o.a.awrap(this.backendInteractor.getOrCreateChat({accountId:this.recipientId}));case 5:t=n.sent,n.next=12;break;case 8:n.prev=8,n.t0=n.catch(2),console.error("Error creating or getting a chat",n.t0),this.errorLoadingChat=!0;case 12:t&&(this.$nextTick((function(){e.scrollDown({forceRead:!0})})),this.$store.dispatch("addOpenedChat",{chat:t}),this.doStartFetching());case 13:case"end":return n.stop()}}),null,this,[[2,8]])},doStartFetching:function(){var t=this;this.$store.dispatch("startFetchingCurrentChat",{fetcher:function(){return bt((function(){return t.fetchChat({fetchLatest:!0})}),5e3)}}),this.fetchChat({isFirstFetch:!0})},handleAttachmentPosting:function(){var t=this;this.$nextTick((function(){t.handleResize(),setTimeout((function(){t.updateScrollableContainerHeight()}),100),t.scrollDown({forceRead:!0})}))},sendMessage:function(t){var e=this,n=t.status,i=t.media,o=t.idempotencyKey,r={id:this.currentChat.id,content:n,idempotencyKey:o};i[0]&&(r.mediaId=i[0].id);var s=function(t){var e=t.content,n=t.chatId,i=t.attachments,o=t.userId,r=t.idempotencyKey,s={content:e,chat_id:n,created_at:new Date,id:"".concat((new Date).getTime()),attachments:i,account_id:o,idempotency_key:r,emojis:[],pending:!0,isNormalized:!0};return i[0]&&(s.attachment=i[0]),s}({attachments:i,chatId:this.currentChat.id,content:n,userId:this.currentUser.id,idempotencyKey:o});return this.$store.dispatch("addChatMessages",{chatId:this.currentChat.id,messages:[s]}).then((function(){e.handleAttachmentPosting()})),this.doSendMessage({params:r,fakeMessage:s,retriesLeft:10})},doSendMessage:function(t){var e=this,n=t.params,i=t.fakeMessage,o=t.retriesLeft,r=void 0===o?10:o;if(!(r<=0))return this.backendInteractor.sendChatMessage(n).then((function(t){return e.$store.dispatch("addChatMessages",{chatId:e.currentChat.id,updateMaxId:!1,messages:[io({},t,{fakeId:i.id})]}),t})).catch((function(t){return console.error("Error sending message",t),e.$store.dispatch("handleMessageError",{chatId:e.currentChat.id,fakeId:i.id,isRetry:10!==r}),(t.statusCode>=500&&t.statusCode<600||"Failed to fetch"===t.message)&&(e.messageRetriers[i.id]=setTimeout((function(){e.doSendMessage({params:n,fakeMessage:i,retriesLeft:r-1})}),1e3*Math.pow(2,10-r))),{}})),Promise.resolve(i)},goBack:function(){this.$router.push({name:"chats",params:{username:this.currentUser.screen_name}})}}};var ro=function(t){n(487)},so=Object(bn.a)(oo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chat-view"},[n("div",{staticClass:"chat-view-inner"},[n("div",{ref:"inner",staticClass:"panel-default panel chat-view-body",attrs:{id:"nav"}},[n("div",{ref:"header",staticClass:"panel-heading chat-view-heading mobile-hidden"},[n("a",{staticClass:"go-back-button",on:{click:t.goBack}},[n("FAIcon",{attrs:{size:"lg",icon:"chevron-left"}})],1),t._v(" "),n("div",{staticClass:"title text-center"},[n("ChatTitle",{attrs:{user:t.recipient,"with-avatar":!0}})],1)]),t._v(" "),[n("div",{ref:"scrollable",staticClass:"scrollable-message-list",style:{height:t.scrollableContainerHeight},on:{scroll:t.handleScroll}},[t.errorLoadingChat?n("div",{staticClass:"chat-loading-error"},[n("div",{staticClass:"alert error"},[t._v("\n              "+t._s(t.$t("chats.error_loading_chat"))+"\n            ")])]):t._l(t.chatViewItems,(function(e){return n("ChatMessage",{key:e.id,attrs:{author:t.recipient,"chat-view-item":e,"hovered-message-chain":e.messageChainId===t.hoveredMessageChainId},on:{hover:t.onMessageHover}})}))],2),t._v(" "),n("div",{ref:"footer",staticClass:"panel-body footer"},[n("div",{staticClass:"jump-to-bottom-button",class:{visible:t.jumpToBottomButtonVisible},on:{click:function(e){return t.scrollDown({behavior:"smooth"})}}},[n("span",[n("FAIcon",{attrs:{icon:"chevron-down"}}),t._v(" "),t.newMessageCount?n("div",{staticClass:"badge badge-notification unread-chat-count unread-message-count"},[t._v("\n                "+t._s(t.newMessageCount)+"\n              ")]):t._e()],1)]),t._v(" "),n("PostStatusForm",{attrs:{"disable-subject":!0,"disable-scope-selector":!0,"disable-notice":!0,"disable-lock-warning":!0,"disable-polls":!0,"disable-sensitivity-checkbox":!0,"disable-submit":t.errorLoadingChat||!t.currentChat,"disable-preview":!0,"optimistic-posting":!0,"post-handler":t.sendMessage,"submit-on-enter":!t.mobileLayout,"preserve-focus":!t.mobileLayout,"auto-focus":!t.mobileLayout,placeholder:t.formPlaceholder,"file-limit":1,"max-height":"160","emoji-picker-placement":"top"},on:{resize:t.handleResize}})],1)]],2)])])}),[],!1,ro,null,null).exports,ao=n(123),co=n(119),lo={props:["user","noFollowsYou"],components:{BasicUserCard:Ei.a,RemoteFollow:ao.a,FollowButton:co.a},computed:{isMe:function(){return this.$store.state.users.currentUser.id===this.user.id},loggedIn:function(){return this.$store.state.users.currentUser},relationship:function(){return this.$store.getters.relationship(this.user.id)}}};var uo=function(t){n(493)},po=Object(bn.a)(lo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("basic-user-card",{attrs:{user:t.user}},[n("div",{staticClass:"follow-card-content-container"},[t.isMe||!t.noFollowsYou&&t.relationship.followed_by?n("span",{staticClass:"faint"},[t._v("\n      "+t._s(t.isMe?t.$t("user_card.its_you"):t.$t("user_card.follows_you"))+"\n    ")]):t._e(),t._v(" "),t.loggedIn?t.isMe?t._e():[n("FollowButton",{staticClass:"follow-card-follow-button",attrs:{relationship:t.relationship,"label-following":t.$t("user_card.follow_unfollow")}})]:[t.relationship.following?t._e():n("div",{staticClass:"follow-card-follow-button"},[n("RemoteFollow",{attrs:{user:t.user}})],1)]],2)])}),[],!1,uo,null,null).exports,fo=n(150),ho=n(203),mo=n.n(ho),go=n(204),vo=n.n(go),bo=n(205);n(496);function wo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function _o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wo(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}xn.c.add(kn.m);var yo=function(t){var e=t.fetch,n=t.select,i=t.destroy,o=t.childPropName,r=void 0===o?"entries":o,a=t.additionalPropNames,c=void 0===a?[]:a;return function(t){var o=Object.keys(Object(bo.a)(t)).filter((function(t){return t!==r})).concat(c);return s.a.component("withLoadMore",{props:o,data:function(){return{loading:!1,bottomedOut:!1,error:!1,entries:[]}},created:function(){window.addEventListener("scroll",this.scrollLoad),0===this.entries.length&&this.fetchEntries()},destroyed:function(){window.removeEventListener("scroll",this.scrollLoad),i&&i(this.$props,this.$store)},methods:{updateEntries:function(){this.entries=n(this.$props,this.$store)||[]},fetchEntries:function(){var t=this;this.loading||(this.loading=!0,this.error=!1,e(this.$props,this.$store).then((function(e){t.loading=!1,t.bottomedOut=vo()(e)})).catch((function(){t.loading=!1,t.error=!0})).finally((function(){t.updateEntries()})))},scrollLoad:function(t){var e=document.body.getBoundingClientRect(),n=Math.max(e.height,-e.y);!1===this.loading&&!1===this.bottomedOut&&this.$el.offsetHeight>0&&window.innerHeight+window.pageYOffset>=n-750&&this.fetchEntries()}},render:function(e){var n={props:_o({},this.$props,h()({},r,this.entries)),on:this.$listeners,scopedSlots:this.$scopedSlots},i=Object.entries(this.$slots).map((function(t){var n=g()(t,2),i=n[0],o=n[1];return e("template",{slot:i},o)}));return e("div",{class:"with-load-more"},[e(t,mo()([{},n]),[i]),e("div",{class:"with-load-more-footer"},[this.error&&e("button",{on:{click:this.fetchEntries},class:"button-unstyled -link -fullwidth alert error"},[this.$t("general.generic_error")]),!this.error&&this.loading&&e(sn.a,{attrs:{spin:!0,icon:"circle-notch"}}),!this.error&&!this.loading&&!this.bottomedOut&&e("a",{on:{click:this.fetchEntries}},[this.$t("general.more")])])])}})}};xn.c.add(kn.m);var xo=yo({fetch:function(t,e){return e.dispatch("fetchFollowers",t.userId)},select:function(t,e){return Ne()(e.getters.findUser(t.userId),"followerIds",[]).map((function(t){return e.getters.findUser(t)}))},destroy:function(t,e){return e.dispatch("clearFollowers",t.userId)},childPropName:"items",additionalPropNames:["userId"]})(Li.a),ko=yo({fetch:function(t,e){return e.dispatch("fetchFriends",t.userId)},select:function(t,e){return Ne()(e.getters.findUser(t.userId),"friendIds",[]).map((function(t){return e.getters.findUser(t)}))},destroy:function(t,e){return e.dispatch("clearFriends",t.userId)},childPropName:"items",additionalPropNames:["userId"]})(Li.a),Co={data:function(){return{error:!1,userId:null,tab:"statuses"}},created:function(){var t=this.$route.params;this.load(t.name||t.id),this.tab=Ne()(this.$route,"query.tab","statuses")},destroyed:function(){this.stopFetching()},computed:{timeline:function(){return this.$store.state.statuses.timelines.user},favorites:function(){return this.$store.state.statuses.timelines.favorites},media:function(){return this.$store.state.statuses.timelines.media},isUs:function(){return this.userId&&this.$store.state.users.currentUser.id&&this.userId===this.$store.state.users.currentUser.id},user:function(){return this.$store.getters.findUser(this.userId)},isExternal:function(){return"external-user-profile"===this.$route.name},followsTabVisible:function(){return this.isUs||!this.user.hide_follows},followersTabVisible:function(){return this.isUs||!this.user.hide_followers}},methods:{load:function(t){var e=this,n=function(t,n){n!==e.$store.state.statuses.timelines[t].userId&&e.$store.commit("clearTimeline",{timeline:t}),e.$store.dispatch("startFetchingTimeline",{timeline:t,userId:n})},i=function(t){e.userId=t,n("user",t),n("media",t),e.isUs&&n("favorites",t),e.$store.dispatch("fetchPinnedStatuses",t)};this.userId=null,this.error=!1;var o=this.$store.getters.findUser(t);o?i(o.id):this.$store.dispatch("fetchUser",t).then((function(t){var e=t.id;return i(e)})).catch((function(t){var n=Ne()(t,"error.error");e.error="No user with such user_id"===n?e.$t("user_profile.profile_does_not_exist"):n||e.$t("user_profile.profile_loading_error")}))},stopFetching:function(){this.$store.dispatch("stopFetchingTimeline","user"),this.$store.dispatch("stopFetchingTimeline","favorites"),this.$store.dispatch("stopFetchingTimeline","media")},switchUser:function(t){this.stopFetching(),this.load(t)},onTabSwitch:function(t){this.tab=t,this.$router.replace({query:{tab:t}})},linkClicked:function(t){var e=t.target;"SPAN"===e.tagName&&(e=e.parentNode),"A"===e.tagName&&window.open(e.href,"_blank")}},watch:{"$route.params.id":function(t){t&&this.switchUser(t)},"$route.params.name":function(t){t&&this.switchUser(t)},"$route.query":function(t){this.tab=t.tab||"statuses"}},components:{UserCard:Xn.a,Timeline:An,FollowerList:xo,FriendList:ko,FollowCard:po,TabSwitcher:fo.a,Conversation:_n}};var So=function(t){n(491)},Oo=Object(bn.a)(Co,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.user?n("div",{staticClass:"user-profile panel panel-default"},[n("UserCard",{attrs:{"user-id":t.userId,switcher:!0,selected:t.timeline.viewing,"allow-zooming-avatar":!0,rounded:"top"}}),t._v(" "),t.user.fields_html&&t.user.fields_html.length>0?n("div",{staticClass:"user-profile-fields"},t._l(t.user.fields_html,(function(e,i){return n("dl",{key:i,staticClass:"user-profile-field"},[n("dt",{staticClass:"user-profile-field-name",attrs:{title:t.user.fields_text[i].name},domProps:{innerHTML:t._s(e.name)},on:{click:function(e){return e.preventDefault(),t.linkClicked(e)}}}),t._v(" "),n("dd",{staticClass:"user-profile-field-value",attrs:{title:t.user.fields_text[i].value},domProps:{innerHTML:t._s(e.value)},on:{click:function(e){return e.preventDefault(),t.linkClicked(e)}}})])})),0):t._e(),t._v(" "),n("tab-switcher",{attrs:{"active-tab":t.tab,"render-only-focused":!0,"on-switch":t.onTabSwitch}},[n("Timeline",{key:"statuses",attrs:{label:t.$t("user_card.statuses"),count:t.user.statuses_count,embedded:!0,title:t.$t("user_profile.timeline_title"),timeline:t.timeline,"timeline-name":"user","user-id":t.userId,"pinned-status-ids":t.user.pinnedStatusIds,"in-profile":!0}}),t._v(" "),t.followsTabVisible?n("div",{key:"followees",attrs:{label:t.$t("user_card.followees"),disabled:!t.user.friends_count}},[n("FriendList",{attrs:{"user-id":t.userId},scopedSlots:t._u([{key:"item",fn:function(t){var e=t.item;return[n("FollowCard",{attrs:{user:e}})]}}],null,!1,676117295)})],1):t._e(),t._v(" "),t.followersTabVisible?n("div",{key:"followers",attrs:{label:t.$t("user_card.followers"),disabled:!t.user.followers_count}},[n("FollowerList",{attrs:{"user-id":t.userId},scopedSlots:t._u([{key:"item",fn:function(e){var i=e.item;return[n("FollowCard",{attrs:{user:i,"no-follows-you":t.isUs}})]}}],null,!1,3839341157)})],1):t._e(),t._v(" "),n("Timeline",{key:"media",attrs:{label:t.$t("user_card.media"),disabled:!t.media.visibleStatuses.length,embedded:!0,title:t.$t("user_card.media"),"timeline-name":"media",timeline:t.media,"user-id":t.userId,"in-profile":!0}}),t._v(" "),t.isUs?n("Timeline",{key:"favorites",attrs:{label:t.$t("user_card.favorites"),disabled:!t.favorites.visibleStatuses.length,embedded:!0,title:t.$t("user_card.favorites"),"timeline-name":"favorites",timeline:t.favorites,"in-profile":!0}}):t._e()],1)],1):n("div",{staticClass:"panel user-profile-placeholder"},[n("div",{staticClass:"panel-heading"},[n("div",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("settings.profile_tab"))+"\n      ")])]),t._v(" "),n("div",{staticClass:"panel-body"},[t.error?n("span",[t._v(t._s(t.error))]):n("FAIcon",{attrs:{spin:"",icon:"circle-notch"}})],1)])])}),[],!1,So,null,null).exports;xn.c.add(kn.m,kn.V);var jo={components:{FollowCard:po,Conversation:_n,Status:fn.default},props:["query"],data:function(){return{loaded:!1,loading:!1,searchTerm:this.query||"",userIds:[],statuses:[],hashtags:[],currenResultTab:"statuses"}},computed:{users:function(){var t=this;return this.userIds.map((function(e){return t.$store.getters.findUser(e)}))},visibleStatuses:function(){var t=this.$store.state.statuses.allStatusesObject;return this.statuses.filter((function(e){return t[e.id]&&!t[e.id].deleted}))}},mounted:function(){this.search(this.query)},watch:{query:function(t){this.searchTerm=t,this.search(t)}},methods:{newQuery:function(t){this.$router.push({name:"search",query:{query:t}}),this.$refs.searchInput.focus()},search:function(t){var e=this;t?(this.loading=!0,this.userIds=[],this.statuses=[],this.hashtags=[],this.$refs.searchInput.blur(),this.$store.dispatch("search",{q:t,resolve:!0}).then((function(t){e.loading=!1,e.userIds=ft()(t.accounts,"id"),e.statuses=t.statuses,e.hashtags=t.hashtags,e.currenResultTab=e.getActiveTab(),e.loaded=!0}))):this.loading=!1},resultCount:function(t){var e=this[t].length;return 0===e?"":" (".concat(e,")")},onResultTabSwitch:function(t){this.currenResultTab=t},getActiveTab:function(){return this.visibleStatuses.length>0?"statuses":this.users.length>0?"people":this.hashtags.length>0?"hashtags":"statuses"},lastHistoryRecord:function(t){return t.history&&t.history[0]}}};var Po=function(t){n(497)},To=Object(bn.a)(jo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[n("div",{staticClass:"title"},[t._v("\n      "+t._s(t.$t("nav.search"))+"\n    ")])]),t._v(" "),n("div",{staticClass:"search-input-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],ref:"searchInput",staticClass:"search-input",attrs:{placeholder:t.$t("nav.search")},domProps:{value:t.searchTerm},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.newQuery(t.searchTerm)},input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn button-default search-button",attrs:{type:"submit"},on:{click:function(e){return t.newQuery(t.searchTerm)}}},[n("FAIcon",{attrs:{icon:"search"}})],1)]),t._v(" "),t.loading?n("div",{staticClass:"text-center loading-icon"},[n("FAIcon",{attrs:{icon:"circle-notch",spin:"",size:"lg"}})],1):t.loaded?n("div",[n("div",{staticClass:"search-nav-heading"},[n("tab-switcher",{ref:"tabSwitcher",attrs:{"on-switch":t.onResultTabSwitch,"active-tab":t.currenResultTab}},[n("span",{key:"statuses",attrs:{label:t.$t("user_card.statuses")+t.resultCount("visibleStatuses")}}),t._v(" "),n("span",{key:"people",attrs:{label:t.$t("search.people")+t.resultCount("users")}}),t._v(" "),n("span",{key:"hashtags",attrs:{label:t.$t("search.hashtags")+t.resultCount("hashtags")}})])],1)]):t._e(),t._v(" "),n("div",{staticClass:"panel-body"},["statuses"===t.currenResultTab?n("div",[0===t.visibleStatuses.length&&!t.loading&&t.loaded?n("div",{staticClass:"search-result-heading"},[n("h4",[t._v(t._s(t.$t("search.no_results")))])]):t._e(),t._v(" "),t._l(t.visibleStatuses,(function(t){return n("Status",{key:t.id,staticClass:"search-result",attrs:{collapsable:!1,expandable:!1,compact:!1,statusoid:t,"no-heading":!1}})}))],2):"people"===t.currenResultTab?n("div",[0===t.users.length&&!t.loading&&t.loaded?n("div",{staticClass:"search-result-heading"},[n("h4",[t._v(t._s(t.$t("search.no_results")))])]):t._e(),t._v(" "),t._l(t.users,(function(t){return n("FollowCard",{key:t.id,staticClass:"list-item search-result",attrs:{user:t}})}))],2):"hashtags"===t.currenResultTab?n("div",[0===t.hashtags.length&&!t.loading&&t.loaded?n("div",{staticClass:"search-result-heading"},[n("h4",[t._v(t._s(t.$t("search.no_results")))])]):t._e(),t._v(" "),t._l(t.hashtags,(function(e){return n("div",{key:e.url,staticClass:"status trend search-result"},[n("div",{staticClass:"hashtag"},[n("router-link",{attrs:{to:{name:"tag-timeline",params:{tag:e.name}}}},[t._v("\n            #"+t._s(e.name)+"\n          ")]),t._v(" "),t.lastHistoryRecord(e)?n("div",[1==t.lastHistoryRecord(e).accounts?n("span",[t._v("\n              "+t._s(t.$t("search.person_talking",{count:t.lastHistoryRecord(e).accounts}))+"\n            ")]):n("span",[t._v("\n              "+t._s(t.$t("search.people_talking",{count:t.lastHistoryRecord(e).accounts}))+"\n            ")])]):t._e()],1),t._v(" "),t.lastHistoryRecord(e)?n("div",{staticClass:"count"},[t._v("\n          "+t._s(t.lastHistoryRecord(e).uses)+"\n        ")]):t._e()])}))],2):t._e()]),t._v(" "),n("div",{staticClass:"search-result-footer text-center panel-footer faint"})])}),[],!1,Po,null,null).exports,$o=n(231),Io=n(52);function Mo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Fo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mo(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Eo={mixins:[$o.validationMixin],data:function(){return{user:{email:"",fullname:"",username:"",password:"",confirm:"",reason:""},captcha:{}}},validations:function(){var t=this;return{user:{email:{required:Object(Io.requiredIf)((function(){return t.accountActivationRequired}))},username:{required:Io.required},fullname:{required:Io.required},password:{required:Io.required},confirm:{required:Io.required,sameAsPassword:Object(Io.sameAs)("password")},reason:{required:Object(Io.requiredIf)((function(){return t.accountApprovalRequired}))}}}},created:function(){(!this.registrationOpen&&!this.token||this.signedIn)&&this.$router.push({name:"root"}),this.setCaptcha()},computed:Fo({token:function(){return this.$route.params.token},bioPlaceholder:function(){return this.replaceNewlines(this.$t("registration.bio_placeholder"))},reasonPlaceholder:function(){return this.replaceNewlines(this.$t("registration.reason_placeholder"))}},Object(c.e)({registrationOpen:function(t){return t.instance.registrationOpen},signedIn:function(t){return!!t.users.currentUser},isPending:function(t){return t.users.signUpPending},serverValidationErrors:function(t){return t.users.signUpErrors},termsOfService:function(t){return t.instance.tos},accountActivationRequired:function(t){return t.instance.accountActivationRequired},accountApprovalRequired:function(t){return t.instance.accountApprovalRequired}})),methods:Fo({},Object(c.b)(["signUp","getCaptcha"]),{submit:function(){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.user.nickname=this.user.username,this.user.token=this.token,this.user.captcha_solution=this.captcha.solution,this.user.captcha_token=this.captcha.token,this.user.captcha_answer_data=this.captcha.answer_data,this.$v.$touch(),this.$v.$invalid){t.next=17;break}return t.prev=7,t.next=10,o.a.awrap(this.signUp(this.user));case 10:this.$router.push({name:"friends"}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(7),console.warn("Registration failed: ",t.t0),this.setCaptcha();case 17:case"end":return t.stop()}}),null,this,[[7,13]])},setCaptcha:function(){var t=this;this.getCaptcha().then((function(e){t.captcha=e}))},replaceNewlines:function(t){return t.replace(/\s*\n\s*/g," \n")}})};var Uo=function(t){n(499)},Ao=Object(bn.a)(Eo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings panel panel-default"},[n("div",{staticClass:"panel-heading"},[t._v("\n    "+t._s(t.$t("registration.registration"))+"\n  ")]),t._v(" "),n("div",{staticClass:"panel-body"},[n("form",{staticClass:"registration-form",on:{submit:function(e){return e.preventDefault(),t.submit(t.user)}}},[n("div",{staticClass:"container"},[n("div",{staticClass:"text-fields"},[n("div",{staticClass:"form-group",class:{"form-group--error":t.$v.user.username.$error}},[n("label",{staticClass:"form--label",attrs:{for:"sign-up-username"}},[t._v(t._s(t.$t("login.username")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.user.username.$model,expression:"$v.user.username.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"sign-up-username",disabled:t.isPending,placeholder:t.$t("registration.username_placeholder")},domProps:{value:t.$v.user.username.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.user.username,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),t.$v.user.username.$dirty?n("div",{staticClass:"form-error"},[n("ul",[t.$v.user.username.required?t._e():n("li",[n("span",[t._v(t._s(t.$t("registration.validations.username_required")))])])])]):t._e(),t._v(" "),n("div",{staticClass:"form-group",class:{"form-group--error":t.$v.user.fullname.$error}},[n("label",{staticClass:"form--label",attrs:{for:"sign-up-fullname"}},[t._v(t._s(t.$t("registration.fullname")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$v.user.fullname.$model,expression:"$v.user.fullname.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"sign-up-fullname",disabled:t.isPending,placeholder:t.$t("registration.fullname_placeholder")},domProps:{value:t.$v.user.fullname.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.user.fullname,"$model",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),t.$v.user.fullname.$dirty?n("div",{staticClass:"form-error"},[n("ul",[t.$v.user.fullname.required?t._e():n("li",[n("span",[t._v(t._s(t.$t("registration.validations.fullname_required")))])])])]):t._e(),t._v(" "),n("div",{staticClass:"form-group",class:{"form-group--error":t.$v.user.email.$error}},[n("label",{staticClass:"form--label",attrs:{for:"email"}},[t._v(t._s(t.$t("registration.email")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.$v.user.email.$model,expression:"$v.user.email.$model"}],staticClass:"form-control",attrs:{id:"email",disabled:t.isPending,type:"email"},domProps:{value:t.$v.user.email.$model},on:{input:function(e){e.target.composing||t.$set(t.$v.user.email,"$model",e.target.value)}}})]),t._v(" "),t.$v.user.email.$dirty?n("div",{staticClass:"form-error"},[n("ul",[t.$v.user.email.required?t._e():n("li",[n("span",[t._v(t._s(t.$t("registration.validations.email_required")))])])])]):t._e(),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form--label",attrs:{for:"bio"}},[t._v(t._s(t.$t("registration.bio"))+" ("+t._s(t.$t("general.optional"))+")")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.bio,expression:"user.bio"}],staticClass:"form-control",attrs:{id:"bio",disabled:t.isPending,placeholder:t.bioPlaceholder},domProps:{value:t.user.bio},on:{input:function(e){e.target.composing||t.$set(t.user,"bio",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group",class:{"form-group--error":t.$v.user.password.$error}},[n("label",{staticClass:"form--label",attrs:{for:"sign-up-password"}},[t._v(t._s(t.$t("login.password")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{id:"sign-up-password",disabled:t.isPending,type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),t._v(" "),t.$v.user.password.$dirty?n("div",{staticClass:"form-error"},[n("ul",[t.$v.user.password.required?t._e():n("li",[n("span",[t._v(t._s(t.$t("registration.validations.password_required")))])])])]):t._e(),t._v(" "),n("div",{staticClass:"form-group",class:{"form-group--error":t.$v.user.confirm.$error}},[n("label",{staticClass:"form--label",attrs:{for:"sign-up-password-confirmation"}},[t._v(t._s(t.$t("registration.password_confirm")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.confirm,expression:"user.confirm"}],staticClass:"form-control",attrs:{id:"sign-up-password-confirmation",disabled:t.isPending,type:"password"},domProps:{value:t.user.confirm},on:{input:function(e){e.target.composing||t.$set(t.user,"confirm",e.target.value)}}})]),t._v(" "),t.$v.user.confirm.$dirty?n("div",{staticClass:"form-error"},[n("ul",[t.$v.user.confirm.required?t._e():n("li",[n("span",[t._v(t._s(t.$t("registration.validations.password_confirmation_required")))])]),t._v(" "),t.$v.user.confirm.sameAsPassword?t._e():n("li",[n("span",[t._v(t._s(t.$t("registration.validations.password_confirmation_match")))])])])]):t._e(),t._v(" "),t.accountApprovalRequired?n("div",{staticClass:"form-group"},[n("label",{staticClass:"form--label",attrs:{for:"reason"}},[t._v(t._s(t.$t("registration.reason")))]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.reason,expression:"user.reason"}],staticClass:"form-control",attrs:{id:"reason",disabled:t.isPending,placeholder:t.reasonPlaceholder},domProps:{value:t.user.reason},on:{input:function(e){e.target.composing||t.$set(t.user,"reason",e.target.value)}}})]):t._e(),t._v(" "),"none"!=t.captcha.type?n("div",{staticClass:"form-group",attrs:{id:"captcha-group"}},[n("label",{staticClass:"form--label",attrs:{for:"captcha-label"}},[t._v(t._s(t.$t("registration.captcha")))]),t._v(" "),["kocaptcha","native"].includes(t.captcha.type)?[n("img",{attrs:{src:t.captcha.url},on:{click:t.setCaptcha}}),t._v(" "),n("sub",[t._v(t._s(t.$t("registration.new_captcha")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha.solution,expression:"captcha.solution"}],staticClass:"form-control",attrs:{id:"captcha-answer",disabled:t.isPending,type:"text",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:t.captcha.solution},on:{input:function(e){e.target.composing||t.$set(t.captcha,"solution",e.target.value)}}})]:t._e()],2):t._e(),t._v(" "),t.token?n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"token"}},[t._v(t._s(t.$t("registration.token")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],staticClass:"form-control",attrs:{id:"token",disabled:"true",type:"text"},domProps:{value:t.token},on:{input:function(e){e.target.composing||(t.token=e.target.value)}}})]):t._e(),t._v(" "),n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn button-default",attrs:{disabled:t.isPending,type:"submit"}},[t._v("\n              "+t._s(t.$t("registration.register"))+"\n            ")])])]),t._v(" "),n("div",{staticClass:"terms-of-service",domProps:{innerHTML:t._s(t.termsOfService)}})]),t._v(" "),t.serverValidationErrors.length?n("div",{staticClass:"form-group"},[n("div",{staticClass:"alert error"},t._l(t.serverValidationErrors,(function(e){return n("span",{key:e},[t._v(t._s(e))])})),0)]):t._e()])])])}),[],!1,Uo,null,null).exports,No=function(t){var e=t.instance,n={email:t.email},i=Tt()(n,(function(t,e,n){var i="".concat(n,"=").concat(encodeURIComponent(e));return"".concat(t,"&").concat(i)}),""),o="".concat(e).concat("/auth/password","?").concat(i);return window.fetch(o,{method:"POST"})};function Do(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}xn.c.add(kn.jb);var Lo={data:function(){return{user:{email:""},isPending:!1,success:!1,throttled:!1,error:null}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Do(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(c.e)({signedIn:function(t){return!!t.users.currentUser},instance:function(t){return t.instance}}),{mailerEnabled:function(){return this.instance.mailerEnabled}}),created:function(){this.signedIn&&this.$router.push({name:"root"})},props:{passwordResetRequested:{default:!1,type:Boolean}},methods:{dismissError:function(){this.error=null},submit:function(){var t=this;this.isPending=!0;var e=this.user.email,n=this.instance.server;No({instance:n,email:e}).then((function(e){var n=e.status;t.isPending=!1,t.user.email="",204===n?(t.success=!0,t.error=null):429===n&&(t.throttled=!0,t.error=t.$t("password_reset.too_many_requests"))})).catch((function(){t.isPending=!1,t.user.email="",t.error=t.$t("general.generic_error")}))}}};var Ro=function(t){n(525)},Bo=Object(bn.a)(Lo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings panel panel-default"},[n("div",{staticClass:"panel-heading"},[t._v("\n    "+t._s(t.$t("password_reset.password_reset"))+"\n  ")]),t._v(" "),n("div",{staticClass:"panel-body"},[n("form",{staticClass:"password-reset-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("div",{staticClass:"container"},[t.mailerEnabled?t.success||t.throttled?n("div",[t.success?n("p",[t._v("\n            "+t._s(t.$t("password_reset.check_email"))+"\n          ")]):t._e(),t._v(" "),n("div",{staticClass:"form-group text-center"},[n("router-link",{attrs:{to:{name:"root"}}},[t._v("\n              "+t._s(t.$t("password_reset.return_home"))+"\n            ")])],1)]):n("div",[t.passwordResetRequested?n("p",{staticClass:"password-reset-required error"},[t._v("\n            "+t._s(t.$t("password_reset.password_reset_required"))+"\n          ")]):t._e(),t._v(" "),n("p",[t._v("\n            "+t._s(t.$t("password_reset.instruction"))+"\n          ")]),t._v(" "),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],ref:"email",staticClass:"form-control",attrs:{disabled:t.isPending,placeholder:t.$t("password_reset.placeholder"),type:"input"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn button-default btn-block",attrs:{disabled:t.isPending,type:"submit"}},[t._v("\n              "+t._s(t.$t("settings.save"))+"\n            ")])])]):n("div",[t.passwordResetRequested?n("p",[t._v("\n            "+t._s(t.$t("password_reset.password_reset_required_but_mailer_is_disabled"))+"\n          ")]):n("p",[t._v("\n            "+t._s(t.$t("password_reset.password_reset_disabled"))+"\n          ")])]),t._v(" "),t.error?n("p",{staticClass:"alert error notice-dismissible"},[n("span",[t._v(t._s(t.error))]),t._v(" "),n("a",{staticClass:"fa-scale-110 fa-old-padding dismiss",on:{click:function(e){return e.preventDefault(),t.dismissError()}}},[n("FAIcon",{attrs:{icon:"times"}})],1)]):t._e()])])])])}),[],!1,Ro,null,null).exports,zo={props:["user"],components:{BasicUserCard:Ei.a},methods:{findFollowRequestNotificationId:function(){var t=this,e=Object(G.e)(this.$store).find((function(e){return e.from_profile.id===t.user.id&&"follow_request"===e.type}));return e&&e.id},approveUser:function(){this.$store.state.api.backendInteractor.approveUser({id:this.user.id}),this.$store.dispatch("removeFollowRequest",this.user);var t=this.findFollowRequestNotificationId();this.$store.dispatch("markSingleNotificationAsSeen",{id:t}),this.$store.dispatch("updateNotification",{id:t,updater:function(t){t.type="follow"}})},denyUser:function(){var t=this,e=this.findFollowRequestNotificationId();this.$store.state.api.backendInteractor.denyUser({id:this.user.id}).then((function(){t.$store.dispatch("dismissNotificationLocal",{id:e}),t.$store.dispatch("removeFollowRequest",t.user)}))}}};var Ho=function(t){n(527)},qo={components:{FollowRequestCard:Object(bn.a)(zo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("basic-user-card",{attrs:{user:t.user}},[n("div",{staticClass:"follow-request-card-content-container"},[n("button",{staticClass:"btn button-default",on:{click:t.approveUser}},[t._v("\n      "+t._s(t.$t("user_card.approve"))+"\n    ")]),t._v(" "),n("button",{staticClass:"btn button-default",on:{click:t.denyUser}},[t._v("\n      "+t._s(t.$t("user_card.deny"))+"\n    ")])])])}),[],!1,Ho,null,null).exports},computed:{requests:function(){return this.$store.state.api.followRequests}}},Vo=Object(bn.a)(qo,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"settings panel panel-default"},[e("div",{staticClass:"panel-heading"},[e("div",{staticClass:"title"},[this._v("\n      "+this._s(this.$t("nav.friend_requests"))+"\n    ")])]),this._v(" "),e("div",{staticClass:"panel-body"},this._l(this.requests,(function(t){return e("FollowRequestCard",{key:t.id,staticClass:"list-item",attrs:{user:t}})})),1)])}),[],!1,null,null,null).exports,Wo={props:["code"],mounted:function(){var t=this;if(this.code){var e=this.$store.state.oauth,n=e.clientId,i=e.clientSecret;Ft.getToken({clientId:n,clientSecret:i,instance:this.$store.state.instance.server,code:this.code}).then((function(e){t.$store.commit("setToken",e.access_token),t.$store.dispatch("loginUser",e.access_token),t.$router.push({name:"friends"})}))}}},Go=Object(bn.a)(Wo,(function(){var t=this.$createElement;return(this._self._c||t)("h1",[this._v("...")])}),[],!1,null,null,null).exports;function Ko(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Yo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ko(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ko(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}xn.c.add(kn.jb);var Jo={data:function(){return{user:{},error:!1}},computed:Yo({isPasswordAuth:function(){return this.requiredPassword},isTokenAuth:function(){return this.requiredToken}},Object(c.e)({registrationOpen:function(t){return t.instance.registrationOpen},instance:function(t){return t.instance},loggingIn:function(t){return t.users.loggingIn},oauth:function(t){return t.oauth}}),{},Object(c.c)("authFlow",["requiredPassword","requiredToken","requiredMFA"])),methods:Yo({},Object(c.d)("authFlow",["requireMFA"]),{},Object(c.b)({login:"authFlow/login"}),{submit:function(){this.isTokenAuth?this.submitToken():this.submitPassword()},submitToken:function(){var t=this.oauth,e={clientId:t.clientId,clientSecret:t.clientSecret,instance:this.instance.server,commit:this.$store.commit};Ft.getOrCreateApp(e).then((function(t){Ft.login(Yo({},t,{},e))}))},submitPassword:function(){var t=this,e={clientId:this.oauth.clientId,oauth:this.oauth,instance:this.instance.server,commit:this.$store.commit};this.error=!1,Ft.getOrCreateApp(e).then((function(n){Ft.getTokenWithCredentials(Yo({},n,{instance:e.instance,username:t.user.username,password:t.user.password})).then((function(e){e.error?"mfa_required"===e.error?t.requireMFA({settings:e}):"password_reset_required"===e.identifier?t.$router.push({name:"password-reset",params:{passwordResetRequested:!0}}):(t.error=e.error,t.focusOnPasswordInput()):t.login(e).then((function(){t.$router.push({name:"friends"})}))}))}))},clearError:function(){this.error=!1},focusOnPasswordInput:function(){var t=this.$refs.passwordInput;t.focus(),t.setSelectionRange(0,t.value.length)}})};var Xo=function(t){n(529)},Qo=Object(bn.a)(Jo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login panel panel-default"},[n("div",{staticClass:"panel-heading"},[t._v("\n    "+t._s(t.$t("login.login"))+"\n  ")]),t._v(" "),n("div",{staticClass:"panel-body"},[n("form",{staticClass:"login-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t.isPasswordAuth?[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"username"}},[t._v(t._s(t.$t("login.username")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{id:"username",disabled:t.loggingIn,placeholder:t.$t("login.placeholder")},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"password"}},[t._v(t._s(t.$t("login.password")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],ref:"passwordInput",staticClass:"form-control",attrs:{id:"password",disabled:t.loggingIn,type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("router-link",{attrs:{to:{name:"password-reset"}}},[t._v("\n            "+t._s(t.$t("password_reset.forgot_password"))+"\n          ")])],1)]:t._e(),t._v(" "),t.isTokenAuth?n("div",{staticClass:"form-group"},[n("p",[t._v(t._s(t.$t("login.description")))])]):t._e(),t._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"login-bottom"},[n("div",[t.registrationOpen?n("router-link",{staticClass:"register",attrs:{to:{name:"registration"}}},[t._v("\n              "+t._s(t.$t("login.register"))+"\n            ")]):t._e()],1),t._v(" "),n("button",{staticClass:"btn button-default",attrs:{disabled:t.loggingIn,type:"submit"}},[t._v("\n            "+t._s(t.$t("login.login"))+"\n          ")])])])],2)]),t._v(" "),t.error?n("div",{staticClass:"form-group"},[n("div",{staticClass:"alert error"},[t._v("\n      "+t._s(t.error)+"\n      "),n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"times"},on:{click:t.clearError}})],1)]):t._e()])}),[],!1,Xo,null,null).exports,Zo={verifyOTPCode:function(t){var e=t.clientId,n=t.clientSecret,i=t.instance,o=t.mfaToken,r=t.code,s="".concat(i,"/oauth/mfa/challenge"),a=new window.FormData;return a.append("client_id",e),a.append("client_secret",n),a.append("mfa_token",o),a.append("code",r),a.append("challenge_type","totp"),window.fetch(s,{method:"POST",body:a}).then((function(t){return t.json()}))},verifyRecoveryCode:function(t){var e=t.clientId,n=t.clientSecret,i=t.instance,o=t.mfaToken,r=t.code,s="".concat(i,"/oauth/mfa/challenge"),a=new window.FormData;return a.append("client_id",e),a.append("client_secret",n),a.append("mfa_token",o),a.append("code",r),a.append("challenge_type","recovery"),window.fetch(s,{method:"POST",body:a}).then((function(t){return t.json()}))}};function tr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tr(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}xn.c.add(kn.jb);var nr={data:function(){return{code:null,error:!1}},computed:er({},Object(c.c)({authSettings:"authFlow/settings"}),{},Object(c.e)({instance:"instance",oauth:"oauth"})),methods:er({},Object(c.d)("authFlow",["requireTOTP","abortMFA"]),{},Object(c.b)({login:"authFlow/login"}),{clearError:function(){this.error=!1},submit:function(){var t=this,e=this.oauth,n={clientId:e.clientId,clientSecret:e.clientSecret,instance:this.instance.server,mfaToken:this.authSettings.mfa_token,code:this.code};Zo.verifyRecoveryCode(n).then((function(e){if(e.error)return t.error=e.error,void(t.code=null);t.login(e).then((function(){t.$router.push({name:"friends"})}))}))}})},ir=Object(bn.a)(nr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login panel panel-default"},[n("div",{staticClass:"panel-heading"},[t._v("\n    "+t._s(t.$t("login.heading.recovery"))+"\n  ")]),t._v(" "),n("div",{staticClass:"panel-body"},[n("form",{staticClass:"login-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"code"}},[t._v(t._s(t.$t("login.recovery_code")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control",attrs:{id:"code"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"login-bottom"},[n("div",[n("button",{staticClass:"button-unstyled -link",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.requireTOTP(e)}}},[t._v("\n              "+t._s(t.$t("login.enter_two_factor_code"))+"\n            ")]),t._v(" "),n("br"),t._v(" "),n("button",{staticClass:"button-unstyled -link",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.abortMFA(e)}}},[t._v("\n              "+t._s(t.$t("general.cancel"))+"\n            ")])]),t._v(" "),n("button",{staticClass:"btn button-default",attrs:{type:"submit"}},[t._v("\n            "+t._s(t.$t("general.verify"))+"\n          ")])])])])]),t._v(" "),t.error?n("div",{staticClass:"form-group"},[n("div",{staticClass:"alert error"},[t._v("\n      "+t._s(t.error)+"\n      "),n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"times"},on:{click:t.clearError}})],1)]):t._e()])}),[],!1,null,null,null).exports;function or(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?or(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}xn.c.add(kn.jb);var sr={data:function(){return{code:null,error:!1}},computed:rr({},Object(c.c)({authSettings:"authFlow/settings"}),{},Object(c.e)({instance:"instance",oauth:"oauth"})),methods:rr({},Object(c.d)("authFlow",["requireRecovery","abortMFA"]),{},Object(c.b)({login:"authFlow/login"}),{clearError:function(){this.error=!1},submit:function(){var t=this,e=this.oauth,n={clientId:e.clientId,clientSecret:e.clientSecret,instance:this.instance.server,mfaToken:this.authSettings.mfa_token,code:this.code};Zo.verifyOTPCode(n).then((function(e){if(e.error)return t.error=e.error,void(t.code=null);t.login(e).then((function(){t.$router.push({name:"friends"})}))}))}})},ar=Object(bn.a)(sr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login panel panel-default"},[n("div",{staticClass:"panel-heading"},[t._v("\n    "+t._s(t.$t("login.heading.totp"))+"\n  ")]),t._v(" "),n("div",{staticClass:"panel-body"},[n("form",{staticClass:"login-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"code"}},[t._v("\n          "+t._s(t.$t("login.authentication_code"))+"\n        ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control",attrs:{id:"code"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"login-bottom"},[n("div",[n("button",{staticClass:"button-unstyled -link",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.requireRecovery(e)}}},[t._v("\n              "+t._s(t.$t("login.enter_recovery_code"))+"\n            ")]),t._v(" "),n("br"),t._v(" "),n("button",{staticClass:"button-unstyled -link",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.abortMFA(e)}}},[t._v("\n              "+t._s(t.$t("general.cancel"))+"\n            ")])]),t._v(" "),n("button",{staticClass:"btn button-default",attrs:{type:"submit"}},[t._v("\n            "+t._s(t.$t("general.verify"))+"\n          ")])])])])]),t._v(" "),t.error?n("div",{staticClass:"form-group"},[n("div",{staticClass:"alert error"},[t._v("\n      "+t._s(t.error)+"\n      "),n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{size:"lg",icon:"times"},on:{click:t.clearError}})],1)]):t._e()])}),[],!1,null,null,null).exports;function cr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var lr={name:"AuthForm",render:function(t){return t("component",{is:this.authForm})},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cr(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({authForm:function(){return this.requiredTOTP?"MFATOTPForm":this.requiredRecovery?"MFARecoveryForm":"LoginForm"}},Object(c.c)("authFlow",["requiredTOTP","requiredRecovery"])),components:{MFARecoveryForm:ir,MFATOTPForm:ar,LoginForm:Qo}};xn.c.add(kn.g,kn.jb);var ur={props:["floating"],data:function(){return{currentMessage:"",channel:null,collapsed:!0}},computed:{messages:function(){return this.$store.state.shout.messages}},methods:{submit:function(t){this.$store.state.shout.channel.push("new_msg",{text:t},1e4),this.currentMessage=""},togglePanel:function(){this.collapsed=!this.collapsed},userProfileLink:function(t){return Object(ti.a)(t.id,t.username,this.$store.state.instance.restrictedNicknames)}},watch:{messages:function(t){var e=this.$el.querySelector(".chat-window");e&&e.scrollTop+e.offsetHeight+20>e.scrollHeight&&this.$nextTick((function(){e&&(e.scrollTop=e.scrollHeight-e.offsetHeight)}))}}};var dr=function(t){n(531)},pr=Object(bn.a)(ur,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.collapsed&&t.floating?n("div",{staticClass:"shout-panel"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading stub timeline-heading shout-heading",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.togglePanel(e)}}},[n("div",{staticClass:"title"},[n("FAIcon",{staticClass:"icon",attrs:{icon:"bullhorn"}}),t._v("\n        "+t._s(t.$t("shoutbox.title"))+"\n      ")],1)])])]):n("div",{staticClass:"shout-panel"},[n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading timeline-heading",class:{"shout-heading":t.floating},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.togglePanel(e)}}},[n("div",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("shoutbox.title"))+"\n        "),t.floating?n("FAIcon",{staticClass:"close-icon",attrs:{icon:"times"}}):t._e()],1)]),t._v(" "),n("div",{staticClass:"shout-window"},t._l(t.messages,(function(e){return n("div",{key:e.id,staticClass:"shout-message"},[n("span",{staticClass:"shout-avatar"},[n("img",{attrs:{src:e.author.avatar}})]),t._v(" "),n("div",{staticClass:"shout-content"},[n("router-link",{staticClass:"shout-name",attrs:{to:t.userProfileLink(e.author)}},[t._v("\n            "+t._s(e.author.username)+"\n          ")]),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"shout-text"},[t._v("\n            "+t._s(e.text)+"\n          ")])],1)])})),0),t._v(" "),n("div",{staticClass:"shout-input"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentMessage,expression:"currentMessage"}],staticClass:"shout-input-textarea",attrs:{rows:"1"},domProps:{value:t.currentMessage},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(t.currentMessage)},input:function(e){e.target.composing||(t.currentMessage=e.target.value)}}})])])])}),[],!1,dr,null,null).exports,fr={components:{FollowCard:po},data:function(){return{users:[]}},mounted:function(){this.getWhoToFollow()},methods:{showWhoToFollow:function(t){var e=this;t.forEach((function(t,n){e.$store.state.api.backendInteractor.fetchUser({id:t.acct}).then((function(t){t.error||(e.$store.commit("addNewUsers",[t]),e.users.push(t))}))}))},getWhoToFollow:function(){var t=this,e=this.$store.state.users.currentUser.credentials;e&&w.c.suggestions({credentials:e}).then((function(e){t.showWhoToFollow(e)}))}}};var hr=function(t){n(533)},mr=Object(bn.a)(fr,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel panel-default"},[e("div",{staticClass:"panel-heading"},[this._v("\n    "+this._s(this.$t("who_to_follow.who_to_follow"))+"\n  ")]),this._v(" "),e("div",{staticClass:"panel-body"},this._l(this.users,(function(t){return e("FollowCard",{key:t.id,staticClass:"list-item",attrs:{user:t}})})),1)])}),[],!1,hr,null,null).exports,gr={computed:{instanceSpecificPanelContent:function(){return this.$store.state.instance.instanceSpecificPanelContent}}},vr=Object(bn.a)(gr,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"instance-specific-panel"},[e("div",{staticClass:"panel panel-default"},[e("div",{staticClass:"panel-body"},[e("div",{domProps:{innerHTML:this._s(this.instanceSpecificPanelContent)}})])])])}),[],!1,null,null,null).exports,br=n(81),wr={computed:{shout:function(){return this.$store.state.instance.shoutAvailable},pleromaChatMessages:function(){return this.$store.state.instance.pleromaChatMessagesAvailable},gopher:function(){return this.$store.state.instance.gopherAvailable},whoToFollow:function(){return this.$store.state.instance.suggestionsEnabled},mediaProxy:function(){return this.$store.state.instance.mediaProxyAvailable},minimalScopesMode:function(){return this.$store.state.instance.minimalScopesMode},textlimit:function(){return this.$store.state.instance.textlimit},uploadlimit:function(){return br.a.fileSizeFormat(this.$store.state.instance.uploadlimit)}}};var _r=function(t){n(537)},yr=Object(bn.a)(wr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"features-panel"},[n("div",{staticClass:"panel panel-default base01-background"},[n("div",{staticClass:"panel-heading timeline-heading base02-background base04"},[n("div",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("features_panel.title"))+"\n      ")])]),t._v(" "),n("div",{staticClass:"panel-body features-panel"},[n("ul",[t.shout?n("li",[t._v("\n          "+t._s(t.$t("features_panel.shout"))+"\n        ")]):t._e(),t._v(" "),t.pleromaChatMessages?n("li",[t._v("\n          "+t._s(t.$t("features_panel.pleroma_chat_messages"))+"\n        ")]):t._e(),t._v(" "),t.gopher?n("li",[t._v("\n          "+t._s(t.$t("features_panel.gopher"))+"\n        ")]):t._e(),t._v(" "),t.whoToFollow?n("li",[t._v("\n          "+t._s(t.$t("features_panel.who_to_follow"))+"\n        ")]):t._e(),t._v(" "),t.mediaProxy?n("li",[t._v("\n          "+t._s(t.$t("features_panel.media_proxy"))+"\n        ")]):t._e(),t._v(" "),n("li",[t._v(t._s(t.$t("features_panel.scope_options")))]),t._v(" "),n("li",[t._v(t._s(t.$t("features_panel.text_limit"))+" = "+t._s(t.textlimit))]),t._v(" "),n("li",[t._v(t._s(t.$t("features_panel.upload_limit"))+" = "+t._s(t.uploadlimit.num)+" "+t._s(t.$t("upload.file_size_units."+t.uploadlimit.unit)))])])])])])}),[],!1,_r,null,null).exports,xr={computed:{content:function(){return this.$store.state.instance.tos}}};var kr=function(t){n(539)},Cr=Object(bn.a)(xr,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"panel panel-default"},[e("div",{staticClass:"panel-body"},[e("div",{staticClass:"tos-content",domProps:{innerHTML:this._s(this.content)}})])])])}),[],!1,kr,null,null).exports,Sr=n(232),Or=n.n(Sr);function jr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var Pr={created:function(){var t=this;this.$store.state.instance.staffAccounts.forEach((function(e){return t.$store.dispatch("fetchUserIfMissing",e)}))},components:{BasicUserCard:Ei.a},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jr(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({groupedStaffAccounts:function(){var t=ft()(this.staffAccounts,this.findUser).filter((function(t){return t})),e=Or()(t,"role");return[{role:"admin",users:e.admin},{role:"moderator",users:e.moderator}].filter((function(t){return t.users}))}},Object(c.c)(["findUser"]),{},Object(c.e)({staffAccounts:function(t){return t.instance.staffAccounts}}))};var Tr=function(t){n(541)},$r=Object(bn.a)(Pr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"staff-panel"},[n("div",{staticClass:"panel panel-default base01-background"},[n("div",{staticClass:"panel-heading timeline-heading base02-background"},[n("div",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("about.staff"))+"\n      ")])]),t._v(" "),n("div",{staticClass:"panel-body"},t._l(t.groupedStaffAccounts,(function(e){return n("div",{key:e.role,staticClass:"staff-group"},[n("h4",[t._v(t._s(t.$t("general.role."+e.role)))]),t._v(" "),t._l(e.users,(function(t){return n("basic-user-card",{key:t.screen_name,attrs:{user:t}})}))],2)})),0)])])}),[],!1,Tr,null,null).exports;function Ir(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var Mr={computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ir(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(c.e)({federationPolicy:function(t){return Ne()(t,"instance.federationPolicy")},mrfPolicies:function(t){return Ne()(t,"instance.federationPolicy.mrf_policies",[])},quarantineInstances:function(t){return Ne()(t,"instance.federationPolicy.quarantined_instances",[])},acceptInstances:function(t){return Ne()(t,"instance.federationPolicy.mrf_simple.accept",[])},rejectInstances:function(t){return Ne()(t,"instance.federationPolicy.mrf_simple.reject",[])},ftlRemovalInstances:function(t){return Ne()(t,"instance.federationPolicy.mrf_simple.federated_timeline_removal",[])},mediaNsfwInstances:function(t){return Ne()(t,"instance.federationPolicy.mrf_simple.media_nsfw",[])},mediaRemovalInstances:function(t){return Ne()(t,"instance.federationPolicy.mrf_simple.media_removal",[])},keywordsFtlRemoval:function(t){return Ne()(t,"instance.federationPolicy.mrf_keyword.federated_timeline_removal",[])},keywordsReject:function(t){return Ne()(t,"instance.federationPolicy.mrf_keyword.reject",[])},keywordsReplace:function(t){return Ne()(t,"instance.federationPolicy.mrf_keyword.replace",[])}}),{hasInstanceSpecificPolicies:function(){return this.quarantineInstances.length||this.acceptInstances.length||this.rejectInstances.length||this.ftlRemovalInstances.length||this.mediaNsfwInstances.length||this.mediaRemovalInstances.length},hasKeywordPolicies:function(){return this.keywordsFtlRemoval.length||this.keywordsReject.length||this.keywordsReplace.length}})};var Fr=function(t){n(543)},Er={components:{InstanceSpecificPanel:vr,FeaturesPanel:yr,TermsOfServicePanel:Cr,StaffPanel:$r,MRFTransparencyPanel:Object(bn.a)(Mr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.federationPolicy?n("div",{staticClass:"mrf-transparency-panel"},[n("div",{staticClass:"panel panel-default base01-background"},[n("div",{staticClass:"panel-heading timeline-heading base02-background"},[n("div",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("about.mrf.federation"))+"\n      ")])]),t._v(" "),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"mrf-section"},[n("h2",[t._v(t._s(t.$t("about.mrf.mrf_policies")))]),t._v(" "),n("p",[t._v(t._s(t.$t("about.mrf.mrf_policies_desc")))]),t._v(" "),n("ul",t._l(t.mrfPolicies,(function(e){return n("li",{key:e,domProps:{textContent:t._s(e)}})})),0),t._v(" "),t.hasInstanceSpecificPolicies?n("h2",[t._v("\n          "+t._s(t.$t("about.mrf.simple.simple_policies"))+"\n        ")]):t._e(),t._v(" "),t.acceptInstances.length?n("div",[n("h4",[t._v(t._s(t.$t("about.mrf.simple.accept")))]),t._v(" "),n("p",[t._v(t._s(t.$t("about.mrf.simple.accept_desc")))]),t._v(" "),n("ul",t._l(t.acceptInstances,(function(e){return n("li",{key:e,domProps:{textContent:t._s(e)}})})),0)]):t._e(),t._v(" "),t.rejectInstances.length?n("div",[n("h4",[t._v(t._s(t.$t("about.mrf.simple.reject")))]),t._v(" "),n("p",[t._v(t._s(t.$t("about.mrf.simple.reject_desc")))]),t._v(" "),n("ul",t._l(t.rejectInstances,(function(e){return n("li",{key:e,domProps:{textContent:t._s(e)}})})),0)]):t._e(),t._v(" "),t.quarantineInstances.length?n("div",[n("h4",[t._v(t._s(t.$t("about.mrf.simple.quarantine")))]),t._v(" "),n("p",[t._v(t._s(t.$t("about.mrf.simple.quarantine_desc")))]),t._v(" "),n("ul",t._l(t.quarantineInstances,(function(e){return n("li",{key:e,domProps:{textContent:t._s(e)}})})),0)]):t._e(),t._v(" "),t.ftlRemovalInstances.length?n("div",[n("h4",[t._v(t._s(t.$t("about.mrf.simple.ftl_removal")))]),t._v(" "),n("p",[t._v(t._s(t.$t("about.mrf.simple.ftl_removal_desc")))]),t._v(" "),n("ul",t._l(t.ftlRemovalInstances,(function(e){return n("li",{key:e,domProps:{textContent:t._s(e)}})})),0)]):t._e(),t._v(" "),t.mediaNsfwInstances.length?n("div",[n("h4",[t._v(t._s(t.$t("about.mrf.simple.media_nsfw")))]),t._v(" "),n("p",[t._v(t._s(t.$t("about.mrf.simple.media_nsfw_desc")))]),t._v(" "),n("ul",t._l(t.mediaNsfwInstances,(function(e){return n("li",{key:e,domProps:{textContent:t._s(e)}})})),0)]):t._e(),t._v(" "),t.mediaRemovalInstances.length?n("div",[n("h4",[t._v(t._s(t.$t("about.mrf.simple.media_removal")))]),t._v(" "),n("p",[t._v(t._s(t.$t("about.mrf.simple.media_removal_desc")))]),t._v(" "),n("ul",t._l(t.mediaRemovalInstances,(function(e){return n("li",{key:e,domProps:{textContent:t._s(e)}})})),0)]):t._e(),t._v(" "),t.hasKeywordPolicies?n("h2",[t._v("\n          "+t._s(t.$t("about.mrf.keyword.keyword_policies"))+"\n        ")]):t._e(),t._v(" "),t.keywordsFtlRemoval.length?n("div",[n("h4",[t._v(t._s(t.$t("about.mrf.keyword.ftl_removal")))]),t._v(" "),n("ul",t._l(t.keywordsFtlRemoval,(function(e){return n("li",{key:e,domProps:{textContent:t._s(e)}})})),0)]):t._e(),t._v(" "),t.keywordsReject.length?n("div",[n("h4",[t._v(t._s(t.$t("about.mrf.keyword.reject")))]),t._v(" "),n("ul",t._l(t.keywordsReject,(function(e){return n("li",{key:e,domProps:{textContent:t._s(e)}})})),0)]):t._e(),t._v(" "),t.keywordsReplace.length?n("div",[n("h4",[t._v(t._s(t.$t("about.mrf.keyword.replace")))]),t._v(" "),n("ul",t._l(t.keywordsReplace,(function(e){return n("li",{key:e},[t._v("\n              "+t._s(e.pattern)+"\n              "+t._s(t.$t("about.mrf.keyword.is_replaced_by"))+"\n              "+t._s(e.replacement)+"\n            ")])})),0)]):t._e()])])])]):t._e()}),[],!1,Fr,null,null).exports},computed:{showFeaturesPanel:function(){return this.$store.state.instance.showFeaturesPanel},showInstanceSpecificPanel:function(){return this.$store.state.instance.showInstanceSpecificPanel&&!this.$store.getters.mergedConfig.hideISP&&this.$store.state.instance.instanceSpecificPanelContent}}};var Ur=function(t){n(535)},Ar=Object(bn.a)(Er,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar"},[t.showInstanceSpecificPanel?n("instance-specific-panel"):t._e(),t._v(" "),n("staff-panel"),t._v(" "),n("terms-of-service-panel"),t._v(" "),n("MRFTransparencyPanel"),t._v(" "),t.showFeaturesPanel?n("features-panel"):t._e()],1)}),[],!1,Ur,null,null).exports,Nr={data:function(){return{error:!1}},mounted:function(){this.redirect()},methods:{redirect:function(){var t=this,e=this.$route.params.username+"@"+this.$route.params.hostname;this.$store.state.api.backendInteractor.fetchUser({id:e}).then((function(e){if(e.error)t.error=!0;else{t.$store.commit("addNewUsers",[e]);var n=e.id;t.$router.replace({name:"external-user-profile",params:{id:n}})}})).catch((function(){t.error=!0}))}}};var Dr=function(t){n(545)},Lr=Object(bn.a)(Nr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel panel-default"},[n("div",{staticClass:"panel-heading"},[t._v("\n    "+t._s(t.$t("remote_user_resolver.remote_user_resolver"))+"\n  ")]),t._v(" "),n("div",{staticClass:"panel-body"},[n("p",[t._v("\n      "+t._s(t.$t("remote_user_resolver.searching_for"))+" @"+t._s(t.$route.params.username)+"@"+t._s(t.$route.params.hostname)+"\n    ")]),t._v(" "),t.error?n("p",[t._v("\n      "+t._s(t.$t("remote_user_resolver.error"))+"\n    ")]):t._e()])])}),[],!1,Dr,null,null).exports,Rr=function(t){var e=function(e,n,i){t.state.users.currentUser?i():i(t.state.instance.redirectRootNoLogin||"/main/all")},n=[{name:"root",path:"/",redirect:function(e){return(t.state.users.currentUser?t.state.instance.redirectRootLogin:t.state.instance.redirectRootNoLogin)||"/main/all"}},{name:"public-external-timeline",path:"/main/all",component:Rn},{name:"public-timeline",path:"/main/public",component:Dn},{name:"friends",path:"/main/friends",component:zn,beforeEnter:e},{name:"tag-timeline",path:"/tag/:tag",component:qn},{name:"bookmarks",path:"/bookmarks",component:Wn},{name:"conversation",path:"/notice/:id",component:Kn,meta:{dontScroll:!0}},{name:"remote-user-profile-acct",path:"/remote-users/(@?):username([^/@]+)@:hostname([^/@]+)",component:Lr,beforeEnter:e},{name:"remote-user-profile",path:"/remote-users/:hostname/:username",component:Lr,beforeEnter:e},{name:"external-user-profile",path:"/users/:id",component:Oo},{name:"interactions",path:"/users/:username/interactions",component:ki,beforeEnter:e},{name:"dms",path:"/users/:username/dms",component:Si,beforeEnter:e},{name:"registration",path:"/registration",component:Ao},{name:"password-reset",path:"/password-reset",component:Bo,props:!0},{name:"registration-token",path:"/registration/:token",component:Ao},{name:"friend-requests",path:"/friend-requests",component:Vo,beforeEnter:e},{name:"notifications",path:"/:username/notifications",component:_i,beforeEnter:e},{name:"login",path:"/login",component:lr},{name:"shout-panel",path:"/shout-panel",component:pr,props:function(){return{floating:!1}}},{name:"oauth-callback",path:"/oauth-callback",component:Go,props:function(t){return{code:t.query.code}}},{name:"search",path:"/search",component:To,props:function(t){return{query:t.query.query}}},{name:"who-to-follow",path:"/who-to-follow",component:mr,beforeEnter:e},{name:"about",path:"/about",component:Ar},{name:"user-profile",path:"/(users/)?:name",component:Oo}];return t.state.instance.pleromaChatMessagesAvailable&&(n=n.concat([{name:"chat",path:"/users/:username/chats/:recipient_id",component:so,meta:{dontScroll:!1},beforeEnter:e},{name:"chats",path:"/users/:username/chats",component:Hi,meta:{dontScroll:!1},beforeEnter:e}])),n};function Br(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var zr={computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Br(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({signedIn:function(){return this.user}},Object(c.e)({user:function(t){return t.users.currentUser}})),components:{AuthForm:lr,PostStatusForm:to.a,UserCard:Xn.a}};var Hr=function(t){n(549)},qr=Object(bn.a)(zr,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"user-panel"},[this.signedIn?e("div",{key:"user-panel",staticClass:"panel panel-default signed-in"},[e("UserCard",{attrs:{"user-id":this.user.id,"hide-bio":!0,rounded:"top"}}),this._v(" "),e("PostStatusForm")],1):e("auth-form",{key:"user-panel"})],1)}),[],!1,Hr,null,null).exports;function Vr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}xn.c.add(kn.nb,kn.D,kn.e,kn.t,kn.i,kn.l,kn.o,kn.d,kn.H,kn.eb);var Wr={created:function(){this.currentUser&&this.currentUser.locked&&this.$store.dispatch("startFetchingFollowRequests")},components:{TimelineMenuContent:On},data:function(){return{showTimelines:!1}},methods:{toggleTimelines:function(){this.showTimelines=!this.showTimelines}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vr(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(c.e)({currentUser:function(t){return t.users.currentUser},followRequestCount:function(t){return t.api.followRequests.length},privateMode:function(t){return t.instance.private},federating:function(t){return t.instance.federating},pleromaChatMessagesAvailable:function(t){return t.instance.pleromaChatMessagesAvailable}}),{},Object(c.c)(["unreadChatCount"]))};var Gr=function(t){n(551)},Kr=Object(bn.a)(Wr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"NavPanel"},[n("div",{staticClass:"panel panel-default"},[n("ul",[t.currentUser||!t.privateMode?n("li",[n("button",{staticClass:"button-unstyled menu-item",on:{click:t.toggleTimelines}},[n("FAIcon",{staticClass:"fa-scale-110",attrs:{"fixed-width":"",icon:"stream"}}),t._v(t._s(t.$t("nav.timelines"))+"\n          "),n("FAIcon",{staticClass:"timelines-chevron",attrs:{"fixed-width":"",icon:t.showTimelines?"chevron-up":"chevron-down"}})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showTimelines,expression:"showTimelines"}],staticClass:"timelines-background"},[n("TimelineMenuContent",{staticClass:"timelines"})],1)]):t._e(),t._v(" "),t.currentUser?n("li",[n("router-link",{staticClass:"menu-item",attrs:{to:{name:"interactions",params:{username:t.currentUser.screen_name}}}},[n("FAIcon",{staticClass:"fa-scale-110",attrs:{"fixed-width":"",icon:"bell"}}),t._v(t._s(t.$t("nav.interactions"))+"\n        ")],1)],1):t._e(),t._v(" "),t.currentUser&&t.pleromaChatMessagesAvailable?n("li",[n("router-link",{staticClass:"menu-item",attrs:{to:{name:"chats",params:{username:t.currentUser.screen_name}}}},[t.unreadChatCount?n("div",{staticClass:"badge badge-notification"},[t._v("\n            "+t._s(t.unreadChatCount)+"\n          ")]):t._e(),t._v(" "),n("FAIcon",{staticClass:"fa-scale-110",attrs:{"fixed-width":"",icon:"comments"}}),t._v(t._s(t.$t("nav.chats"))+"\n        ")],1)],1):t._e(),t._v(" "),t.currentUser&&t.currentUser.locked?n("li",[n("router-link",{staticClass:"menu-item",attrs:{to:{name:"friend-requests"}}},[n("FAIcon",{staticClass:"fa-scale-110",attrs:{"fixed-width":"",icon:"user-plus"}}),t._v(t._s(t.$t("nav.friend_requests"))+"\n          "),t.followRequestCount>0?n("span",{staticClass:"badge badge-notification"},[t._v("\n            "+t._s(t.followRequestCount)+"\n          ")]):t._e()],1)],1):t._e(),t._v(" "),n("li",[n("router-link",{staticClass:"menu-item",attrs:{to:{name:"about"}}},[n("FAIcon",{staticClass:"fa-scale-110",attrs:{"fixed-width":"",icon:"info-circle"}}),t._v(t._s(t.$t("nav.about"))+"\n        ")],1)],1)])])])}),[],!1,Gr,null,null).exports,Yr=n(233),Jr=n.n(Yr);function Xr(t){var e=t.$store.state.users.currentUser.credentials;e&&(t.usersToFollow.forEach((function(t){t.name="Loading..."})),w.c.suggestions({credentials:e}).then((function(e){!function(t,e){var n=this,i=Jr()(e);t.usersToFollow.forEach((function(e,o){var r=i[o],s=r.avatar||n.$store.state.instance.defaultAvatar,a=r.acct;e.img=s,e.name=a,t.$store.state.api.backendInteractor.fetchUser({id:a}).then((function(n){n.error||(t.$store.commit("addNewUsers",[n]),e.id=n.id)}))}))}(t,e)})))}var Qr={data:function(){return{usersToFollow:[]}},computed:{user:function(){return this.$store.state.users.currentUser.screen_name},suggestionsEnabled:function(){return this.$store.state.instance.suggestionsEnabled}},methods:{userProfileLink:function(t,e){return Object(ti.a)(t,e,this.$store.state.instance.restrictedNicknames)}},watch:{user:function(t,e){this.suggestionsEnabled&&Xr(this)}},mounted:function(){var t=this;this.usersToFollow=new Array(3).fill().map((function(e){return{img:t.$store.state.instance.defaultAvatar,name:"",id:0}})),this.suggestionsEnabled&&Xr(this)}};var Zr=function(t){n(553)},ts=Object(bn.a)(Qr,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"who-to-follow-panel"},[n("div",{staticClass:"panel panel-default base01-background"},[n("div",{staticClass:"panel-heading timeline-heading base02-background base04"},[n("div",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("who_to_follow.who_to_follow"))+"\n      ")])]),t._v(" "),n("div",{staticClass:"who-to-follow"},[t._l(t.usersToFollow,(function(e){return n("p",{key:e.id,staticClass:"who-to-follow-items"},[n("img",{attrs:{src:e.img}}),t._v(" "),n("router-link",{attrs:{to:t.userProfileLink(e.id,e.name)}},[t._v("\n          "+t._s(e.name)+"\n        ")]),n("br")],1)})),t._v(" "),n("p",{staticClass:"who-to-follow-more"},[n("router-link",{attrs:{to:{name:"who-to-follow"}}},[t._v("\n          "+t._s(t.$t("who_to_follow.more"))+"\n        ")])],1)],2)])])}),[],!1,Zr,null,null).exports,es=n(234),ns=n.n(es),is={props:{isOpen:{type:Boolean,default:!0},noBackground:{type:Boolean,default:!1}},computed:{classes:function(){return{"modal-background":!this.noBackground,open:this.isOpen}}}};var os=function(t){n(560)},rs=Object(bn.a)(is,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"},{name:"body-scroll-lock",rawName:"v-body-scroll-lock",value:t.isOpen&&!t.noBackground,expression:"isOpen && !noBackground"}],staticClass:"modal-view",class:t.classes,on:{click:function(e){return e.target!==e.currentTarget?null:t.$emit("backdropClicked")}}},[t._t("default")],2)}),[],!1,os,null,null).exports;xn.c.add(kn.m);var ss=function(t){n(562)},as=Object(bn.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-loading"},[e("span",{staticClass:"loading-text"},[e("FAIcon",{attrs:{icon:"circle-notch",spin:"",size:"3x"}}),this._v("\n    "+this._s(this.$t("general.loading"))+"\n  ")],1)])}),[],!1,ss,null,null).exports;var cs=function(t){n(564)},ls=Object(bn.a)({methods:{retry:function(){this.$emit("resetAsyncComponent")}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"async-component-error"},[n("div",[n("h4",[t._v("\n      "+t._s(t.$t("general.generic_error"))+"\n    ")]),t._v(" "),n("p",[t._v("\n      "+t._s(t.$t("general.error_retry"))+"\n    ")]),t._v(" "),n("button",{staticClass:"btn button-default",on:{click:t.retry}},[t._v("\n      "+t._s(t.$t("general.retry"))+"\n    ")])])])}),[],!1,cs,null,null).exports;function us(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var ds=function(t,e){var n=function(){return function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?us(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):us(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({component:t()},e)}},i=s.a.observable({c:n()});return{functional:!0,render:function(t,e){var o=e.data,r=e.children;return o.on={},o.on.resetAsyncComponent=function(){i.c=n()},t(i.c,o,r)}}},ps=n(117),fs=n(33);function hs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}xn.c.add(kn.jb,fs.e,kn.A,kn.z,kn.i);var ms={data:function(){var t=this;return{dataImporter:Object(ps.b)({validator:this.importValidator,onImport:this.onImport,onImportFailure:this.onImportFailure}),dataThemeExporter:Object(ps.a)({filename:"pleromafe_settings.full",getExportedObject:function(){return t.generateExport(!0)}}),dataExporter:Object(ps.a)({filename:"pleromafe_settings",getExportedObject:function(){return t.generateExport()}})}},components:{Modal:rs,Popover:yn.default,SettingsModalContent:ds((function(){return Promise.all([n.e(3),n.e(2)]).then(n.bind(null,668))}),{loading:as,error:ls,delay:0})},methods:{closeModal:function(){this.$store.dispatch("closeSettingsModal")},peekModal:function(){this.$store.dispatch("togglePeekSettingsModal")},importValidator:function(t){if(!Array.isArray(t._pleroma_settings_version))return{messageKey:"settings.file_import_export.invalid_file"};var e=g()(t._pleroma_settings_version,2),n=e[0],i=e[1];return n>1?{messageKey:"settings.file_export_import.errors.file_too_new",messageArgs:{fileMajor:n,feMajor:1}}:n<1?{messageKey:"settings.file_export_import.errors.file_too_old",messageArgs:{fileMajor:n,feMajor:1}}:(i>0&&this.$store.dispatch("pushGlobalNotice",{level:"warning",messageKey:"settings.file_export_import.errors.file_slightly_new"}),!0)},onImportFailure:function(t){t.error?this.$store.dispatch("pushGlobalNotice",{messageKey:"settings.invalid_settings_imported",level:"error"}):this.$store.dispatch("pushGlobalNotice",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hs(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t.validationResult,{level:"error"}))},onImport:function(t){t&&this.$store.dispatch("loadSettings",t)},restore:function(){this.dataImporter.importData()},backup:function(){this.dataExporter.exportData()},backupWithTheme:function(){this.dataThemeExporter.exportData()},generateExport:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.$store.state.config,n=e;if(!t){var i=new Set(["customTheme","customThemeSource","colors"]);n=Object.fromEntries(Object.entries(n).filter((function(t){var e=g()(t,1)[0];return!i.has(e)})))}var o=ns()(n);return o._pleroma_settings_version=[1,0],o}},computed:{currentSaveStateNotice:function(){return this.$store.state.interface.settings.currentSaveStateNotice},modalActivated:function(){return"hidden"!==this.$store.state.interface.settingsModalState},modalOpenedOnce:function(){return this.$store.state.interface.settingsModalLoaded},modalPeeked:function(){return"minimized"===this.$store.state.interface.settingsModalState}}};var gs=function(t){n(558)},vs=Object(bn.a)(ms,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Modal",{staticClass:"settings-modal",class:{peek:t.modalPeeked},attrs:{"is-open":t.modalActivated,"no-background":t.modalPeeked}},[n("div",{staticClass:"settings-modal-panel panel"},[n("div",{staticClass:"panel-heading"},[n("span",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("settings.settings"))+"\n      ")]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.currentSaveStateNotice?[t.currentSaveStateNotice.error?n("div",{staticClass:"alert error",on:{click:function(t){t.preventDefault()}}},[t._v("\n            "+t._s(t.$t("settings.saving_err"))+"\n          ")]):t._e(),t._v(" "),t.currentSaveStateNotice.error?t._e():n("div",{staticClass:"alert transparent",on:{click:function(t){t.preventDefault()}}},[t._v("\n            "+t._s(t.$t("settings.saving_ok"))+"\n          ")])]:t._e()],2),t._v(" "),n("button",{staticClass:"btn button-default",attrs:{title:t.$t("general.peek")},on:{click:t.peekModal}},[n("FAIcon",{attrs:{icon:["far","window-minimize"],"fixed-width":""}})],1),t._v(" "),n("button",{staticClass:"btn button-default",attrs:{title:t.$t("general.close")},on:{click:t.closeModal}},[n("FAIcon",{attrs:{icon:"times","fixed-width":""}})],1)],1),t._v(" "),n("div",{staticClass:"panel-body"},[t.modalOpenedOnce?n("SettingsModalContent"):t._e()],1),t._v(" "),n("div",{staticClass:"panel-footer"},[n("Popover",{staticClass:"export",attrs:{trigger:"click",placement:"top",offset:{y:5,x:5},"bound-to":{x:"container"},"remove-padding":""},scopedSlots:t._u([{key:"trigger",fn:function(){return[n("button",{staticClass:"btn button-default",attrs:{title:t.$t("general.close")}},[n("span",[t._v(t._s(t.$t("settings.file_export_import.backup_restore")))]),t._v(" "),n("FAIcon",{attrs:{icon:"chevron-down"}})],1)]},proxy:!0},{key:"content",fn:function(e){var i=e.close;return[n("div",{staticClass:"dropdown-menu"},[n("button",{staticClass:"button-default dropdown-item dropdown-item-icon",on:{click:[function(e){return e.preventDefault(),t.backup(e)},i]}},[n("FAIcon",{attrs:{icon:"file-download","fixed-width":""}}),n("span",[t._v(t._s(t.$t("settings.file_export_import.backup_settings")))])],1),t._v(" "),n("button",{staticClass:"button-default dropdown-item dropdown-item-icon",on:{click:[function(e){return e.preventDefault(),t.backupWithTheme(e)},i]}},[n("FAIcon",{attrs:{icon:"file-download","fixed-width":""}}),n("span",[t._v(t._s(t.$t("settings.file_export_import.backup_settings_theme")))])],1),t._v(" "),n("button",{staticClass:"button-default dropdown-item dropdown-item-icon",on:{click:[function(e){return e.preventDefault(),t.restore(e)},i]}},[n("FAIcon",{attrs:{icon:"file-upload","fixed-width":""}}),n("span",[t._v(t._s(t.$t("settings.file_export_import.restore_settings")))])],1)])]}}])})],1)])])}),[],!1,gs,null,null).exports,bs=n(67),ws=n(120),_s=function(t){return[t.touches[0].screenX,t.touches[0].screenY]},ys=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},xs=function(t,e){return t[0]*e[0]+t[1]*e[1]},ks=function(t,e){var n=xs(t,e)/xs(e,e);return[n*e[0],n*e[1]]},Cs={DIRECTION_LEFT:[-1,0],DIRECTION_RIGHT:[1,0],DIRECTION_UP:[0,-1],DIRECTION_DOWN:[0,1],swipeGesture:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return{direction:t,onSwipe:e,threshold:n,perpendicularTolerance:i,_startPos:[0,0],_swiping:!1}},beginSwipe:function(t,e){e._startPos=_s(t),e._swiping=!0},updateSwipe:function(t,e){if(e._swiping){var n,i,o=(n=e._startPos,[(i=_s(t))[0]-n[0],i[1]-n[1]]);if(!(ys(o)<e.threshold||xs(o,e.direction)<0)){var r,s=ks(o,e.direction),a=[(r=e.direction)[1],-r[0]],c=ks(o,a);ys(s)*e.perpendicularTolerance<ys(c)||(e.onSwipe(),e._swiping=!1)}}}};xn.c.add(kn.j,kn.k);var Ss={components:{StillImage:bs.a,VideoAttachment:ws.a,Modal:rs},computed:{showing:function(){return this.$store.state.mediaViewer.activated},media:function(){return this.$store.state.mediaViewer.media},currentIndex:function(){return this.$store.state.mediaViewer.currentIndex},currentMedia:function(){return this.media[this.currentIndex]},canNavigate:function(){return this.media.length>1},type:function(){return this.currentMedia?ce.a.fileType(this.currentMedia.mimetype):null}},created:function(){this.mediaSwipeGestureRight=Cs.swipeGesture(Cs.DIRECTION_RIGHT,this.goPrev,50),this.mediaSwipeGestureLeft=Cs.swipeGesture(Cs.DIRECTION_LEFT,this.goNext,50)},methods:{mediaTouchStart:function(t){Cs.beginSwipe(t,this.mediaSwipeGestureRight),Cs.beginSwipe(t,this.mediaSwipeGestureLeft)},mediaTouchMove:function(t){Cs.updateSwipe(t,this.mediaSwipeGestureRight),Cs.updateSwipe(t,this.mediaSwipeGestureLeft)},hide:function(){this.$store.dispatch("closeMediaViewer")},goPrev:function(){if(this.canNavigate){var t=0===this.currentIndex?this.media.length-1:this.currentIndex-1;this.$store.dispatch("setCurrent",this.media[t])}},goNext:function(){if(this.canNavigate){var t=this.currentIndex===this.media.length-1?0:this.currentIndex+1;this.$store.dispatch("setCurrent",this.media[t])}},handleKeyupEvent:function(t){this.showing&&27===t.keyCode&&this.hide()},handleKeydownEvent:function(t){this.showing&&(39===t.keyCode?this.goNext():37===t.keyCode&&this.goPrev())}},mounted:function(){window.addEventListener("popstate",this.hide),document.addEventListener("keyup",this.handleKeyupEvent),document.addEventListener("keydown",this.handleKeydownEvent)},destroyed:function(){window.removeEventListener("popstate",this.hide),document.removeEventListener("keyup",this.handleKeyupEvent),document.removeEventListener("keydown",this.handleKeydownEvent)}};var Os=function(t){n(566)},js=Object(bn.a)(Ss,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showing?n("Modal",{staticClass:"media-modal-view",on:{backdropClicked:t.hide}},["image"===t.type?n("img",{staticClass:"modal-image",attrs:{src:t.currentMedia.url,alt:t.currentMedia.description,title:t.currentMedia.description},on:{touchstart:function(e){return e.stopPropagation(),t.mediaTouchStart(e)},touchmove:function(e){return e.stopPropagation(),t.mediaTouchMove(e)},click:t.hide}}):t._e(),t._v(" "),"video"===t.type?n("VideoAttachment",{staticClass:"modal-image",attrs:{attachment:t.currentMedia,controls:!0}}):t._e(),t._v(" "),"audio"===t.type?n("audio",{staticClass:"modal-image",attrs:{src:t.currentMedia.url,alt:t.currentMedia.description,title:t.currentMedia.description,controls:""}}):t._e(),t._v(" "),t.canNavigate?n("button",{staticClass:"modal-view-button-arrow modal-view-button-arrow--prev",attrs:{title:t.$t("media_modal.previous")},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goPrev(e)}}},[n("FAIcon",{staticClass:"arrow-icon",attrs:{icon:"chevron-left"}})],1):t._e(),t._v(" "),t.canNavigate?n("button",{staticClass:"modal-view-button-arrow modal-view-button-arrow--next",attrs:{title:t.$t("media_modal.next")},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.goNext(e)}}},[n("FAIcon",{staticClass:"arrow-icon",attrs:{icon:"chevron-right"}})],1):t._e()],1):t._e()}),[],!1,Os,null,null).exports;function Ps(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}xn.c.add(kn.Y,kn.Z,kn.E,kn.o,kn.d,kn.mb,kn.g,kn.V,kn.gb,kn.n,kn.H);var Ts={props:["logout"],data:function(){return{closed:!0,closeGesture:void 0}},created:function(){this.closeGesture=Cs.swipeGesture(Cs.DIRECTION_LEFT,this.toggleDrawer),this.currentUser&&this.currentUser.locked&&this.$store.dispatch("startFetchingFollowRequests")},components:{UserCard:Xn.a},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ps(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ps(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({currentUser:function(){return this.$store.state.users.currentUser},unseenNotifications:function(){return Object(G.f)(this.$store)},unseenNotificationsCount:function(){return this.unseenNotifications.length},suggestionsEnabled:function(){return this.$store.state.instance.suggestionsEnabled},logo:function(){return this.$store.state.instance.logo},hideSitename:function(){return this.$store.state.instance.hideSitename},sitename:function(){return this.$store.state.instance.name},followRequestCount:function(){return this.$store.state.api.followRequests.length},privateMode:function(){return this.$store.state.instance.private},federating:function(){return this.$store.state.instance.federating},timelinesRoute:function(){return this.$store.state.interface.lastTimeline?this.$store.state.interface.lastTimeline:this.currentUser?"friends":"public-timeline"}},Object(c.e)({pleromaChatMessagesAvailable:function(t){return t.instance.pleromaChatMessagesAvailable}}),{},Object(c.c)(["unreadChatCount"])),methods:{toggleDrawer:function(){this.closed=!this.closed},doLogout:function(){this.logout(),this.toggleDrawer()},touchStart:function(t){Cs.beginSwipe(t,this.closeGesture)},touchMove:function(t){Cs.updateSwipe(t,this.closeGesture)},openSettingsModal:function(){this.$store.dispatch("openSettingsModal")}}};var $s=function(t){n(568)},Is=Object(bn.a)(Ts,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"side-drawer-container",class:{"side-drawer-container-closed":t.closed,"side-drawer-container-open":!t.closed}},[n("div",{staticClass:"side-drawer-darken",class:{"side-drawer-darken-closed":t.closed}}),t._v(" "),n("div",{staticClass:"side-drawer",class:{"side-drawer-closed":t.closed},on:{touchstart:t.touchStart,touchmove:t.touchMove}},[n("div",{staticClass:"side-drawer-heading",on:{click:t.toggleDrawer}},[t.currentUser?n("UserCard",{attrs:{"user-id":t.currentUser.id,"hide-bio":!0}}):n("div",{staticClass:"side-drawer-logo-wrapper"},[n("img",{attrs:{src:t.logo}}),t._v(" "),t.hideSitename?t._e():n("span",[t._v(t._s(t.sitename))])])],1),t._v(" "),n("ul",[t.currentUser?t._e():n("li",{on:{click:t.toggleDrawer}},[n("router-link",{attrs:{to:{name:"login"}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"sign-in-alt"}}),t._v(" "+t._s(t.$t("login.login"))+"\n        ")],1)],1),t._v(" "),t.currentUser||!t.privateMode?n("li",{on:{click:t.toggleDrawer}},[n("router-link",{attrs:{to:{name:t.timelinesRoute}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"home"}}),t._v(" "+t._s(t.$t("nav.timelines"))+"\n        ")],1)],1):t._e(),t._v(" "),t.currentUser&&t.pleromaChatMessagesAvailable?n("li",{on:{click:t.toggleDrawer}},[n("router-link",{staticStyle:{position:"relative"},attrs:{to:{name:"chats",params:{username:t.currentUser.screen_name}}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"comments"}}),t._v(" "+t._s(t.$t("nav.chats"))+"\n          "),t.unreadChatCount?n("span",{staticClass:"badge badge-notification"},[t._v("\n            "+t._s(t.unreadChatCount)+"\n          ")]):t._e()],1)],1):t._e()]),t._v(" "),t.currentUser?n("ul",[n("li",{on:{click:t.toggleDrawer}},[n("router-link",{attrs:{to:{name:"interactions",params:{username:t.currentUser.screen_name}}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"bell"}}),t._v(" "+t._s(t.$t("nav.interactions"))+"\n        ")],1)],1),t._v(" "),t.currentUser.locked?n("li",{on:{click:t.toggleDrawer}},[n("router-link",{attrs:{to:"/friend-requests"}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"user-plus"}}),t._v(" "+t._s(t.$t("nav.friend_requests"))+"\n          "),t.followRequestCount>0?n("span",{staticClass:"badge badge-notification"},[t._v("\n            "+t._s(t.followRequestCount)+"\n          ")]):t._e()],1)],1):t._e(),t._v(" "),t.chat?n("li",{on:{click:t.toggleDrawer}},[n("router-link",{attrs:{to:{name:"chat-panel"}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"bullhorn"}}),t._v(" "+t._s(t.$t("shoutbox.title"))+"\n        ")],1)],1):t._e()]):t._e(),t._v(" "),n("ul",[t.currentUser||!t.privateMode?n("li",{on:{click:t.toggleDrawer}},[n("router-link",{attrs:{to:{name:"search"}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"search"}}),t._v(" "+t._s(t.$t("nav.search"))+"\n        ")],1)],1):t._e(),t._v(" "),t.currentUser&&t.suggestionsEnabled?n("li",{on:{click:t.toggleDrawer}},[n("router-link",{attrs:{to:{name:"who-to-follow"}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"user-plus"}}),t._v(" "+t._s(t.$t("nav.who_to_follow"))+"\n        ")],1)],1):t._e(),t._v(" "),n("li",{on:{click:t.toggleDrawer}},[n("button",{staticClass:"button-unstyled -link -fullwidth",on:{click:t.openSettingsModal}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"cog"}}),t._v(" "+t._s(t.$t("settings.settings"))+"\n        ")],1)]),t._v(" "),n("li",{on:{click:t.toggleDrawer}},[n("router-link",{attrs:{to:{name:"about"}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"info-circle"}}),t._v(" "+t._s(t.$t("nav.about"))+"\n        ")],1)],1),t._v(" "),t.currentUser&&"admin"===t.currentUser.role?n("li",{on:{click:t.toggleDrawer}},[n("a",{attrs:{href:"/pleroma/admin/#/login-pleroma",target:"_blank"}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"tachometer-alt"}}),t._v(" "+t._s(t.$t("nav.administration"))+"\n        ")],1)]):t._e(),t._v(" "),t.currentUser?n("li",{on:{click:t.toggleDrawer}},[n("button",{staticClass:"button-unstyled -link -fullwidth",on:{click:t.doLogout}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"sign-out-alt"}}),t._v(" "+t._s(t.$t("login.logout"))+"\n        ")],1)]):t._e()])]),t._v(" "),n("div",{staticClass:"side-drawer-click-outside",class:{"side-drawer-click-outside-closed":t.closed},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleDrawer(e)}}})])}),[],!1,$s,null,null).exports;xn.c.add(kn.N);var Ms=new Set(["chats","chat"]),Fs={data:function(){return{hidden:!1,scrollingDown:!1,inputActive:!1,oldScrollPos:0,amountScrolled:0}},created:function(){this.autohideFloatingPostButton&&this.activateFloatingPostButtonAutohide(),window.addEventListener("resize",this.handleOSK)},destroyed:function(){this.autohideFloatingPostButton&&this.deactivateFloatingPostButtonAutohide(),window.removeEventListener("resize",this.handleOSK)},computed:{isLoggedIn:function(){return!!this.$store.state.users.currentUser},isHidden:function(){return!!Ms.has(this.$route.name)||this.autohideFloatingPostButton&&(this.hidden||this.inputActive)},autohideFloatingPostButton:function(){return!!this.$store.getters.mergedConfig.autohideFloatingPostButton}},watch:{autohideFloatingPostButton:function(t){t?this.activateFloatingPostButtonAutohide():this.deactivateFloatingPostButtonAutohide()}},methods:{activateFloatingPostButtonAutohide:function(){window.addEventListener("scroll",this.handleScrollStart),window.addEventListener("scroll",this.handleScrollEnd)},deactivateFloatingPostButtonAutohide:function(){window.removeEventListener("scroll",this.handleScrollStart),window.removeEventListener("scroll",this.handleScrollEnd)},openPostForm:function(){this.$store.dispatch("openPostStatusModal")},handleOSK:function(){var t=window.innerWidth<350,e=t&&window.innerHeight<345,n=!t&&window.innerWidth<450&&window.innerHeight<560;this.inputActive=!(!e&&!n)},handleScrollStart:pn()((function(){window.scrollY>this.oldScrollPos?this.hidden=!0:this.hidden=!1,this.oldScrollPos=window.scrollY}),100,{leading:!0,trailing:!1}),handleScrollEnd:pn()((function(){this.hidden=!1,this.oldScrollPos=window.scrollY}),100,{leading:!1,trailing:!0})}};var Es=function(t){n(570)},Us=Object(bn.a)(Fs,(function(){var t=this.$createElement,e=this._self._c||t;return this.isLoggedIn?e("div",[e("button",{staticClass:"button-default new-status-button",class:{hidden:this.isHidden},on:{click:this.openPostForm}},[e("FAIcon",{attrs:{icon:"pen"}})],1)]):this._e()}),[],!1,Es,null,null).exports;function As(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}xn.c.add(kn.jb,kn.d,kn.c);var Ns={components:{SideDrawer:Is,Notifications:_i},data:function(){return{notificationsCloseGesture:void 0,notificationsOpen:!1}},created:function(){this.notificationsCloseGesture=Cs.swipeGesture(Cs.DIRECTION_RIGHT,this.closeMobileNotifications,50)},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?As(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):As(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({currentUser:function(){return this.$store.state.users.currentUser},unseenNotifications:function(){return Object(G.f)(this.$store)},unseenNotificationsCount:function(){return this.unseenNotifications.length},hideSitename:function(){return this.$store.state.instance.hideSitename},sitename:function(){return this.$store.state.instance.name},isChat:function(){return"chat"===this.$route.name}},Object(c.c)(["unreadChatCount"])),methods:{toggleMobileSidebar:function(){this.$refs.sideDrawer.toggleDrawer()},openMobileNotifications:function(){this.notificationsOpen=!0},closeMobileNotifications:function(){this.notificationsOpen&&(this.notificationsOpen=!1,this.markNotificationsAsSeen())},notificationsTouchStart:function(t){Cs.beginSwipe(t,this.notificationsCloseGesture)},notificationsTouchMove:function(t){Cs.updateSwipe(t,this.notificationsCloseGesture)},scrollToTop:function(){window.scrollTo(0,0)},logout:function(){this.$router.replace("/main/public"),this.$store.dispatch("logout")},markNotificationsAsSeen:function(){this.$refs.notifications.markAsSeen()},onScroll:function(t){var e=t.target;e.scrollTop+e.clientHeight>=e.scrollHeight&&this.$refs.notifications.fetchOlderNotifications()}},watch:{$route:function(){this.closeMobileNotifications()}}};var Ds=function(t){n(572)},Ls=Object(bn.a)(Ns,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"MobileNav"},[n("nav",{staticClass:"mobile-nav",class:{"mobile-hidden":t.isChat},attrs:{id:"nav"},on:{click:function(e){return t.scrollToTop()}}},[n("div",{staticClass:"item"},[n("button",{staticClass:"button-unstyled mobile-nav-button",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleMobileSidebar()}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"bars"}}),t._v(" "),t.unreadChatCount?n("div",{staticClass:"alert-dot"}):t._e()],1),t._v(" "),t.hideSitename?t._e():n("router-link",{staticClass:"site-name",attrs:{to:{name:"root"},"active-class":"home"}},[t._v("\n        "+t._s(t.sitename)+"\n      ")])],1),t._v(" "),n("div",{staticClass:"item right"},[t.currentUser?n("button",{staticClass:"button-unstyled mobile-nav-button",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.openMobileNotifications()}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"bell"}}),t._v(" "),t.unseenNotificationsCount?n("div",{staticClass:"alert-dot"}):t._e()],1):t._e()])]),t._v(" "),t.currentUser?n("div",{staticClass:"mobile-notifications-drawer",class:{closed:!t.notificationsOpen},on:{touchstart:function(e){return e.stopPropagation(),t.notificationsTouchStart(e)},touchmove:function(e){return e.stopPropagation(),t.notificationsTouchMove(e)}}},[n("div",{staticClass:"mobile-notifications-header"},[n("span",{staticClass:"title"},[t._v(t._s(t.$t("notifications.notifications")))]),t._v(" "),n("a",{staticClass:"mobile-nav-button",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.closeMobileNotifications()}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"times"}})],1)]),t._v(" "),n("div",{staticClass:"mobile-notifications",on:{scroll:t.onScroll}},[n("Notifications",{ref:"notifications",attrs:{"no-heading":!0}})],1)]):t._e(),t._v(" "),n("SideDrawer",{ref:"sideDrawer",attrs:{logout:t.logout}})],1)}),[],!1,Ds,null,null).exports;xn.c.add(kn.jb,kn.V);var Rs={data:function(){return{searchTerm:void 0,hidden:!0,error:!1}},watch:{$route:function(t){"search"===t.name&&(this.searchTerm=t.query.query)}},methods:{find:function(t){this.$router.push({name:"search",query:{query:t}}),this.$refs.searchInput.focus()},toggleHidden:function(){var t=this;this.hidden=!this.hidden,this.$emit("toggled",this.hidden),this.$nextTick((function(){t.hidden||t.$refs.searchInput.focus()}))}}};var Bs=function(t){n(576)},zs=Object(bn.a)(Rs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"SearchBar",class:{"-expanded":!t.hidden}},[t.hidden?n("button",{staticClass:"button-unstyled nav-icon",attrs:{title:t.$t("nav.search"),type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggleHidden(e)}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"search"}})],1):[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],ref:"searchInput",staticClass:"search-bar-input",attrs:{id:"search-bar-input",placeholder:t.$t("nav.search"),type:"text"},domProps:{value:t.searchTerm},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.find(t.searchTerm)},input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),t._v(" "),n("button",{staticClass:"button-default search-button",attrs:{type:"submit"},on:{click:function(e){return t.find(t.searchTerm)}}},[n("FAIcon",{attrs:{"fixed-width":"",icon:"search"}})],1),t._v(" "),n("button",{staticClass:"button-unstyled cancel-search",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggleHidden(e)}}},[n("FAIcon",{staticClass:"cancel-icon fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"times"}})],1)]],2)}),[],!1,Bs,null,null).exports;xn.c.add(kn.Y,kn.Z,kn.E,kn.o,kn.d,kn.mb,kn.g,kn.V,kn.gb,kn.n,kn.H);var Hs={components:{SearchBar:zs},data:function(){return{searchBarHidden:!0,supportsMask:window.CSS&&window.CSS.supports&&(window.CSS.supports("mask-size","contain")||window.CSS.supports("-webkit-mask-size","contain")||window.CSS.supports("-moz-mask-size","contain")||window.CSS.supports("-ms-mask-size","contain")||window.CSS.supports("-o-mask-size","contain"))}},computed:{enableMask:function(){return this.supportsMask&&this.$store.state.instance.logoMask},logoStyle:function(){return{visibility:this.enableMask?"hidden":"visible"}},logoMaskStyle:function(){return this.enableMask?{"mask-image":"url(".concat(this.$store.state.instance.logo,")")}:{"background-color":this.enableMask?"":"transparent"}},logoBgStyle:function(){return Object.assign({margin:"".concat(this.$store.state.instance.logoMargin," 0"),opacity:this.searchBarHidden?1:0},this.enableMask?{}:{"background-color":this.enableMask?"":"transparent"})},logo:function(){return this.$store.state.instance.logo},sitename:function(){return this.$store.state.instance.name},hideSitename:function(){return this.$store.state.instance.hideSitename},logoLeft:function(){return this.$store.state.instance.logoLeft},currentUser:function(){return this.$store.state.users.currentUser},privateMode:function(){return this.$store.state.instance.private}},methods:{scrollToTop:function(){window.scrollTo(0,0)},logout:function(){this.$router.replace("/main/public"),this.$store.dispatch("logout")},onSearchBarToggled:function(t){this.searchBarHidden=t},openSettingsModal:function(){this.$store.dispatch("openSettingsModal")}}};var qs=function(t){n(574)},Vs=Object(bn.a)(Hs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"DesktopNav",class:{"-logoLeft":t.logoLeft},attrs:{id:"nav"},on:{click:function(e){return t.scrollToTop()}}},[n("div",{staticClass:"inner-nav"},[n("div",{staticClass:"item sitename"},[t.hideSitename?t._e():n("router-link",{staticClass:"site-name",attrs:{to:{name:"root"},"active-class":"home"}},[t._v("\n        "+t._s(t.sitename)+"\n      ")])],1),t._v(" "),n("router-link",{staticClass:"logo",style:t.logoBgStyle,attrs:{to:{name:"root"}}},[n("div",{staticClass:"mask",style:t.logoMaskStyle}),t._v(" "),n("img",{style:t.logoStyle,attrs:{src:t.logo}})]),t._v(" "),n("div",{staticClass:"item right actions"},[t.currentUser||!t.privateMode?n("search-bar",{on:{toggled:t.onSearchBarToggled},nativeOn:{click:function(t){t.stopPropagation()}}}):t._e(),t._v(" "),n("button",{staticClass:"button-unstyled nav-icon",on:{click:function(e){return e.stopPropagation(),t.openSettingsModal(e)}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"cog",title:t.$t("nav.preferences")}})],1),t._v(" "),t.currentUser&&"admin"===t.currentUser.role?n("a",{staticClass:"nav-icon",attrs:{href:"/pleroma/admin/#/login-pleroma",target:"_blank"}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"tachometer-alt",title:t.$t("nav.administration")}})],1):t._e(),t._v(" "),t.currentUser?n("button",{staticClass:"button-unstyled nav-icon",on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{"fixed-width":"",icon:"sign-out-alt",title:t.$t("login.logout")}})],1):t._e()],1)],1)])}),[],!1,qs,null,null).exports,Ws=n(59);function Gs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var Ks={components:{Status:fn.default,List:Li.a,Checkbox:Ws.a,Modal:rs},data:function(){return{comment:"",forward:!1,statusIdsToReport:[],processing:!1,error:!1}},computed:{isLoggedIn:function(){return!!this.$store.state.users.currentUser},isOpen:function(){return this.isLoggedIn&&this.$store.state.reports.modalActivated},userId:function(){return this.$store.state.reports.userId},user:function(){return this.$store.getters.findUser(this.userId)},remoteInstance:function(){return!this.user.is_local&&this.user.screen_name.substr(this.user.screen_name.indexOf("@")+1)},statuses:function(){return this.$store.state.reports.statuses},preTickedIds:function(){return this.$store.state.reports.preTickedIds}},watch:{userId:"resetState",preTickedIds:function(t){this.statusIdsToReport=t}},methods:{resetState:function(){this.comment="",this.forward=!1,this.statusIdsToReport=this.preTickedIds,this.processing=!1,this.error=!1},closeModal:function(){this.$store.dispatch("closeUserReportingModal")},reportUser:function(){var t=this;this.processing=!0,this.error=!1;var e={userId:this.userId,comment:this.comment,forward:this.forward,statusIds:this.statusIdsToReport};this.$store.state.api.backendInteractor.reportUser(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gs(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gs(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e)).then((function(){t.processing=!1,t.resetState(),t.closeModal()})).catch((function(){t.processing=!1,t.error=!0}))},clearError:function(){this.error=!1},isChecked:function(t){return-1!==this.statusIdsToReport.indexOf(t)},toggleStatus:function(t,e){t!==this.isChecked(e)&&(t?this.statusIdsToReport.push(e):this.statusIdsToReport.splice(this.statusIdsToReport.indexOf(e),1))},resize:function(t){var e=t.target||t;e instanceof window.Element&&(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"),""===e.value&&(e.style.height=null))}}};var Ys=function(t){n(578)},Js=Object(bn.a)(Ks,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isOpen?n("Modal",{on:{backdropClicked:t.closeModal}},[n("div",{staticClass:"user-reporting-panel panel"},[n("div",{staticClass:"panel-heading"},[n("div",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("user_reporting.title",[t.user.screen_name_ui]))+"\n      ")])]),t._v(" "),n("div",{staticClass:"panel-body"},[n("div",{staticClass:"user-reporting-panel-left"},[n("div",[n("p",[t._v(t._s(t.$t("user_reporting.add_comment_description")))]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control",attrs:{placeholder:t.$t("user_reporting.additional_comments"),rows:"1"},domProps:{value:t.comment},on:{input:[function(e){e.target.composing||(t.comment=e.target.value)},t.resize]}})]),t._v(" "),t.user.is_local?t._e():n("div",[n("p",[t._v(t._s(t.$t("user_reporting.forward_description")))]),t._v(" "),n("Checkbox",{model:{value:t.forward,callback:function(e){t.forward=e},expression:"forward"}},[t._v("\n            "+t._s(t.$t("user_reporting.forward_to",[t.remoteInstance]))+"\n          ")])],1),t._v(" "),n("div",[n("button",{staticClass:"btn button-default",attrs:{disabled:t.processing},on:{click:t.reportUser}},[t._v("\n            "+t._s(t.$t("user_reporting.submit"))+"\n          ")]),t._v(" "),t.error?n("div",{staticClass:"alert error"},[t._v("\n            "+t._s(t.$t("user_reporting.generic_error"))+"\n          ")]):t._e()])]),t._v(" "),n("div",{staticClass:"user-reporting-panel-right"},[n("List",{attrs:{items:t.statuses},scopedSlots:t._u([{key:"item",fn:function(e){var i=e.item;return[n("div",{staticClass:"status-fadein user-reporting-panel-sitem"},[n("Status",{attrs:{"in-conversation":!1,focused:!1,statusoid:i}}),t._v(" "),n("Checkbox",{attrs:{checked:t.isChecked(i.id)},on:{change:function(e){return t.toggleStatus(e,i.id)}}})],1)]}}],null,!1,2514683306)})],1)])])]):t._e()}),[],!1,Ys,null,null).exports,Xs={components:{PostStatusForm:to.a,Modal:rs},data:function(){return{resettingForm:!1}},computed:{isLoggedIn:function(){return!!this.$store.state.users.currentUser},modalActivated:function(){return this.$store.state.postStatus.modalActivated},isFormVisible:function(){return this.isLoggedIn&&!this.resettingForm&&this.modalActivated},params:function(){return this.$store.state.postStatus.params||{}}},watch:{params:function(t,e){var n=this;Ne()(t,"repliedUser.id")!==Ne()(e,"repliedUser.id")&&(this.resettingForm=!0,this.$nextTick((function(){n.resettingForm=!1})))},isFormVisible:function(t){var e=this;t&&this.$nextTick((function(){return e.$el&&e.$el.querySelector("textarea").focus()}))}},methods:{closeModal:function(){this.$store.dispatch("closePostStatusModal")}}};var Qs=function(t){n(580)},Zs=Object(bn.a)(Xs,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isLoggedIn&&!t.resettingForm?n("Modal",{staticClass:"post-form-modal-view",attrs:{"is-open":t.modalActivated},on:{backdropClicked:t.closeModal}},[n("div",{staticClass:"post-form-modal-panel panel"},[n("div",{staticClass:"panel-heading"},[t._v("\n      "+t._s(t.$t("post_status.new_status"))+"\n    ")]),t._v(" "),n("PostStatusForm",t._b({staticClass:"panel-body",on:{posted:t.closeModal}},"PostStatusForm",t.params,!1))],1)]):t._e()}),[],!1,Qs,null,null).exports;xn.c.add(kn.jb);var ta={computed:{notices:function(){return this.$store.state.interface.globalNotices}},methods:{closeNotice:function(t){this.$store.dispatch("removeGlobalNotice",t)}}};var ea=function(t){n(582)},na=Object(bn.a)(ta,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"global-notice-list"},t._l(t.notices,(function(e,i){var o;return n("div",{key:i,staticClass:"alert global-notice",class:(o={},o["global-"+e.level]=!0,o)},[n("div",{staticClass:"notice-message"},[t._v("\n      "+t._s(t.$t(e.messageKey,e.messageArgs))+"\n    ")]),t._v(" "),n("button",{staticClass:"button-unstyled close-notice",on:{click:function(n){return t.closeNotice(e)}}},[n("FAIcon",{staticClass:"fa-scale-110 fa-old-padding",attrs:{icon:"times"}})],1)])})),0)}),[],!1,ea,null,null).exports,ia=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth};function oa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var ra={name:"app",components:{UserPanel:qr,NavPanel:Kr,Notifications:_i,InstanceSpecificPanel:vr,FeaturesPanel:yr,WhoToFollowPanel:ts,ShoutPanel:pr,MediaModal:js,SideDrawer:Is,MobilePostStatusButton:Us,MobileNav:Ls,DesktopNav:Vs,SettingsModal:vs,UserReportingModal:Js,PostStatusModal:Zs,GlobalNoticeList:na},data:function(){return{mobileActivePanel:"timeline"}},created:function(){var t=this.$store.getters.mergedConfig.interfaceLanguage;this.$store.dispatch("setOption",{name:"interfaceLanguage",value:t}),window.addEventListener("resize",this.updateMobileState)},destroyed:function(){window.removeEventListener("resize",this.updateMobileState)},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?oa(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({currentUser:function(){return this.$store.state.users.currentUser},userBackground:function(){return this.currentUser.background_image},instanceBackground:function(){return this.mergedConfig.hideInstanceWallpaper?null:this.$store.state.instance.background},background:function(){return this.userBackground||this.instanceBackground},bgStyle:function(){if(this.background)return{"--body-background-image":"url(".concat(this.background,")")}},shout:function(){return"joined"===this.$store.state.shout.channel.state},suggestionsEnabled:function(){return this.$store.state.instance.suggestionsEnabled},showInstanceSpecificPanel:function(){return this.$store.state.instance.showInstanceSpecificPanel&&!this.$store.getters.mergedConfig.hideISP&&this.$store.state.instance.instanceSpecificPanelContent},showFeaturesPanel:function(){return this.$store.state.instance.showFeaturesPanel},hideShoutbox:function(){return this.$store.getters.mergedConfig.hideShoutbox},isMobileLayout:function(){return this.$store.state.interface.mobileLayout},privateMode:function(){return this.$store.state.instance.private},sidebarAlign:function(){return{order:this.$store.getters.mergedConfig.sidebarRight?99:0}}},Object(c.c)(["mergedConfig"])),methods:{updateMobileState:function(){var t=ia()<=800,e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;t!==this.isMobileLayout&&this.$store.dispatch("setMobileLayout",t),this.$store.dispatch("setLayoutHeight",e)}}};var sa=function(t){n(547)},aa=Object(bn.a)(ra,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:t.bgStyle,attrs:{id:"app"}},[n("div",{staticClass:"app-bg-wrapper",attrs:{id:"app_bg_wrapper"}}),t._v(" "),t.isMobileLayout?n("MobileNav"):n("DesktopNav"),t._v(" "),n("div",{staticClass:"app-bg-wrapper app-container-wrapper"}),t._v(" "),n("div",{staticClass:"container underlay",attrs:{id:"content"}},[n("div",{staticClass:"sidebar-flexer mobile-hidden",style:t.sidebarAlign},[n("div",{staticClass:"sidebar-bounds"},[n("div",{staticClass:"sidebar-scroller"},[n("div",{staticClass:"sidebar"},[n("user-panel"),t._v(" "),t.isMobileLayout?t._e():n("div",[n("nav-panel"),t._v(" "),t.showInstanceSpecificPanel?n("instance-specific-panel"):t._e(),t._v(" "),!t.currentUser&&t.showFeaturesPanel?n("features-panel"):t._e(),t._v(" "),t.currentUser&&t.suggestionsEnabled?n("who-to-follow-panel"):t._e(),t._v(" "),t.currentUser?n("notifications"):t._e()],1)],1)])])]),t._v(" "),n("div",{staticClass:"main"},[t.currentUser?t._e():n("div",{staticClass:"login-hint panel panel-default"},[n("router-link",{staticClass:"panel-body",attrs:{to:{name:"login"}}},[t._v("\n          "+t._s(t.$t("login.hint"))+"\n        ")])],1),t._v(" "),n("router-view")],1),t._v(" "),n("media-modal")],1),t._v(" "),t.currentUser&&t.shout&&!t.hideShoutbox?n("shout-panel",{staticClass:"floating-shout mobile-hidden",attrs:{floating:!0}}):t._e(),t._v(" "),n("MobilePostStatusButton"),t._v(" "),n("UserReportingModal"),t._v(" "),n("PostStatusModal"),t._v(" "),n("SettingsModal"),t._v(" "),n("portal-target",{attrs:{name:"modal"}}),t._v(" "),n("GlobalNoticeList")],1)}),[],!1,sa,null,null).exports;function ca(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function la(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ca(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ua=null,da=function(t){var e=atob(t),n=Uint8Array.from(p()(e).map((function(t){return t.charCodeAt(0)})));return(new TextDecoder).decode(n)},pa=function(t){var e,n,i;return o.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if((e=document.getElementById("initial-results")?(ua||(ua=JSON.parse(document.getElementById("initial-results").textContent)),ua):null)&&e[t]){o.next=3;break}return o.abrupt("return",window.fetch(t));case 3:return n=da(e[t]),i=JSON.parse(n),o.abrupt("return",{ok:!0,json:function(){return i},text:function(){return i}});case 6:case"end":return o.stop()}}))},fa=function(t){var e,n,i,r,s;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=t.store,a.prev=1,a.next=4,o.a.awrap(pa("/api/v1/instance"));case 4:if(!(n=a.sent).ok){a.next=16;break}return a.next=8,o.a.awrap(n.json());case 8:i=a.sent,r=i.max_toot_chars,s=i.pleroma.vapid_public_key,e.dispatch("setInstanceOption",{name:"textlimit",value:r}),e.dispatch("setInstanceOption",{name:"accountApprovalRequired",value:i.approval_required}),s&&e.dispatch("setInstanceOption",{name:"vapidPublicKey",value:s}),a.next=17;break;case 16:throw n;case 17:a.next=23;break;case 19:a.prev=19,a.t0=a.catch(1),console.error("Could not load instance config, potentially fatal"),console.error(a.t0);case 23:case"end":return a.stop()}}),null,null,[[1,19]])},ha=function(t){var e,n;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t.store,i.prev=1,i.next=4,o.a.awrap(window.fetch("/api/pleroma/frontend_configurations"));case 4:if(!(e=i.sent).ok){i.next=12;break}return i.next=8,o.a.awrap(e.json());case 8:return n=i.sent,i.abrupt("return",n.pleroma_fe);case 12:throw e;case 13:i.next=19;break;case 15:i.prev=15,i.t0=i.catch(1),console.error("Could not load backend-provided frontend config, potentially fatal"),console.error(i.t0);case 19:case"end":return i.stop()}}),null,null,[[1,15]])},ma=function(){var t;return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.awrap(window.fetch("/static/config.json"));case 3:if(!(t=e.sent).ok){e.next=8;break}return e.abrupt("return",t.json());case 8:throw t;case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(0),console.warn("Failed to load static/config.json, continuing without it."),console.warn(e.t0),e.abrupt("return",{});case 16:case"end":return e.stop()}}),null,null,[[0,11]])},ga=function(t){var e,n,i,r,s,a,c;return o.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.apiConfig,n=t.staticConfig,i=t.store,r=window.___pleromafe_dev_overrides||{},s=window.___pleromafe_mode.NODE_ENV,a={},r.staticConfigPreference&&"development"===s?(console.warn("OVERRIDING API CONFIG WITH STATIC CONFIG"),a=Object.assign({},e,n)):a=Object.assign({},n,e),(c=function(t){i.dispatch("setInstanceOption",{name:t,value:a[t]})})("nsfwCensorImage"),c("background"),c("hidePostStats"),c("hideUserStats"),c("hideFilteredStatuses"),c("logo"),i.dispatch("setInstanceOption",{name:"logoMask",value:void 0===a.logoMask||a.logoMask}),i.dispatch("setInstanceOption",{name:"logoMargin",value:void 0===a.logoMargin?0:a.logoMargin}),c("logoLeft"),i.commit("authFlow/setInitialStrategy",a.loginMethod),c("redirectRootNoLogin"),c("redirectRootLogin"),c("showInstanceSpecificPanel"),c("minimalScopesMode"),c("hideMutedPosts"),c("collapseMessageWithSubject"),c("scopeCopy"),c("subjectLineBehavior"),c("postContentType"),c("alwaysShowSubjectInput"),c("showFeaturesPanel"),c("hideSitename"),c("sidebarRight"),o.abrupt("return",i.dispatch("setTheme",a.theme));case 30:case"end":return o.stop()}}))},va=function(t){var e,n,i;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.store,r.prev=1,r.next=4,o.a.awrap(window.fetch("/static/terms-of-service.html"));case 4:if(!(n=r.sent).ok){r.next=12;break}return r.next=8,o.a.awrap(n.text());case 8:i=r.sent,e.dispatch("setInstanceOption",{name:"tos",value:i}),r.next=13;break;case 12:throw n;case 13:r.next=19;break;case 15:r.prev=15,r.t0=r.catch(1),console.warn("Can't load TOS"),console.warn(r.t0);case 19:case"end":return r.stop()}}),null,null,[[1,15]])},ba=function(t){var e,n,i;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=t.store,r.prev=1,r.next=4,o.a.awrap(pa("/instance/panel.html"));case 4:if(!(n=r.sent).ok){r.next=12;break}return r.next=8,o.a.awrap(n.text());case 8:i=r.sent,e.dispatch("setInstanceOption",{name:"instanceSpecificPanelContent",value:i}),r.next=13;break;case 12:throw n;case 13:r.next=19;break;case 15:r.prev=15,r.t0=r.catch(1),console.warn("Can't load instance panel"),console.warn(r.t0);case 19:case"end":return r.stop()}}),null,null,[[1,15]])},wa=function(t){var e,n,i,r;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=t.store,s.prev=1,s.next=4,o.a.awrap(window.fetch("/static/stickers.json"));case 4:if(!(n=s.sent).ok){s.next=16;break}return s.next=8,o.a.awrap(n.json());case 8:return i=s.sent,s.next=11,o.a.awrap(Promise.all(Object.entries(i).map((function(t){var e,n,i,r,s;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=g()(t,2),n=e[0],i=e[1],a.next=3,o.a.awrap(window.fetch(i+"pack.json"));case 3:if(r=a.sent,s={},!r.ok){a.next=9;break}return a.next=8,o.a.awrap(r.json());case 8:s=a.sent;case 9:return a.abrupt("return",{pack:n,path:i,meta:s});case 10:case"end":return a.stop()}}))}))));case 11:s.t0=function(t,e){return t.meta.title.localeCompare(e.meta.title)},r=s.sent.sort(s.t0),e.dispatch("setInstanceOption",{name:"stickers",value:r}),s.next=17;break;case 16:throw n;case 17:s.next=23;break;case 19:s.prev=19,s.t1=s.catch(1),console.warn("Can't load stickers"),console.warn(s.t1);case 23:case"end":return s.stop()}}),null,null,[[1,19]])},_a=function(t){var e,n,i,r,s;return o.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.store,n=e.state,i=e.commit,r=n.oauth,s=n.instance,o.abrupt("return",It(la({},r,{instance:s.server,commit:i})).then((function(t){return Mt(la({},t,{instance:s.server}))})).then((function(t){i("setAppToken",t.access_token),i("setBackendInteractor",jt(e.getters.getToken()))})));case 4:case"end":return o.stop()}}))},ya=function(t){var e=t.store,n=t.accounts.map((function(t){return t.split("/").pop()}));e.dispatch("setInstanceOption",{name:"staffAccounts",value:n})},xa=function(t){var e,n,i,r,s,a,c,l,u,d,p,f,h;return o.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return e=t.store,m.prev=1,m.next=4,o.a.awrap(pa("/nodeinfo/2.0.json"));case 4:if(!(n=m.sent).ok){m.next=49;break}return m.next=8,o.a.awrap(n.json());case 8:i=m.sent,r=i.metadata,s=r.features,e.dispatch("setInstanceOption",{name:"name",value:r.nodeName}),e.dispatch("setInstanceOption",{name:"registrationOpen",value:i.openRegistrations}),e.dispatch("setInstanceOption",{name:"mediaProxyAvailable",value:s.includes("media_proxy")}),e.dispatch("setInstanceOption",{name:"safeDM",value:s.includes("safe_dm_mentions")}),e.dispatch("setInstanceOption",{name:"shoutAvailable",value:s.includes("chat")}),e.dispatch("setInstanceOption",{name:"pleromaChatMessagesAvailable",value:s.includes("pleroma_chat_messages")}),e.dispatch("setInstanceOption",{name:"gopherAvailable",value:s.includes("gopher")}),e.dispatch("setInstanceOption",{name:"pollsAvailable",value:s.includes("polls")}),e.dispatch("setInstanceOption",{name:"pollLimits",value:r.pollLimits}),e.dispatch("setInstanceOption",{name:"mailerEnabled",value:r.mailerEnabled}),a=r.uploadLimits,e.dispatch("setInstanceOption",{name:"uploadlimit",value:parseInt(a.general)}),e.dispatch("setInstanceOption",{name:"avatarlimit",value:parseInt(a.avatar)}),e.dispatch("setInstanceOption",{name:"backgroundlimit",value:parseInt(a.background)}),e.dispatch("setInstanceOption",{name:"bannerlimit",value:parseInt(a.banner)}),e.dispatch("setInstanceOption",{name:"fieldsLimits",value:r.fieldsLimits}),e.dispatch("setInstanceOption",{name:"restrictedNicknames",value:r.restrictedNicknames}),e.dispatch("setInstanceOption",{name:"postFormats",value:r.postFormats}),c=r.suggestions,e.dispatch("setInstanceOption",{name:"suggestionsEnabled",value:c.enabled}),e.dispatch("setInstanceOption",{name:"suggestionsWeb",value:c.web}),l=i.software,e.dispatch("setInstanceOption",{name:"backendVersion",value:l.version}),e.dispatch("setInstanceOption",{name:"pleromaBackend",value:"pleroma"===l.name}),u=r.private,e.dispatch("setInstanceOption",{name:"private",value:u}),d=window.___pleromafe_commit_hash,e.dispatch("setInstanceOption",{name:"frontendVersion",value:d}),p=r.federation,e.dispatch("setInstanceOption",{name:"tagPolicyAvailable",value:void 0!==p.mrf_policies&&r.federation.mrf_policies.includes("TagPolicy")}),e.dispatch("setInstanceOption",{name:"federationPolicy",value:p}),e.dispatch("setInstanceOption",{name:"federating",value:void 0===p.enabled||p.enabled}),f=r.accountActivationRequired,e.dispatch("setInstanceOption",{name:"accountActivationRequired",value:f}),h=r.staffAccounts,ya({store:e,accounts:h}),m.next=50;break;case 49:throw n;case 50:m.next=56;break;case 52:m.prev=52,m.t0=m.catch(1),console.warn("Could not load nodeinfo"),console.warn(m.t0);case 56:case"end":return m.stop()}}),null,null,[[1,52]])},ka=function(t){var e,n,i,r;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=t.store,s.next=3,o.a.awrap(Promise.all([ha({store:e}),ma()]));case 3:return n=s.sent,i=n[0],r=n[1],s.next=8,o.a.awrap(ga({store:e,apiConfig:i,staticConfig:r}).then(_a({store:e})));case 8:case"end":return s.stop()}}))},Ca=function(t){var e;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.store,n.abrupt("return",new Promise((function(t,n){return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.getters.getUserToken()){n.next=9;break}return n.prev=1,n.next=4,o.a.awrap(e.dispatch("loginUser",e.getters.getUserToken()));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),console.error(n.t0);case 9:t();case 10:case"end":return n.stop()}}),null,null,[[1,6]])})));case 2:case"end":return n.stop()}}))},Sa=function(t){var e,n,i,r,c,l,u,d,p,f;return o.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return e=t.store,n=t.i18n,i=ia(),e.dispatch("setMobileLayout",i<=800),gi.initFaviconService(),r=window.___pleromafe_dev_overrides||{},c=void 0!==r.target?r.target:window.location.origin,e.dispatch("setInstanceOption",{name:"server",value:c}),h.next=9,o.a.awrap(ka({store:e}));case 9:return l=e.state.config,u=l.customTheme,d=l.customThemeSource,p=e.state.instance.theme,d||u?d&&d.themeEngineVersion===b.a?Object(v.b)(d):Object(v.b)(u):p||console.error("Failed to load any theme!"),h.next=15,o.a.awrap(Promise.all([Ca({store:e}),ba({store:e}),xa({store:e}),fa({store:e})]));case 15:return e.dispatch("fetchMutes"),va({store:e}),wa({store:e}),f=new a.a({mode:"history",routes:Rr(e),scrollBehavior:function(t,e,n){return!t.matched.some((function(t){return t.meta.dontScroll}))&&(n||{x:0,y:0})}}),h.abrupt("return",new s.a({router:f,store:e,i18n:n,el:"#app",render:function(t){return t(aa)}}));case 20:case"end":return h.stop()}}))},Oa=(window.navigator.language||"en").split("-")[0];s.a.use(c.a),s.a.use(a.a),s.a.use(Fe.a),s.a.use(Xe.a),s.a.use(Ze.a),s.a.use((function(t){t.directive("body-scroll-lock",rn)})),s.a.component("FAIcon",sn.a),s.a.component("FALayers",sn.b);var ja=new Fe.a({locale:"en",fallbackLocale:"en",messages:Ye.a.default});Ye.a.setLanguage(ja,Oa);var Pa,Ta,$a,Ia,Ma={paths:["config","users.lastLoginName","oauth"]};o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return Pa=!1,Ta=[Ke],t.prev=2,t.next=5,o.a.awrap(Ve(Ma));case 5:$a=t.sent,Ta.push($a),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),Pa=!0;case 13:Ia=new c.a.Store({modules:{i18n:{getters:{i18n:function(){return ja}}},interface:u,instance:x,statuses:rt,users:Yt,api:ie,config:_.a,shout:oe,oauth:re,authFlow:ae,mediaViewer:le,oauthTokens:ue,reports:fe,polls:he,postStatus:me,chats:Me},plugins:Ta,strict:!1}),Pa&&Ia.dispatch("pushGlobalNotice",{messageKey:"errors.storage_unavailable",level:"error"}),Sa({store:Ia,i18n:ja});case 16:case"end":return t.stop()}}),null,null,[[2,9]]),window.___pleromafe_mode=Object({NODE_ENV:"production"}),window.___pleromafe_commit_hash="51d3d8d2\n",window.___pleromafe_dev_overrides=void 0}]);
//# sourceMappingURL=app.ce97bd1883ee9dd7b809.js.map