(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{657:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return C});var o,n,r,i=a(0),c=a(2),s=a(6),p=a(1),u=a(3),d=a.n(u),l=a(8),g=a(4),m=a.n(g),h=a(581),b=a(229),j=a(32),f=a(29),O=a(73),v=a(24),I=a(580),M=a(120),y=a(172),_=a(35),C=Object(l.connect)(function(e,t){var a=e.get("me");return{account:e.getIn(["accounts",a]),group:e.getIn(["groups",t.params.id]),relationships:e.getIn(["group_relationships",t.params.id]),hasUnread:0<e.getIn(["timelines","group:"+t.params.id,"unread"])}})(o=Object(j.c)((r=n=function(n){function e(){for(var a,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return a=n.call.apply(n,[this].concat(t))||this,Object(p.a)(Object(c.a)(a),"handleLoadMore",function(e){var t=a.props.params.id;a.props.dispatch(Object(v.w)(t,{maxId:e}))}),a}Object(s.a)(e,n);var t=e.prototype;return t.componentDidMount=function(){var e=this.props.dispatch,t=this.props.params.id;e(Object(v.w)(t)),this.disconnect=e(Object(O.e)(t))},t.componentWillUnmount=function(){this.disconnect&&(this.disconnect(),this.disconnect=null)},t.render=function(){var e=this.props,t=e.columnId,a=e.group,o=e.relationships,n=e.account,r=this.props.params.id;return void 0!==a&&o?!1===a?Object(i.a)(b.a,{},void 0,Object(i.a)(I.a,{})):Object(i.a)("div",{},void 0,o.get("member")&&Object(i.a)("div",{className:"timeline-compose-block"},void 0,Object(i.a)("div",{className:"timeline-compose-block__avatar"},void 0,Object(i.a)(_.a,{account:n,size:46})),Object(i.a)(y.a,{group:a,shouldCondense:!0,autoFocus:!1})),Object(i.a)("div",{className:"group__feed"},void 0,Object(i.a)(h.a,{alwaysPrepend:!0,scrollKey:"group_timeline-"+t,timelineId:"group:"+r,onLoadMore:this.handleLoadMore,group:a,withGroupAdmin:o&&o.get("admin"),emptyMessage:Object(i.a)(f.a,{id:"empty_column.group",defaultMessage:"There is nothing in this group yet. When members of this group make new posts, they will appear here."})}))):Object(i.a)(b.a,{},void 0,Object(i.a)(M.a,{}))},e}(d.a.PureComponent),Object(p.a)(n,"contextTypes",{router:m.a.object}),o=r))||o)||o},658:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return _});var o,n,r,i=a(0),c=a(2),s=a(6),p=a(1),u=a(68),d=a.n(u),l=(a(3),a(8)),g=a(13),m=a(4),h=a.n(m),b=a(15),j=a.n(b),f=a(120),O=a(46),v=a(29),I=a(151),M=a(227),y=a(228),_=Object(l.connect)(function(e,t){var a=t.params.id;return{group:e.getIn(["groups",a]),accountIds:e.getIn(["user_lists","groups",a,"items"]),hasMore:!!e.getIn(["user_lists","groups",a,"next"])}})((r=n=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a))||this,Object(p.a)(Object(c.a)(e),"handleLoadMore",d()(function(){e.props.dispatch(Object(O.n)(e.props.params.id))},300,{leading:!0})),e}Object(s.a)(e,n);var t=e.prototype;return t.componentDidMount=function(){var e=this.props.params.id;this.props.dispatch(Object(O.q)(e))},t.componentDidUpdate=function(e){this.props.params.id!==e.params.id&&this.props.dispatch(Object(O.q)(this.props.params.id))},t.render=function(){var e=this.props,t=e.accountIds,a=e.hasMore;return e.group&&t?Object(i.a)(M.a,{},void 0,Object(i.a)(y.a,{scrollKey:"members",hasMore:a,onLoadMore:this.handleLoadMore,emptyMessage:Object(i.a)(v.a,{id:"group.members.empty",defaultMessage:"This group does not has any members."})},void 0,t.map(function(e){return Object(i.a)(I.a,{id:e,withNote:!1},e)}))):Object(i.a)(M.a,{},void 0,Object(i.a)(f.a,{}))},e}(g.a),Object(p.a)(n,"propTypes",{params:h.a.object.isRequired,dispatch:h.a.func.isRequired,accountIds:j.a.orderedSet,hasMore:h.a.bool}),o=r))||o},659:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return T});var o,n,r,i=a(0),c=a(2),s=a(6),p=a(1),u=a(68),d=a.n(u),l=(a(3),a(8)),g=a(13),m=a(4),h=a.n(m),b=a(15),j=a.n(b),f=a(120),O=a(46),v=a(29),I=a(151),M=a(227),y=a(228),_=a(9),C=a(32),w=Object(_.c)({remove:{id:"groups.removed_accounts",defaultMessage:"Allow joining"}}),T=Object(l.connect)(function(e,t){var a=t.params.id;return{group:e.getIn(["groups",a]),accountIds:e.getIn(["user_lists","groups_removed_accounts",a,"items"]),hasMore:!!e.getIn(["user_lists","groups_removed_accounts",a,"next"])}})(o=Object(C.c)((r=n=function(n){function e(){for(var a,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return a=n.call.apply(n,[this].concat(t))||this,Object(p.a)(Object(c.a)(a),"handleLoadMore",d()(function(){a.props.dispatch(Object(O.o)(a.props.params.id))},300,{leading:!0})),Object(p.a)(Object(c.a)(a),"handleOnActionClick",function(e,t){return function(){a.props.dispatch(Object(O.t)(e.get("id"),t))}}),a}Object(s.a)(e,n);var t=e.prototype;return t.componentDidMount=function(){var e=this.props.params.id;this.props.dispatch(Object(O.r)(e))},t.componentDidUpdate=function(e){this.props.params.id!==e.params.id&&this.props.dispatch(Object(O.r)(this.props.params.id))},t.render=function(){var t=this,e=this.props,a=e.accountIds,o=e.hasMore,n=e.group,r=e.intl;return n&&a?Object(i.a)(M.a,{},void 0,Object(i.a)(y.a,{scrollKey:"removed_accounts",hasMore:o,onLoadMore:this.handleLoadMore,emptyMessage:Object(i.a)(v.a,{id:"group.removed_accounts.empty",defaultMessage:"This group does not has any removed accounts."})},void 0,a.map(function(e){return Object(i.a)(I.a,{id:e,actionIcon:"remove",onActionClick:t.handleOnActionClick(n,e),actionTitle:r.formatMessage(w.remove)},e)}))):Object(i.a)(M.a,{},void 0,Object(i.a)(f.a,{}))},e}(g.a),Object(p.a)(n,"propTypes",{params:h.a.object.isRequired,dispatch:h.a.func.isRequired,accountIds:j.a.orderedSet,hasMore:h.a.bool}),o=r))||o)||o},660:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return _});var o,n,r,c=a(0),i=a(2),s=a(6),p=a(1),u=a(3),d=a.n(u),l=a(8),g=a(4),m=a.n(g),h=a(59),b=a(9),j=a(32),f=a(120),O=a(580),v=a(229),I=a(11),M=a.n(I),y=Object(b.c)({title:{id:"groups.form.title",defaultMessage:"Title"},description:{id:"groups.form.description",defaultMessage:"Description"},coverImage:{id:"groups.form.coverImage",defaultMessage:"Upload new banner image (optional)"},coverImageChange:{id:"groups.form.coverImageChange",defaultMessage:"Banner image selected"},update:{id:"groups.form.update",defaultMessage:"Update group"}}),_=Object(l.connect)(function(e,t){return{group:e.getIn(["groups",t.params.id]),title:e.getIn(["group_editor","title"]),description:e.getIn(["group_editor","description"]),coverImage:e.getIn(["group_editor","coverImage"]),disabled:e.getIn(["group_editor","isSubmitting"])}},function(t){return{onTitleChange:function(e){return t(Object(h.j)("title",e))},onDescriptionChange:function(e){return t(Object(h.j)("description",e))},onCoverImageChange:function(e){return t(Object(h.j)("coverImage",e))},onSubmit:function(e){return t(Object(h.m)(e))},setUp:function(e){return t(Object(h.l)(e))}}})(o=Object(j.c)((r=n=function(a){function e(e){var t=a.call(this,e)||this;return Object(p.a)(Object(i.a)(t),"handleTitleChange",function(e){t.props.onTitleChange(e.target.value)}),Object(p.a)(Object(i.a)(t),"handleDescriptionChange",function(e){t.props.onDescriptionChange(e.target.value)}),Object(p.a)(Object(i.a)(t),"handleCoverImageChange",function(e){t.props.onCoverImageChange(e.target.files[0])}),Object(p.a)(Object(i.a)(t),"handleSubmit",function(e){e.preventDefault(),t.props.onSubmit(t.context.router.history)}),Object(p.a)(Object(i.a)(t),"handleClick",function(){t.props.onSubmit(t.context.router.history)}),e.group&&e.setUp(e.group),t}Object(s.a)(e,a);var t=e.prototype;return t.componentDidUpdate=function(e){!e.group&&this.props.group&&this.props.setUp(this.props.group)},t.render=function(){var e=this.props,t=e.group,a=e.title,o=e.description,n=e.coverImage,r=e.disabled,i=e.intl;return void 0===t?Object(c.a)(v.a,{},void 0,Object(c.a)(f.a,{})):!1===t?Object(c.a)(v.a,{},void 0,Object(c.a)(O.a,{})):Object(c.a)("form",{className:"group-form",method:"post",onSubmit:this.handleSubmit},void 0,Object(c.a)("div",{},void 0,Object(c.a)("input",{className:"standard",type:"text",value:a,disabled:r,onChange:this.handleTitleChange,placeholder:i.formatMessage(y.title)})),Object(c.a)("div",{},void 0,Object(c.a)("textarea",{className:"standard",type:"text",value:o,disabled:r,onChange:this.handleDescriptionChange,placeholder:i.formatMessage(y.description)})),Object(c.a)("div",{},void 0,Object(c.a)("label",{htmlFor:"group_cover_image",className:M()("group-form__file-label",{"group-form__file-label--selected":null!==n})},void 0,i.formatMessage(null===n?y.coverImage:y.coverImageChange)),Object(c.a)("input",{type:"file",className:"group-form__file",id:"group_cover_image",disabled:r,onChange:this.handleCoverImageChange}),Object(c.a)("button",{},void 0,i.formatMessage(y.update))))},e}(d.a.PureComponent),Object(p.a)(n,"contextTypes",{router:m.a.object}),o=r))||o)||o}}]);
//# sourceMappingURL=timeline-b7e7304bf36701b186a8.chunk.js.map