(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{677:function(t,e,a){"use strict";a.r(e),a.d(e,"default",function(){return l});var n,i=a(0),c=a(2),o=a(6),s=a(1),r=(a(3),a(8)),u=a(579),d=a(13),b=a(301),m=a(302),f=a(25),l=Object(r.connect)(function(t){return{me:t.get("me"),isLoading:!1}})(n=function(e){function t(t){var r=e.call(this,t)||this;return Object(s.a)(Object(c.a)(r),"state",{isLoading:!1,mfa_auth_needed:!1,mfa_token:"",shouldRedirect:!1}),Object(s.a)(Object(c.a)(r),"getFormData",function(t){return Object.fromEntries(Array.from(t).map(function(t){return[t.name,t.value]}))}),Object(s.a)(Object(c.a)(r),"handleSubmit",function(t){var e=r.props,a=e.dispatch,n=e.me,i=r.getFormData(t.target),c=i.username,o=i.password;a(Object(f.p)(c,o)).then(function(t){var e=t.access_token;return a(Object(f.w)(e))}).then(function(t){r.setState({shouldRedirect:!0}),"string"==typeof n&&a(Object(f.v)(t.id))}).catch(function(t){"mfa_required"===t.response.data.error&&r.setState({mfa_auth_needed:!0,mfa_token:t.response.data.mfa_token}),r.setState({isLoading:!1})}),r.setState({isLoading:!0}),t.preventDefault()}),r.handleSubmit=r.handleSubmit.bind(Object(c.a)(r)),r}return Object(o.a)(t,e),t.prototype.render=function(){var t=this.state,e=t.isLoading,a=t.mfa_auth_needed,n=t.mfa_token;return t.shouldRedirect?Object(i.a)(u.a,{to:"/"}):a?Object(i.a)(m.a,{mfa_token:n}):Object(i.a)(b.a,{handleSubmit:this.handleSubmit,isLoading:e})},t}(d.a))||n},679:function(t,e,a){"use strict";a.r(e),a.d(e,"default",function(){return l});var n,c=a(0),o=a(2),r=a(6),s=a(1),i=(a(3),a(8)),u=a(13),d=a(25),b=a(62),m=a(579),f=a(49),l=Object(i.connect)()(n=function(i){function t(){for(var n,t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return n=i.call.apply(i,[this].concat(e))||this,Object(s.a)(Object(o.a)(n),"state",{isLoading:!1,success:!1}),Object(s.a)(Object(o.a)(n),"handleSubmit",function(t){var e=n.props.dispatch,a=t.target.nickname_or_email.value;n.setState({isLoading:!0}),e(Object(d.t)(a)).then(function(){n.setState({isLoading:!1,success:!0}),e(f.a.info("Check your email for confirmation."))}).catch(function(t){n.setState({isLoading:!1})})}),n}return Object(r.a)(t,i),t.prototype.render=function(){return this.state.success?Object(c.a)(m.a,{to:"/"}):Object(c.a)(b.i,{onSubmit:this.handleSubmit},void 0,Object(c.a)("fieldset",{disabled:this.state.isLoading},void 0,Object(c.a)(b.b,{},void 0,Object(c.a)(b.l,{name:"nickname_or_email",label:"Email or username",placeholder:"me@example.com",required:!0}))),Object(c.a)("div",{className:"actions"},void 0,Object(c.a)("button",{name:"button",type:"submit",className:"btn button button-primary"},void 0,"Reset password")))},t}(u.a))||n}}]);
//# sourceMappingURL=auth_login-5d74a1c9a1d123e604bd.chunk.js.map